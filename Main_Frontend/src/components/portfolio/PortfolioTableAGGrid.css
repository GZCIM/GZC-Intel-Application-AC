/* Main AG Grid container - fills available space */
.ag-theme-alpine {
    /* Use GZC CSS custom properties for consistent theming */
    --ag-background-color: var(--gzc-bg, #111111);
    --ag-foreground-color: var(--gzc-text, #eaeaea);
    --ag-border-color: var(--gzc-border, #333333);
    --ag-header-background-color: var(--gzc-surface-alt, #1e1e1e);
    --ag-header-foreground-color: var(--gzc-text, #eaeaea);
    --ag-odd-row-background-color: var(--gzc-surface, #1e1e1e);
    --ag-even-row-background-color: var(--gzc-bg, #111111);
    --ag-hover-color: var(--gzc-surface-alt, #2a2a2a);
    --ag-selected-color: var(--gzc-surface-alt, #2a2a2a);
    --ag-range-selection-background-color: rgba(106, 168, 79, 0.2);
    --ag-range-selection-border-color: var(--gzc-success, #6aa84f);
    --ag-cell-horizontal-border: 1px solid var(--gzc-border, #333333);
    --ag-cell-vertical-border: 1px solid var(--gzc-border, #333333);
    --ag-header-cell-horizontal-border: 1px solid var(--gzc-border, #333333);
    --ag-header-cell-vertical-border: 1px solid var(--gzc-border, #333333);
    --ag-font-size: 9px;
    --ag-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
        "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
        "Helvetica Neue", sans-serif;

    /* Main AG Grid container - fills available space with proper height */
    height: 100% !important;
    min-height: 300px !important; /* Ensure minimum height for scrollbar visibility */
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important; /* outer container shouldn't scroll */
}

/* Root wrapper - contains the entire grid */
.ag-theme-alpine .ag-root-wrapper {
    width: 100% !important;
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
    max-height: 100% !important;
    padding-bottom: 0; /* align grid bottom border with component */
}

/* Root element - the main grid container */
.ag-theme-alpine .ag-root {
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
    width: 100% !important;
    max-height: 100% !important;
}

/* Body container - contains rows and viewport */
.ag-theme-alpine .ag-body {
    height: calc(
        100% - 20px
    ) !important; /* Reserve space for horizontal scrollbar */
    max-height: calc(
        100% - 20px
    ) !important; /* Reserve space for horizontal scrollbar */
    overflow: hidden !important;
    width: 100% !important;
    flex: 1 !important; /* Fill remaining space */
    min-height: 200px !important; /* Ensure minimum height for scrollbar visibility */
}

/* Body viewport - the scrollable area with data rows */
.ag-theme-alpine .ag-body-viewport {
    width: 100% !important;
    height: 100% !important; /* fill container; no artificial extra space */
    overflow-x: auto !important; /* native horizontal behavior */
    overflow-y: auto !important; /* native vertical behavior */
    scrollbar-gutter: stable both-edges;
    position: relative;
    z-index: 1;
    flex: 1 !important;
    /* Force scrollbar styling and visibility */
    scrollbar-width: auto;
    scrollbar-color: var(--gzc-success, #6aa84f) var(--gzc-surface, #1e1e1e);
    background-color: var(--gzc-bg, #111111) !important;
    /* Ensure scrollbars are always visible when content overflows */
    min-height: 0 !important; /* Allow shrinking */
    max-height: 100% !important; /* Don't exceed container */
}

/* Center columns viewport - contains the actual data */
.ag-theme-alpine .ag-center-cols-viewport {
    overflow-x: scroll !important; /* force show inner horizontal */
    overflow-y: scroll !important;
    scrollbar-gutter: stable both-edges;
}

/* Center columns container - holds the row data */
.ag-theme-alpine .ag-center-cols-container {
    /* Avoid forcing the grid wider than viewport; let columns define min width */
    min-width: 100% !important;
    width: max-content !important; /* grow only as needed for columns */
}

/* Horizontal scrollbar container */
.ag-theme-alpine .ag-body-horizontal-scroll {
    display: block !important;
}

/* Ensure scrollbars are always visible when content overflows */
.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar {
    width: 12px !important;
    height: 12px !important;
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-track {
    background: var(--gzc-surface, #1e1e1e) !important;
    border-radius: 6px !important;
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-thumb {
    background: var(--gzc-success, #6aa84f) !important;
    border-radius: 6px !important;
    border: 2px solid var(--gzc-surface, #1e1e1e) !important;
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-thumb:hover {
    background: color-mix(
        in hsl,
        var(--gzc-success, #6aa84f) 80%,
        white
    ) !important;
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-corner {
    background: var(--gzc-surface, #1e1e1e) !important;
}

/* Force scrollbar visibility for Firefox */
.ag-theme-alpine .ag-body-viewport {
    scrollbar-width: auto !important;
    scrollbar-color: var(--gzc-success, #6aa84f) var(--gzc-surface, #1e1e1e) !important;
}

.ag-theme-alpine .ag-body-horizontal-scroll-viewport {
    display: block !important;
    height: var(--gzc-hscroll-h, 16px) !important; /* responsive */
    overflow-x: auto !important; /* native horizontal behavior */
    overflow-y: hidden !important;
    width: 100% !important;
    position: relative;
    z-index: 6;
    pointer-events: auto;
    min-height: 100% !important;
    background-color: var(--gzc-bg, #111111) !important;
}

/* Custom scrollbar styling - Using GZC Color Schema */
.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar {
    width: 16px; /* Made bigger */
    height: 16px; /* Made bigger */
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-track {
    background: var(--gzc-surface, #1e1e1e);
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-thumb {
    background: var(--gzc-success, #6aa84f);
    border-radius: 8px; /* Made bigger */
}

.ag-theme-alpine .ag-body-viewport::-webkit-scrollbar-thumb:hover {
    background: color-mix(in hsl, var(--gzc-success, #6aa84f) 80%, black);
}

/* Column resize handle - Using GZC Color Schema */
.ag-theme-alpine .ag-header-cell-resize {
    background-color: var(--gzc-success, #6aa84f);
    opacity: 0.7;
}

.ag-theme-alpine .ag-header-cell-resize:hover {
    opacity: 1;
    background-color: var(--gzc-success, #6aa84f);
}

/* Selection styling - Using GZC Color Schema */
.ag-theme-alpine .ag-row-selected {
    background-color: color-mix(
        in hsl,
        var(--gzc-success, #6aa84f) 10%,
        transparent
    ) !important;
}

.ag-theme-alpine .ag-row:hover {
    background-color: var(--gzc-surface-alt, #2a2a2a) !important;
}

/* Header styling - Using GZC Color Schema */
.ag-theme-alpine .ag-header-cell {
    background-color: var(--gzc-surface-alt, #1e1e1e);
    color: var(--gzc-text, #eaeaea);
    border-color: var(--gzc-border, #333333);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 9px;
    letter-spacing: 0.5px;
}

.ag-theme-alpine .ag-header-cell:hover {
    background-color: var(--gzc-surface, #2a2a2a);
}

/* Cell content styling - Using GZC Color Schema */
.ag-theme-alpine .ag-cell {
    padding: 5px 6px;
    line-height: 1.2;
    color: var(--gzc-text, #eaeaea);
    background-color: var(--gzc-bg, #111111);
    border-color: var(--gzc-border, #333333);
    font-size: 9px;
}

/* Ensure rows fill available space */
.ag-theme-alpine .ag-row {
    height: 30px !important;
}

/* Remove any bottom padding/margin from the grid */
.ag-theme-alpine .ag-body-container {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
    height: 100% !important; /* Fill full height */
    overflow: hidden !important; /* Prevent overflow */
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .ag-theme-alpine {
        --ag-font-size: 9px;
    }

    .ag-theme-alpine .ag-cell {
        padding: 4px 5px;
    }

    .ag-theme-alpine .ag-header-cell {
        font-size: 9px;
    }
}
