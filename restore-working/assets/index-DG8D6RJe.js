const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AnalyticsTab-BaoQ_Kd0.js","assets/ui-vendor-k0rDQjvt.js","assets/react-vendor-C_4inHyB.js","assets/index-DZGo3HN3.js","assets/index-C_91Y7Ye.css","assets/Documentation-8A6G5Wr9.js","assets/ComponentPortal-BfJTBZYJ.js"])))=>i.map(i=>d[i]);
import{j as y,A as Ho,m as Ke}from"./ui-vendor-k0rDQjvt.js";import{a as nA,b as oA,r as N,R as wC,c as rA,B as iA}from"./react-vendor-C_4inHyB.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var Yd={exports:{}},Ea={},Qd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function aA(){return lb||(lb=1,function(i){function e(_,E){var L=_.length;_.push(E);e:for(;0<L;){var G=L-1>>>1,j=_[G];if(0<s(j,E))_[G]=E,_[L]=j,L=G;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var E=_[0],L=_.pop();if(L!==E){_[0]=L;e:for(var G=0,j=_.length,X=j>>>1;G<X;){var re=2*(G+1)-1,Q=_[re],Se=re+1,et=_[Se];if(0>s(Q,L))Se<j&&0>s(et,Q)?(_[G]=et,_[Se]=L,G=Se):(_[G]=Q,_[re]=L,G=re);else if(Se<j&&0>s(et,L))_[G]=et,_[Se]=L,G=Se;else break e}}return E}function s(_,E){var L=_.sortIndex-E.sortIndex;return L!==0?L:_.id-E.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var p=[],m=[],b=1,S=null,w=3,U=!1,D=!1,K=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function W(_){for(var E=n(m);E!==null;){if(E.callback===null)r(m);else if(E.startTime<=_)r(m),E.sortIndex=E.expirationTime,e(p,E);else break;E=n(m)}}function ee(_){if(K=!1,W(_),!D)if(n(p)!==null)D=!0,Ee||(Ee=!0,ut());else{var E=n(m);E!==null&&ye(ee,E.startTime-_)}}var Ee=!1,xe=-1,Ue=5,Et=-1;function _n(){return V?!0:!(i.unstable_now()-Et<Ue)}function Wt(){if(V=!1,Ee){var _=i.unstable_now();Et=_;var E=!0;try{e:{D=!1,K&&(K=!1,B(xe),xe=-1),U=!0;var L=w;try{t:{for(W(_),S=n(p);S!==null&&!(S.expirationTime>_&&_n());){var G=S.callback;if(typeof G=="function"){S.callback=null,w=S.priorityLevel;var j=G(S.expirationTime<=_);if(_=i.unstable_now(),typeof j=="function"){S.callback=j,W(_),E=!0;break t}S===n(p)&&r(p),W(_)}else r(p);S=n(p)}if(S!==null)E=!0;else{var X=n(m);X!==null&&ye(ee,X.startTime-_),E=!1}}break e}finally{S=null,w=L,U=!1}E=void 0}}finally{E?ut():Ee=!1}}}var ut;if(typeof J=="function")ut=function(){J(Wt)};else if(typeof MessageChannel<"u"){var Hn=new MessageChannel,ge=Hn.port2;Hn.port1.onmessage=Wt,ut=function(){ge.postMessage(null)}}else ut=function(){Y(Wt,0)};function ye(_,E){xe=Y(function(){_(i.unstable_now())},E)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_){_.callback=null},i.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ue=0<_?Math.floor(1e3/_):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(_){switch(w){case 1:case 2:case 3:var E=3;break;default:E=w}var L=w;w=E;try{return _()}finally{w=L}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(_,E){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=w;w=_;try{return E()}finally{w=L}},i.unstable_scheduleCallback=function(_,E,L){var G=i.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,_){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=L+j,_={id:b++,callback:E,priorityLevel:_,startTime:L,expirationTime:j,sortIndex:-1},L>G?(_.sortIndex=L,e(m,_),n(p)===null&&_===n(m)&&(K?(B(xe),xe=-1):K=!0,ye(ee,L-G))):(_.sortIndex=j,e(p,_),D||U||(D=!0,Ee||(Ee=!0,ut()))),_},i.unstable_shouldYield=_n,i.unstable_wrapCallback=function(_){var E=w;return function(){var L=w;w=E;try{return _.apply(this,arguments)}finally{w=L}}}}($d)),$d}var ub;function sA(){return ub||(ub=1,Qd.exports=aA()),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function cA(){if(db)return Ea;db=1;var i=sA(),e=nA(),n=oA();function r(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var o=t,a=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(a=o.return),t=o.return;while(t)}return o.tag===3?a:null}function d(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function f(t){if(l(t)!==t)throw Error(r(188))}function p(t){var o=t.alternate;if(!o){if(o=l(t),o===null)throw Error(r(188));return o!==t?null:t}for(var a=t,c=o;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(c=u.return,c!==null){a=c;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return f(u),t;if(h===c)return f(u),o;h=h.sibling}throw Error(r(188))}if(a.return!==c.return)a=u,c=h;else{for(var g=!1,C=u.child;C;){if(C===a){g=!0,a=u,c=h;break}if(C===c){g=!0,c=u,a=h;break}C=C.sibling}if(!g){for(C=h.child;C;){if(C===a){g=!0,a=h,c=u;break}if(C===c){g=!0,c=h,a=u;break}C=C.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:o}function m(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=m(t),o!==null)return o;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),J=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),_n=Symbol.for("react.memo_cache_sentinel"),Wt=Symbol.iterator;function ut(t){return t===null||typeof t!="object"?null:(t=Wt&&t[Wt]||t["@@iterator"],typeof t=="function"?t:null)}var Hn=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Hn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case V:return"Profiler";case K:return"StrictMode";case ee:return"Suspense";case Ee:return"SuspenseList";case Et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case J:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case W:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xe:return o=t.displayName||null,o!==null?o:ge(t.type)||"Memo";case Ue:o=t._payload,t=t._init;try{return ge(t(o))}catch{}}return null}var ye=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},G=[],j=-1;function X(t){return{current:t}}function re(t){0>j||(t.current=G[j],G[j]=null,j--)}function Q(t,o){j++,G[j]=t.current,t.current=o}var Se=X(null),et=X(null),jt=X(null),Fo=X(null);function $a(t,o){switch(Q(jt,o),Q(et,t),Q(Se,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?Py(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=Py(o),t=By(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(Se),Q(Se,t)}function Cr(){re(Se),re(et),re(jt)}function Nl(t){t.memoizedState!==null&&Q(Fo,t);var o=Se.current,a=By(o,t.type);o!==a&&(Q(et,t),Q(Se,a))}function Ja(t){et.current===t&&(re(Se),re(et)),Fo.current===t&&(re(Fo),ba._currentValue=L)}var Ml=Object.prototype.hasOwnProperty,Dl=i.unstable_scheduleCallback,Ul=i.unstable_cancelCallback,DT=i.unstable_shouldYield,UT=i.unstable_requestPaint,xn=i.unstable_now,LT=i.unstable_getCurrentPriorityLevel,yp=i.unstable_ImmediatePriority,bp=i.unstable_UserBlockingPriority,Xa=i.unstable_NormalPriority,PT=i.unstable_LowPriority,Cp=i.unstable_IdlePriority,BT=i.log,HT=i.unstable_setDisableYieldValue,_i=null,Ft=null;function co(t){if(typeof BT=="function"&&HT(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(_i,t)}catch{}}var qt=Math.clz32?Math.clz32:FT,zT=Math.log,jT=Math.LN2;function FT(t){return t>>>=0,t===0?32:31-(zT(t)/jT|0)|0}var Za=256,Wa=4194304;function qo(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function es(t,o,a){var c=t.pendingLanes;if(c===0)return 0;var u=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var C=c&134217727;return C!==0?(c=C&~h,c!==0?u=qo(c):(g&=C,g!==0?u=qo(g):a||(a=C&~t,a!==0&&(u=qo(a))))):(C=c&~h,C!==0?u=qo(C):g!==0?u=qo(g):a||(a=c&~t,a!==0&&(u=qo(a)))),u===0?0:o!==0&&o!==u&&(o&h)===0&&(h=u&-u,a=o&-o,h>=a||h===32&&(a&4194048)!==0)?o:u}function xi(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function qT(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(){var t=Za;return Za<<=1,(Za&4194048)===0&&(Za=256),t}function vp(){var t=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),t}function Ll(t){for(var o=[],a=0;31>a;a++)o.push(t);return o}function Ri(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function KT(t,o,a,c,u,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,v=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var P=31-qt(a),F=1<<P;C[P]=0,v[P]=-1;var I=k[P];if(I!==null)for(k[P]=null,P=0;P<I.length;P++){var O=I[P];O!==null&&(O.lane&=-536870913)}a&=~F}c!==0&&Tp(t,c,0),h!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~o))}function Tp(t,o,a){t.pendingLanes|=o,t.suspendedLanes&=~o;var c=31-qt(o);t.entangledLanes|=o,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function Ep(t,o){var a=t.entangledLanes|=o;for(t=t.entanglements;a;){var c=31-qt(a),u=1<<c;u&o|t[c]&o&&(t[c]|=o),a&=~u}}function Pl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ap(){var t=E.p;return t!==0?t:(t=window.event,t===void 0?32:ob(t.type))}function GT(t,o){var a=E.p;try{return E.p=t,o()}finally{E.p=a}}var lo=Math.random().toString(36).slice(2),yt="__reactFiber$"+lo,It="__reactProps$"+lo,Sr="__reactContainer$"+lo,Hl="__reactEvents$"+lo,VT="__reactListeners$"+lo,YT="__reactHandles$"+lo,wp="__reactResources$"+lo,ki="__reactMarker$"+lo;function zl(t){delete t[yt],delete t[It],delete t[Hl],delete t[VT],delete t[YT]}function vr(t){var o=t[yt];if(o)return o;for(var a=t.parentNode;a;){if(o=a[Sr]||a[yt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(t=Fy(t);t!==null;){if(a=t[yt])return a;t=Fy(t)}return o}t=a,a=t.parentNode}return null}function Tr(t){if(t=t[yt]||t[Sr]){var o=t.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return t}return null}function Ii(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(r(33))}function Er(t){var o=t[wp];return o||(o=t[wp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function it(t){t[ki]=!0}var _p=new Set,xp={};function Ko(t,o){Ar(t,o),Ar(t+"Capture",o)}function Ar(t,o){for(xp[t]=o,t=0;t<o.length;t++)_p.add(o[t])}var QT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rp={},kp={};function $T(t){return Ml.call(kp,t)?!0:Ml.call(Rp,t)?!1:QT.test(t)?kp[t]=!0:(Rp[t]=!0,!1)}function ts(t,o,a){if($T(o))if(a===null)t.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+a)}}function ns(t,o,a){if(a===null)t.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+a)}}function zn(t,o,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(o,a,""+c)}}var jl,Ip;function wr(t){if(jl===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);jl=o&&o[1]||"",Ip=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jl+t+Ip}var Fl=!1;function ql(t,o){if(!t||Fl)return"";Fl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(O){var I=O}Reflect.construct(t,[],F)}else{try{F.call()}catch(O){I=O}t.call(F.prototype)}}else{try{throw Error()}catch(O){I=O}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(O){if(O&&I&&typeof O.stack=="string")return[O.stack,I.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),g=h[0],C=h[1];if(g&&C){var v=g.split(`
`),k=C.split(`
`);for(u=c=0;c<v.length&&!v[c].includes("DetermineComponentFrameRoot");)c++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(c===v.length||u===k.length)for(c=v.length-1,u=k.length-1;1<=c&&0<=u&&v[c]!==k[u];)u--;for(;1<=c&&0<=u;c--,u--)if(v[c]!==k[u]){if(c!==1||u!==1)do if(c--,u--,0>u||v[c]!==k[u]){var P=`
`+v[c].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=c&&0<=u);break}}}finally{Fl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wr(a):""}function JT(t){switch(t.tag){case 26:case 27:case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return ql(t.type,!1);case 11:return ql(t.type.render,!1);case 1:return ql(t.type,!0);case 31:return wr("Activity");default:return""}}function Op(t){try{var o="";do o+=JT(t),t=t.return;while(t);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Np(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function XT(t){var o=Np(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),c=""+t[o];if(!t.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,h=a.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return u.call(this)},set:function(g){c=""+g,h.call(this,g)}}),Object.defineProperty(t,o,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(g){c=""+g},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function os(t){t._valueTracker||(t._valueTracker=XT(t))}function Mp(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var a=o.getValue(),c="";return t&&(c=Np(t)?t.checked?"true":"false":t.value),t=c,t!==a?(o.setValue(t),!0):!1}function rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ZT=/[\n"\\]/g;function tn(t){return t.replace(ZT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Kl(t,o,a,c,u,h,g,C){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),o!=null?g==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+en(o)):t.value!==""+en(o)&&(t.value=""+en(o)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),o!=null?Gl(t,g,en(o)):a!=null?Gl(t,g,en(a)):c!=null&&t.removeAttribute("value"),u==null&&h!=null&&(t.defaultChecked=!!h),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+en(C):t.removeAttribute("name")}function Dp(t,o,a,c,u,h,g,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),o!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||o!=null))return;a=a!=null?""+en(a):"",o=o!=null?""+en(o):a,C||o===t.value||(t.value=o),t.defaultValue=o}c=c??u,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=C?t.checked:!!c,t.defaultChecked=!!c,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Gl(t,o,a){o==="number"&&rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _r(t,o,a,c){if(t=t.options,o){o={};for(var u=0;u<a.length;u++)o["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=o.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&c&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),o=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,c&&(t[u].defaultSelected=!0);return}o!==null||t[u].disabled||(o=t[u])}o!==null&&(o.selected=!0)}}function Up(t,o,a){if(o!=null&&(o=""+en(o),o!==t.value&&(t.value=o),a==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=a!=null?""+en(a):""}function Lp(t,o,a,c){if(o==null){if(c!=null){if(a!=null)throw Error(r(92));if(ye(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),o=a}a=en(o),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function xr(t,o){if(o){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=o;return}}t.textContent=o}var WT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pp(t,o,a){var c=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":c?t.setProperty(o,a):typeof a!="number"||a===0||WT.has(o)?o==="float"?t.cssFloat=a:t[o]=(""+a).trim():t[o]=a+"px"}function Bp(t,o,a){if(o!=null&&typeof o!="object")throw Error(r(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var u in o)c=o[u],o.hasOwnProperty(u)&&a[u]!==c&&Pp(t,u,c)}else for(var h in o)o.hasOwnProperty(h)&&Pp(t,h,o[h])}function Vl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(t){return tE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yl=null;function Ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,kr=null;function Hp(t){var o=Tr(t);if(o&&(t=o.stateNode)){var a=t[It]||null;e:switch(t=o.stateNode,o.type){case"input":if(Kl(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var c=a[o];if(c!==t&&c.form===t.form){var u=c[It]||null;if(!u)throw Error(r(90));Kl(c,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(o=0;o<a.length;o++)c=a[o],c.form===t.form&&Mp(c)}break e;case"textarea":Up(t,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&_r(t,!!a.multiple,o,!1)}}}var $l=!1;function zp(t,o,a){if($l)return t(o,a);$l=!0;try{var c=t(o);return c}finally{if($l=!1,(Rr!==null||kr!==null)&&(Ks(),Rr&&(o=Rr,t=kr,kr=Rr=null,Hp(o),t)))for(o=0;o<t.length;o++)Hp(t[o])}}function Oi(t,o){var a=t.stateNode;if(a===null)return null;var c=a[It]||null;if(c===null)return null;a=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,o,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(jn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Jl=!1}var uo=null,Xl=null,as=null;function jp(){if(as)return as;var t,o=Xl,a=o.length,c,u="value"in uo?uo.value:uo.textContent,h=u.length;for(t=0;t<a&&o[t]===u[t];t++);var g=a-t;for(c=1;c<=g&&o[a-c]===u[h-c];c++);return as=u.slice(t,1<c?1-c:void 0)}function ss(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function Fp(){return!1}function Ot(t){function o(a,c,u,h,g){this._reactName=a,this._targetInst=u,this.type=c,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?cs:Fp,this.isPropagationStopped=Fp,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),o}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ot(Go),Mi=b({},Go,{view:0,detail:0}),nE=Ot(Mi),Zl,Wl,Di,us=b({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Zl=t.screenX-Di.screenX,Wl=t.screenY-Di.screenY):Wl=Zl=0,Di=t),Zl)},movementY:function(t){return"movementY"in t?t.movementY:Wl}}),qp=Ot(us),oE=b({},us,{dataTransfer:0}),rE=Ot(oE),iE=b({},Mi,{relatedTarget:0}),eu=Ot(iE),aE=b({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),sE=Ot(aE),cE=b({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lE=Ot(cE),uE=b({},Go,{data:0}),Kp=Ot(uE),dE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pE(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=fE[t])?!!o[t]:!1}function tu(){return pE}var gE=b({},Mi,{key:function(t){if(t.key){var o=dE[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mE=Ot(gE),yE=b({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gp=Ot(yE),bE=b({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),CE=Ot(bE),SE=b({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),vE=Ot(SE),TE=b({},us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EE=Ot(TE),AE=b({},Go,{newState:0,oldState:0}),wE=Ot(AE),_E=[9,13,27,32],nu=jn&&"CompositionEvent"in window,Ui=null;jn&&"documentMode"in document&&(Ui=document.documentMode);var xE=jn&&"TextEvent"in window&&!Ui,Vp=jn&&(!nu||Ui&&8<Ui&&11>=Ui),Yp=" ",Qp=!1;function $p(t,o){switch(t){case"keyup":return _E.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function RE(t,o){switch(t){case"compositionend":return Jp(o);case"keypress":return o.which!==32?null:(Qp=!0,Yp);case"textInput":return t=o.data,t===Yp&&Qp?null:t;default:return null}}function kE(t,o){if(Ir)return t==="compositionend"||!nu&&$p(t,o)?(t=jp(),as=Xl=uo=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vp&&o.locale!=="ko"?null:o.data;default:return null}}var IE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!IE[t.type]:o==="textarea"}function Zp(t,o,a,c){Rr?kr?kr.push(c):kr=[c]:Rr=c,o=Js(o,"onChange"),0<o.length&&(a=new ls("onChange","change",null,a,c),t.push({event:a,listeners:o}))}var Li=null,Pi=null;function OE(t){Ny(t,0)}function ds(t){var o=Ii(t);if(Mp(o))return t}function Wp(t,o){if(t==="change")return o}var eg=!1;if(jn){var ou;if(jn){var ru="oninput"in document;if(!ru){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),ru=typeof tg.oninput=="function"}ou=ru}else ou=!1;eg=ou&&(!document.documentMode||9<document.documentMode)}function ng(){Li&&(Li.detachEvent("onpropertychange",og),Pi=Li=null)}function og(t){if(t.propertyName==="value"&&ds(Pi)){var o=[];Zp(o,Pi,t,Ql(t)),zp(OE,o)}}function NE(t,o,a){t==="focusin"?(ng(),Li=o,Pi=a,Li.attachEvent("onpropertychange",og)):t==="focusout"&&ng()}function ME(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ds(Pi)}function DE(t,o){if(t==="click")return ds(o)}function UE(t,o){if(t==="input"||t==="change")return ds(o)}function LE(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Kt=typeof Object.is=="function"?Object.is:LE;function Bi(t,o){if(Kt(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var a=Object.keys(t),c=Object.keys(o);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var u=a[c];if(!Ml.call(o,u)||!Kt(t[u],o[u]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,o){var a=rg(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=o&&c>=o)return{node:a,offset:o-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function ag(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?ag(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=rs(t.document);o instanceof t.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)t=o.contentWindow;else break;o=rs(t.document)}return o}function iu(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var PE=jn&&"documentMode"in document&&11>=document.documentMode,Or=null,au=null,Hi=null,su=!1;function cg(t,o,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;su||Or==null||Or!==rs(c)||(c=Or,"selectionStart"in c&&iu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hi&&Bi(Hi,c)||(Hi=c,c=Js(au,"onSelect"),0<c.length&&(o=new ls("onSelect","select",null,o,a),t.push({event:o,listeners:c}),o.target=Or)))}function Vo(t,o){var a={};return a[t.toLowerCase()]=o.toLowerCase(),a["Webkit"+t]="webkit"+o,a["Moz"+t]="moz"+o,a}var Nr={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionrun:Vo("Transition","TransitionRun"),transitionstart:Vo("Transition","TransitionStart"),transitioncancel:Vo("Transition","TransitionCancel"),transitionend:Vo("Transition","TransitionEnd")},cu={},lg={};jn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Yo(t){if(cu[t])return cu[t];if(!Nr[t])return t;var o=Nr[t],a;for(a in o)if(o.hasOwnProperty(a)&&a in lg)return cu[t]=o[a];return t}var ug=Yo("animationend"),dg=Yo("animationiteration"),hg=Yo("animationstart"),BE=Yo("transitionrun"),HE=Yo("transitionstart"),zE=Yo("transitioncancel"),fg=Yo("transitionend"),pg=new Map,lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lu.push("scrollEnd");function pn(t,o){pg.set(t,o),Ko(o,[t])}var gg=new WeakMap;function nn(t,o){if(typeof t=="object"&&t!==null){var a=gg.get(t);return a!==void 0?a:(o={value:t,source:o,stack:Op(o)},gg.set(t,o),o)}return{value:t,source:o,stack:Op(o)}}var on=[],Mr=0,uu=0;function hs(){for(var t=Mr,o=uu=Mr=0;o<t;){var a=on[o];on[o++]=null;var c=on[o];on[o++]=null;var u=on[o];on[o++]=null;var h=on[o];if(on[o++]=null,c!==null&&u!==null){var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}h!==0&&mg(a,u,h)}}function fs(t,o,a,c){on[Mr++]=t,on[Mr++]=o,on[Mr++]=a,on[Mr++]=c,uu|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function du(t,o,a,c){return fs(t,o,a,c),ps(t)}function Dr(t,o){return fs(t,null,null,o),ps(t)}function mg(t,o,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var u=!1,h=t.return;h!==null;)h.childLanes|=a,c=h.alternate,c!==null&&(c.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(u=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,u&&o!==null&&(u=31-qt(a),t=h.hiddenUpdates,c=t[u],c===null?t[u]=[o]:c.push(o),o.lane=a|536870912),h):null}function ps(t){if(50<ua)throw ua=0,yd=null,Error(r(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var Ur={};function jE(t,o,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,o,a,c){return new jE(t,o,a,c)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fn(t,o){var a=t.alternate;return a===null?(a=Gt(t.tag,o,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=o,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,o=t.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function yg(t,o){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,o=a.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function gs(t,o,a,c,u,h){var g=0;if(c=t,typeof t=="function")hu(t)&&(g=1);else if(typeof t=="string")g=q0(t,a,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Et:return t=Gt(31,a,o,u),t.elementType=Et,t.lanes=h,t;case D:return Qo(a.children,u,h,o);case K:g=8,u|=24;break;case V:return t=Gt(12,a,o,u|2),t.elementType=V,t.lanes=h,t;case ee:return t=Gt(13,a,o,u),t.elementType=ee,t.lanes=h,t;case Ee:return t=Gt(19,a,o,u),t.elementType=Ee,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case J:g=10;break e;case B:g=9;break e;case W:g=11;break e;case xe:g=14;break e;case Ue:g=16,c=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),c=null}return o=Gt(g,a,o,u),o.elementType=t,o.type=c,o.lanes=h,o}function Qo(t,o,a,c){return t=Gt(7,t,c,o),t.lanes=a,t}function fu(t,o,a){return t=Gt(6,t,null,o),t.lanes=a,t}function pu(t,o,a){return o=Gt(4,t.children!==null?t.children:[],t.key,o),o.lanes=a,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var Lr=[],Pr=0,ms=null,ys=0,rn=[],an=0,$o=null,qn=1,Kn="";function Jo(t,o){Lr[Pr++]=ys,Lr[Pr++]=ms,ms=t,ys=o}function bg(t,o,a){rn[an++]=qn,rn[an++]=Kn,rn[an++]=$o,$o=t;var c=qn;t=Kn;var u=32-qt(c)-1;c&=~(1<<u),a+=1;var h=32-qt(o)+u;if(30<h){var g=u-u%5;h=(c&(1<<g)-1).toString(32),c>>=g,u-=g,qn=1<<32-qt(o)+u|a<<u|c,Kn=h+t}else qn=1<<h|a<<u|c,Kn=t}function gu(t){t.return!==null&&(Jo(t,1),bg(t,1,0))}function mu(t){for(;t===ms;)ms=Lr[--Pr],Lr[Pr]=null,ys=Lr[--Pr],Lr[Pr]=null;for(;t===$o;)$o=rn[--an],rn[an]=null,Kn=rn[--an],rn[an]=null,qn=rn[--an],rn[an]=null}var At=null,Fe=null,Te=!1,Xo=null,Rn=!1,yu=Error(r(519));function Zo(t){var o=Error(r(418,""));throw Fi(nn(o,t)),yu}function Cg(t){var o=t.stateNode,a=t.type,c=t.memoizedProps;switch(o[yt]=t,o[It]=c,a){case"dialog":pe("cancel",o),pe("close",o);break;case"iframe":case"object":case"embed":pe("load",o);break;case"video":case"audio":for(a=0;a<ha.length;a++)pe(ha[a],o);break;case"source":pe("error",o);break;case"img":case"image":case"link":pe("error",o),pe("load",o);break;case"details":pe("toggle",o);break;case"input":pe("invalid",o),Dp(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),os(o);break;case"select":pe("invalid",o);break;case"textarea":pe("invalid",o),Lp(o,c.value,c.defaultValue,c.children),os(o)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||c.suppressHydrationWarning===!0||Ly(o.textContent,a)?(c.popover!=null&&(pe("beforetoggle",o),pe("toggle",o)),c.onScroll!=null&&pe("scroll",o),c.onScrollEnd!=null&&pe("scrollend",o),c.onClick!=null&&(o.onclick=Xs),o=!0):o=!1,o||Zo(t)}function Sg(t){for(At=t.return;At;)switch(At.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:At=At.return}}function zi(t){if(t!==At)return!1;if(!Te)return Sg(t),Te=!0,!1;var o=t.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&Fe&&Zo(t),Sg(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(o===0){Fe=mn(t.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;t=t.nextSibling}Fe=null}}else o===27?(o=Fe,xo(t.type)?(t=Pd,Pd=null,Fe=t):Fe=o):Fe=At?mn(t.stateNode.nextSibling):null;return!0}function ji(){Fe=At=null,Te=!1}function vg(){var t=Xo;return t!==null&&(Dt===null?Dt=t:Dt.push.apply(Dt,t),Xo=null),t}function Fi(t){Xo===null?Xo=[t]:Xo.push(t)}var bu=X(null),Wo=null,Gn=null;function ho(t,o,a){Q(bu,o._currentValue),o._currentValue=a}function Vn(t){t._currentValue=bu.current,re(bu)}function Cu(t,o,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),t===a)break;t=t.return}}function Su(t,o,a,c){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){var g=u.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=u;for(var v=0;v<o.length;v++)if(C.context===o[v]){h.lanes|=a,C=h.alternate,C!==null&&(C.lanes|=a),Cu(h.return,a,t),c||(g=null);break e}h=C.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Cu(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function qi(t,o,a,c){t=null;for(var u=o,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var C=u.type;Kt(u.pendingProps.value,g.value)||(t!==null?t.push(C):t=[C])}}else if(u===Fo.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ba):t=[ba])}u=u.return}t!==null&&Su(o,t,a,c),o.flags|=262144}function bs(t){for(t=t.firstContext;t!==null;){if(!Kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){Wo=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bt(t){return Tg(Wo,t)}function Cs(t,o){return Wo===null&&er(t),Tg(t,o)}function Tg(t,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Gn===null){if(t===null)throw Error(r(308));Gn=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else Gn=Gn.next=o;return a}var FE=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){o.aborted=!0,t.forEach(function(a){return a()})}},qE=i.unstable_scheduleCallback,KE=i.unstable_NormalPriority,tt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new FE,data:new Map,refCount:0}}function Ki(t){t.refCount--,t.refCount===0&&qE(KE,function(){t.controller.abort()})}var Gi=null,Tu=0,Br=0,Hr=null;function GE(t,o){if(Gi===null){var a=Gi=[];Tu=0,Br=Ad(),Hr={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Tu++,o.then(Eg,Eg),o}function Eg(){if(--Tu===0&&Gi!==null){Hr!==null&&(Hr.status="fulfilled");var t=Gi;Gi=null,Br=0,Hr=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function VE(t,o){var a=[],c={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){c.status="fulfilled",c.value=o;for(var u=0;u<a.length;u++)(0,a[u])(o)},function(u){for(c.status="rejected",c.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),c}var Ag=_.S;_.S=function(t,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&GE(t,o),Ag!==null&&Ag(t,o)};var tr=X(null);function Eu(){var t=tr.current;return t!==null?t:Le.pooledCache}function Ss(t,o){o===null?Q(tr,tr.current):Q(tr,o.pool)}function wg(){var t=Eu();return t===null?null:{parent:tt._currentValue,pool:t}}var Vi=Error(r(460)),_g=Error(r(474)),vs=Error(r(542)),Au={then:function(){}};function xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ts(){}function Rg(t,o,a){switch(a=t[a],a===void 0?t.push(o):a!==o&&(o.then(Ts,Ts),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Ig(t),t;default:if(typeof o.status=="string")o.then(Ts,Ts);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=o,t.status="pending",t.then(function(c){if(o.status==="pending"){var u=o;u.status="fulfilled",u.value=c}},function(c){if(o.status==="pending"){var u=o;u.status="rejected",u.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Ig(t),t}throw Yi=o,Vi}}var Yi=null;function kg(){if(Yi===null)throw Error(r(459));var t=Yi;return Yi=null,t}function Ig(t){if(t===Vi||t===vs)throw Error(r(483))}var fo=!1;function wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function po(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function go(t,o,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ae&2)!==0){var u=c.pending;return u===null?o.next=o:(o.next=u.next,u.next=o),c.pending=o,o=ps(t),mg(t,null,a),o}return fs(t,c,o,a),ps(t)}function Qi(t,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var c=o.lanes;c&=t.pendingLanes,a|=c,o.lanes=a,Ep(t,a)}}function xu(t,o){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?u=h=o:h=h.next=o}else u=h=o;a={baseState:c.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=o:t.next=o,a.lastBaseUpdate=o}var Ru=!1;function $i(){if(Ru){var t=Hr;if(t!==null)throw t}}function Ji(t,o,a,c){Ru=!1;var u=t.updateQueue;fo=!1;var h=u.firstBaseUpdate,g=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var v=C,k=v.next;v.next=null,g===null?h=k:g.next=k,g=v;var P=t.alternate;P!==null&&(P=P.updateQueue,C=P.lastBaseUpdate,C!==g&&(C===null?P.firstBaseUpdate=k:C.next=k,P.lastBaseUpdate=v))}if(h!==null){var F=u.baseState;g=0,P=k=v=null,C=h;do{var I=C.lane&-536870913,O=I!==C.lane;if(O?(be&I)===I:(c&I)===I){I!==0&&I===Br&&(Ru=!0),P!==null&&(P=P.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ce=t,ae=C;I=o;var Ie=a;switch(ae.tag){case 1:if(ce=ae.payload,typeof ce=="function"){F=ce.call(Ie,F,I);break e}F=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ae.payload,I=typeof ce=="function"?ce.call(Ie,F,I):ce,I==null)break e;F=b({},F,I);break e;case 2:fo=!0}}I=C.callback,I!==null&&(t.flags|=64,O&&(t.flags|=8192),O=u.callbacks,O===null?u.callbacks=[I]:O.push(I))}else O={lane:I,tag:C.tag,payload:C.payload,callback:C.callback,next:null},P===null?(k=P=O,v=F):P=P.next=O,g|=I;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;O=C,C=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);P===null&&(v=F),u.baseState=v,u.firstBaseUpdate=k,u.lastBaseUpdate=P,h===null&&(u.shared.lanes=0),Eo|=g,t.lanes=g,t.memoizedState=F}}function Og(t,o){if(typeof t!="function")throw Error(r(191,t));t.call(o)}function Ng(t,o){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],o)}var zr=X(null),Es=X(0);function Mg(t,o){t=Wn,Q(Es,t),Q(zr,o),Wn=t|o.baseLanes}function ku(){Q(Es,Wn),Q(zr,zr.current)}function Iu(){Wn=Es.current,re(zr),re(Es)}var mo=0,ue=null,Re=null,Qe=null,As=!1,jr=!1,nr=!1,ws=0,Xi=0,Fr=null,YE=0;function Ve(){throw Error(r(321))}function Ou(t,o){if(o===null)return!1;for(var a=0;a<o.length&&a<t.length;a++)if(!Kt(t[a],o[a]))return!1;return!0}function Nu(t,o,a,c,u,h){return mo=h,ue=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_.H=t===null||t.memoizedState===null?mm:ym,nr=!1,h=a(c,u),nr=!1,jr&&(h=Ug(o,a,c,u)),Dg(t),h}function Dg(t){_.H=Os;var o=Re!==null&&Re.next!==null;if(mo=0,Qe=Re=ue=null,As=!1,Xi=0,Fr=null,o)throw Error(r(300));t===null||at||(t=t.dependencies,t!==null&&bs(t)&&(at=!0))}function Ug(t,o,a,c){ue=t;var u=0;do{if(jr&&(Fr=null),Xi=0,jr=!1,25<=u)throw Error(r(301));if(u+=1,Qe=Re=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}_.H=e0,h=o(a,c)}while(jr);return h}function QE(){var t=_.H,o=t.useState()[0];return o=typeof o.then=="function"?Zi(o):o,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ue.flags|=1024),o}function Mu(){var t=ws!==0;return ws=0,t}function Du(t,o,a){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~a}function Uu(t){if(As){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}As=!1}mo=0,Qe=Re=ue=null,jr=!1,Xi=ws=0,Fr=null}function Nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ue.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function $e(){if(Re===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var o=Qe===null?ue.memoizedState:Qe.next;if(o!==null)Qe=o,Re=t;else{if(t===null)throw ue.alternate===null?Error(r(467)):Error(r(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Qe===null?ue.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zi(t){var o=Xi;return Xi+=1,Fr===null&&(Fr=[]),t=Rg(Fr,t,o),o=ue,(Qe===null?o.memoizedState:Qe.next)===null&&(o=o.alternate,_.H=o===null||o.memoizedState===null?mm:ym),t}function _s(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zi(t);if(t.$$typeof===J)return bt(t)}throw Error(r(438,String(t)))}function Pu(t){var o=null,a=ue.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var c=ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(u){return u.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Lu(),ue.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(t),c=0;c<t;c++)a[c]=_n;return o.index++,a}function Yn(t,o){return typeof o=="function"?o(t):o}function xs(t){var o=$e();return Bu(o,Re,t)}function Bu(t,o,a){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var u=t.baseQueue,h=c.pending;if(h!==null){if(u!==null){var g=u.next;u.next=h.next,h.next=g}o.baseQueue=u=h,c.pending=null}if(h=t.baseState,u===null)t.memoizedState=h;else{o=u.next;var C=g=null,v=null,k=o,P=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(be&F)===F:(mo&F)===F){var I=k.revertLane;if(I===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===Br&&(P=!0);else if((mo&I)===I){k=k.next,I===Br&&(P=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},v===null?(C=v=F,g=h):v=v.next=F,ue.lanes|=I,Eo|=I;F=k.action,nr&&a(h,F),h=k.hasEagerState?k.eagerState:a(h,F)}else I={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},v===null?(C=v=I,g=h):v=v.next=I,ue.lanes|=F,Eo|=F;k=k.next}while(k!==null&&k!==o);if(v===null?g=h:v.next=C,!Kt(h,t.memoizedState)&&(at=!0,P&&(a=Hr,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=v,c.lastRenderedState=h}return u===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Hu(t){var o=$e(),a=o.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=a.dispatch,u=a.pending,h=o.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do h=t(h,g.action),g=g.next;while(g!==u);Kt(h,o.memoizedState)||(at=!0),o.memoizedState=h,o.baseQueue===null&&(o.baseState=h),a.lastRenderedState=h}return[h,c]}function Lg(t,o,a){var c=ue,u=$e(),h=Te;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=o();var g=!Kt((Re||u).memoizedState,a);g&&(u.memoizedState=a,at=!0),u=u.queue;var C=Hg.bind(null,c,u,t);if(Wi(2048,8,C,[t]),u.getSnapshot!==o||g||Qe!==null&&Qe.memoizedState.tag&1){if(c.flags|=2048,qr(9,Rs(),Bg.bind(null,c,u,a,o),null),Le===null)throw Error(r(349));h||(mo&124)!==0||Pg(c,o,a)}return a}function Pg(t,o,a){t.flags|=16384,t={getSnapshot:o,value:a},o=ue.updateQueue,o===null?(o=Lu(),ue.updateQueue=o,o.stores=[t]):(a=o.stores,a===null?o.stores=[t]:a.push(t))}function Bg(t,o,a,c){o.value=a,o.getSnapshot=c,zg(o)&&jg(t)}function Hg(t,o,a){return a(function(){zg(o)&&jg(t)})}function zg(t){var o=t.getSnapshot;t=t.value;try{var a=o();return!Kt(t,a)}catch{return!0}}function jg(t){var o=Dr(t,2);o!==null&&Jt(o,t,2)}function zu(t){var o=Nt();if(typeof t=="function"){var a=t;if(t=a(),nr){co(!0);try{a()}finally{co(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:t},o}function Fg(t,o,a,c){return t.baseState=a,Bu(t,Re,typeof c=="function"?c:Yn)}function $E(t,o,a,c,u){if(Is(t))throw Error(r(485));if(t=o.action,t!==null){var h={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};_.T!==null?a(!0):h.isTransition=!1,c(h),a=o.pending,a===null?(h.next=o.pending=h,qg(o,h)):(h.next=a.next,o.pending=a.next=h)}}function qg(t,o){var a=o.action,c=o.payload,u=t.state;if(o.isTransition){var h=_.T,g={};_.T=g;try{var C=a(u,c),v=_.S;v!==null&&v(g,C),Kg(t,o,C)}catch(k){ju(t,o,k)}finally{_.T=h}}else try{h=a(u,c),Kg(t,o,h)}catch(k){ju(t,o,k)}}function Kg(t,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Gg(t,o,c)},function(c){return ju(t,o,c)}):Gg(t,o,a)}function Gg(t,o,a){o.status="fulfilled",o.value=a,Vg(o),t.state=a,o=t.pending,o!==null&&(a=o.next,a===o?t.pending=null:(a=a.next,o.next=a,qg(t,a)))}function ju(t,o,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=a,Vg(o),o=o.next;while(o!==c)}t.action=null}function Vg(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function Yg(t,o){return o}function Qg(t,o){if(Te){var a=Le.formState;if(a!==null){e:{var c=ue;if(Te){if(Fe){t:{for(var u=Fe,h=Rn;u.nodeType!==8;){if(!h){u=null;break t}if(u=mn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Fe=mn(u.nextSibling),c=u.data==="F!";break e}}Zo(c)}c=!1}c&&(o=a[0])}}return a=Nt(),a.memoizedState=a.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:o},a.queue=c,a=fm.bind(null,ue,c),c.dispatch=a,c=zu(!1),h=Vu.bind(null,ue,!1,c.queue),c=Nt(),u={state:o,dispatch:null,action:t,pending:null},c.queue=u,a=$E.bind(null,ue,u,h,a),u.dispatch=a,c.memoizedState=t,[o,a,!1]}function $g(t){var o=$e();return Jg(o,Re,t)}function Jg(t,o,a){if(o=Bu(t,o,Yg)[0],t=xs(Yn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Zi(o)}catch(g){throw g===Vi?vs:g}else c=o;o=$e();var u=o.queue,h=u.dispatch;return a!==o.memoizedState&&(ue.flags|=2048,qr(9,Rs(),JE.bind(null,u,a),null)),[c,h,t]}function JE(t,o){t.action=o}function Xg(t){var o=$e(),a=Re;if(a!==null)return Jg(o,a,t);$e(),o=o.memoizedState,a=$e();var c=a.queue.dispatch;return a.memoizedState=t,[o,c,!1]}function qr(t,o,a,c){return t={tag:t,create:a,deps:c,inst:o,next:null},o=ue.updateQueue,o===null&&(o=Lu(),ue.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,o.lastEffect=t),t}function Rs(){return{destroy:void 0,resource:void 0}}function Zg(){return $e().memoizedState}function ks(t,o,a,c){var u=Nt();c=c===void 0?null:c,ue.flags|=t,u.memoizedState=qr(1|o,Rs(),a,c)}function Wi(t,o,a,c){var u=$e();c=c===void 0?null:c;var h=u.memoizedState.inst;Re!==null&&c!==null&&Ou(c,Re.memoizedState.deps)?u.memoizedState=qr(o,h,a,c):(ue.flags|=t,u.memoizedState=qr(1|o,h,a,c))}function Wg(t,o){ks(8390656,8,t,o)}function em(t,o){Wi(2048,8,t,o)}function tm(t,o){return Wi(4,2,t,o)}function nm(t,o){return Wi(4,4,t,o)}function om(t,o){if(typeof o=="function"){t=t();var a=o(t);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function rm(t,o,a){a=a!=null?a.concat([t]):null,Wi(4,4,om.bind(null,o,t),a)}function Fu(){}function im(t,o){var a=$e();o=o===void 0?null:o;var c=a.memoizedState;return o!==null&&Ou(o,c[1])?c[0]:(a.memoizedState=[t,o],t)}function am(t,o){var a=$e();o=o===void 0?null:o;var c=a.memoizedState;if(o!==null&&Ou(o,c[1]))return c[0];if(c=t(),nr){co(!0);try{t()}finally{co(!1)}}return a.memoizedState=[c,o],c}function qu(t,o,a){return a===void 0||(mo&1073741824)!==0?t.memoizedState=o:(t.memoizedState=a,t=ly(),ue.lanes|=t,Eo|=t,a)}function sm(t,o,a,c){return Kt(a,o)?a:zr.current!==null?(t=qu(t,a,c),Kt(t,o)||(at=!0),t):(mo&42)===0?(at=!0,t.memoizedState=a):(t=ly(),ue.lanes|=t,Eo|=t,o)}function cm(t,o,a,c,u){var h=E.p;E.p=h!==0&&8>h?h:8;var g=_.T,C={};_.T=C,Vu(t,!1,o,a);try{var v=u(),k=_.S;if(k!==null&&k(C,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var P=VE(v,c);ea(t,o,P,$t(t))}else ea(t,o,c,$t(t))}catch(F){ea(t,o,{then:function(){},status:"rejected",reason:F},$t())}finally{E.p=h,_.T=g}}function XE(){}function Ku(t,o,a,c){if(t.tag!==5)throw Error(r(476));var u=lm(t).queue;cm(t,u,o,L,a===null?XE:function(){return um(t),a(c)})}function lm(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:L},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:a},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function um(t){var o=lm(t).next.queue;ea(t,o,{},$t())}function Gu(){return bt(ba)}function dm(){return $e().memoizedState}function hm(){return $e().memoizedState}function ZE(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var a=$t();t=po(a);var c=go(o,t,a);c!==null&&(Jt(c,o,a),Qi(c,o,a)),o={cache:vu()},t.payload=o;return}o=o.return}}function WE(t,o,a){var c=$t();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Is(t)?pm(o,a):(a=du(t,o,a,c),a!==null&&(Jt(a,t,c),gm(a,o,c)))}function fm(t,o,a){var c=$t();ea(t,o,a,c)}function ea(t,o,a,c){var u={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Is(t))pm(o,u);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=o.lastRenderedReducer,h!==null))try{var g=o.lastRenderedState,C=h(g,a);if(u.hasEagerState=!0,u.eagerState=C,Kt(C,g))return fs(t,o,u,0),Le===null&&hs(),!1}catch{}finally{}if(a=du(t,o,u,c),a!==null)return Jt(a,t,c),gm(a,o,c),!0}return!1}function Vu(t,o,a,c){if(c={lane:2,revertLane:Ad(),action:c,hasEagerState:!1,eagerState:null,next:null},Is(t)){if(o)throw Error(r(479))}else o=du(t,a,c,2),o!==null&&Jt(o,t,2)}function Is(t){var o=t.alternate;return t===ue||o!==null&&o===ue}function pm(t,o){jr=As=!0;var a=t.pending;a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o}function gm(t,o,a){if((a&4194048)!==0){var c=o.lanes;c&=t.pendingLanes,a|=c,o.lanes=a,Ep(t,a)}}var Os={readContext:bt,use:_s,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},mm={readContext:bt,use:_s,useCallback:function(t,o){return Nt().memoizedState=[t,o===void 0?null:o],t},useContext:bt,useEffect:Wg,useImperativeHandle:function(t,o,a){a=a!=null?a.concat([t]):null,ks(4194308,4,om.bind(null,o,t),a)},useLayoutEffect:function(t,o){return ks(4194308,4,t,o)},useInsertionEffect:function(t,o){ks(4,2,t,o)},useMemo:function(t,o){var a=Nt();o=o===void 0?null:o;var c=t();if(nr){co(!0);try{t()}finally{co(!1)}}return a.memoizedState=[c,o],c},useReducer:function(t,o,a){var c=Nt();if(a!==void 0){var u=a(o);if(nr){co(!0);try{a(o)}finally{co(!1)}}}else u=o;return c.memoizedState=c.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},c.queue=t,t=t.dispatch=WE.bind(null,ue,t),[c.memoizedState,t]},useRef:function(t){var o=Nt();return t={current:t},o.memoizedState=t},useState:function(t){t=zu(t);var o=t.queue,a=fm.bind(null,ue,o);return o.dispatch=a,[t.memoizedState,a]},useDebugValue:Fu,useDeferredValue:function(t,o){var a=Nt();return qu(a,t,o)},useTransition:function(){var t=zu(!1);return t=cm.bind(null,ue,t.queue,!0,!1),Nt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,a){var c=ue,u=Nt();if(Te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=o(),Le===null)throw Error(r(349));(be&124)!==0||Pg(c,o,a)}u.memoizedState=a;var h={value:a,getSnapshot:o};return u.queue=h,Wg(Hg.bind(null,c,h,t),[t]),c.flags|=2048,qr(9,Rs(),Bg.bind(null,c,h,a,o),null),a},useId:function(){var t=Nt(),o=Le.identifierPrefix;if(Te){var a=Kn,c=qn;a=(c&~(1<<32-qt(c)-1)).toString(32)+a,o="«"+o+"R"+a,a=ws++,0<a&&(o+="H"+a.toString(32)),o+="»"}else a=YE++,o="«"+o+"r"+a.toString(32)+"»";return t.memoizedState=o},useHostTransitionStatus:Gu,useFormState:Qg,useActionState:Qg,useOptimistic:function(t){var o=Nt();o.memoizedState=o.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Vu.bind(null,ue,!0,a),a.dispatch=o,[t,o]},useMemoCache:Pu,useCacheRefresh:function(){return Nt().memoizedState=ZE.bind(null,ue)}},ym={readContext:bt,use:_s,useCallback:im,useContext:bt,useEffect:em,useImperativeHandle:rm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:am,useReducer:xs,useRef:Zg,useState:function(){return xs(Yn)},useDebugValue:Fu,useDeferredValue:function(t,o){var a=$e();return sm(a,Re.memoizedState,t,o)},useTransition:function(){var t=xs(Yn)[0],o=$e().memoizedState;return[typeof t=="boolean"?t:Zi(t),o]},useSyncExternalStore:Lg,useId:dm,useHostTransitionStatus:Gu,useFormState:$g,useActionState:$g,useOptimistic:function(t,o){var a=$e();return Fg(a,Re,t,o)},useMemoCache:Pu,useCacheRefresh:hm},e0={readContext:bt,use:_s,useCallback:im,useContext:bt,useEffect:em,useImperativeHandle:rm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:am,useReducer:Hu,useRef:Zg,useState:function(){return Hu(Yn)},useDebugValue:Fu,useDeferredValue:function(t,o){var a=$e();return Re===null?qu(a,t,o):sm(a,Re.memoizedState,t,o)},useTransition:function(){var t=Hu(Yn)[0],o=$e().memoizedState;return[typeof t=="boolean"?t:Zi(t),o]},useSyncExternalStore:Lg,useId:dm,useHostTransitionStatus:Gu,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,o){var a=$e();return Re!==null?Fg(a,Re,t,o):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pu,useCacheRefresh:hm},Kr=null,ta=0;function Ns(t){var o=ta;return ta+=1,Kr===null&&(Kr=[]),Rg(Kr,t,o)}function na(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function Ms(t,o){throw o.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(o),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function bm(t){var o=t._init;return o(t._payload)}function Cm(t){function o(x,T){if(t){var R=x.deletions;R===null?(x.deletions=[T],x.flags|=16):R.push(T)}}function a(x,T){if(!t)return null;for(;T!==null;)o(x,T),T=T.sibling;return null}function c(x){for(var T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function u(x,T){return x=Fn(x,T),x.index=0,x.sibling=null,x}function h(x,T,R){return x.index=R,t?(R=x.alternate,R!==null?(R=R.index,R<T?(x.flags|=67108866,T):R):(x.flags|=67108866,T)):(x.flags|=1048576,T)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function C(x,T,R,z){return T===null||T.tag!==6?(T=fu(R,x.mode,z),T.return=x,T):(T=u(T,R),T.return=x,T)}function v(x,T,R,z){var ne=R.type;return ne===D?P(x,T,R.props.children,z,R.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ue&&bm(ne)===T.type)?(T=u(T,R.props),na(T,R),T.return=x,T):(T=gs(R.type,R.key,R.props,null,x.mode,z),na(T,R),T.return=x,T)}function k(x,T,R,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=pu(R,x.mode,z),T.return=x,T):(T=u(T,R.children||[]),T.return=x,T)}function P(x,T,R,z,ne){return T===null||T.tag!==7?(T=Qo(R,x.mode,z,ne),T.return=x,T):(T=u(T,R),T.return=x,T)}function F(x,T,R){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=fu(""+T,x.mode,R),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return R=gs(T.type,T.key,T.props,null,x.mode,R),na(R,T),R.return=x,R;case U:return T=pu(T,x.mode,R),T.return=x,T;case Ue:var z=T._init;return T=z(T._payload),F(x,T,R)}if(ye(T)||ut(T))return T=Qo(T,x.mode,R,null),T.return=x,T;if(typeof T.then=="function")return F(x,Ns(T),R);if(T.$$typeof===J)return F(x,Cs(x,T),R);Ms(x,T)}return null}function I(x,T,R,z){var ne=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ne!==null?null:C(x,T,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return R.key===ne?v(x,T,R,z):null;case U:return R.key===ne?k(x,T,R,z):null;case Ue:return ne=R._init,R=ne(R._payload),I(x,T,R,z)}if(ye(R)||ut(R))return ne!==null?null:P(x,T,R,z,null);if(typeof R.then=="function")return I(x,T,Ns(R),z);if(R.$$typeof===J)return I(x,T,Cs(x,R),z);Ms(x,R)}return null}function O(x,T,R,z,ne){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return x=x.get(R)||null,C(T,x,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return x=x.get(z.key===null?R:z.key)||null,v(T,x,z,ne);case U:return x=x.get(z.key===null?R:z.key)||null,k(T,x,z,ne);case Ue:var de=z._init;return z=de(z._payload),O(x,T,R,z,ne)}if(ye(z)||ut(z))return x=x.get(R)||null,P(T,x,z,ne,null);if(typeof z.then=="function")return O(x,T,R,Ns(z),ne);if(z.$$typeof===J)return O(x,T,R,Cs(T,z),ne);Ms(T,z)}return null}function ce(x,T,R,z){for(var ne=null,de=null,oe=T,se=T=0,ct=null;oe!==null&&se<R.length;se++){oe.index>se?(ct=oe,oe=null):ct=oe.sibling;var ve=I(x,oe,R[se],z);if(ve===null){oe===null&&(oe=ct);break}t&&oe&&ve.alternate===null&&o(x,oe),T=h(ve,T,se),de===null?ne=ve:de.sibling=ve,de=ve,oe=ct}if(se===R.length)return a(x,oe),Te&&Jo(x,se),ne;if(oe===null){for(;se<R.length;se++)oe=F(x,R[se],z),oe!==null&&(T=h(oe,T,se),de===null?ne=oe:de.sibling=oe,de=oe);return Te&&Jo(x,se),ne}for(oe=c(oe);se<R.length;se++)ct=O(oe,x,se,R[se],z),ct!==null&&(t&&ct.alternate!==null&&oe.delete(ct.key===null?se:ct.key),T=h(ct,T,se),de===null?ne=ct:de.sibling=ct,de=ct);return t&&oe.forEach(function(No){return o(x,No)}),Te&&Jo(x,se),ne}function ae(x,T,R,z){if(R==null)throw Error(r(151));for(var ne=null,de=null,oe=T,se=T=0,ct=null,ve=R.next();oe!==null&&!ve.done;se++,ve=R.next()){oe.index>se?(ct=oe,oe=null):ct=oe.sibling;var No=I(x,oe,ve.value,z);if(No===null){oe===null&&(oe=ct);break}t&&oe&&No.alternate===null&&o(x,oe),T=h(No,T,se),de===null?ne=No:de.sibling=No,de=No,oe=ct}if(ve.done)return a(x,oe),Te&&Jo(x,se),ne;if(oe===null){for(;!ve.done;se++,ve=R.next())ve=F(x,ve.value,z),ve!==null&&(T=h(ve,T,se),de===null?ne=ve:de.sibling=ve,de=ve);return Te&&Jo(x,se),ne}for(oe=c(oe);!ve.done;se++,ve=R.next())ve=O(oe,x,se,ve.value,z),ve!==null&&(t&&ve.alternate!==null&&oe.delete(ve.key===null?se:ve.key),T=h(ve,T,se),de===null?ne=ve:de.sibling=ve,de=ve);return t&&oe.forEach(function(tA){return o(x,tA)}),Te&&Jo(x,se),ne}function Ie(x,T,R,z){if(typeof R=="object"&&R!==null&&R.type===D&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case w:e:{for(var ne=R.key;T!==null;){if(T.key===ne){if(ne=R.type,ne===D){if(T.tag===7){a(x,T.sibling),z=u(T,R.props.children),z.return=x,x=z;break e}}else if(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ue&&bm(ne)===T.type){a(x,T.sibling),z=u(T,R.props),na(z,R),z.return=x,x=z;break e}a(x,T);break}else o(x,T);T=T.sibling}R.type===D?(z=Qo(R.props.children,x.mode,z,R.key),z.return=x,x=z):(z=gs(R.type,R.key,R.props,null,x.mode,z),na(z,R),z.return=x,x=z)}return g(x);case U:e:{for(ne=R.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){a(x,T.sibling),z=u(T,R.children||[]),z.return=x,x=z;break e}else{a(x,T);break}else o(x,T);T=T.sibling}z=pu(R,x.mode,z),z.return=x,x=z}return g(x);case Ue:return ne=R._init,R=ne(R._payload),Ie(x,T,R,z)}if(ye(R))return ce(x,T,R,z);if(ut(R)){if(ne=ut(R),typeof ne!="function")throw Error(r(150));return R=ne.call(R),ae(x,T,R,z)}if(typeof R.then=="function")return Ie(x,T,Ns(R),z);if(R.$$typeof===J)return Ie(x,T,Cs(x,R),z);Ms(x,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,T!==null&&T.tag===6?(a(x,T.sibling),z=u(T,R),z.return=x,x=z):(a(x,T),z=fu(R,x.mode,z),z.return=x,x=z),g(x)):a(x,T)}return function(x,T,R,z){try{ta=0;var ne=Ie(x,T,R,z);return Kr=null,ne}catch(oe){if(oe===Vi||oe===vs)throw oe;var de=Gt(29,oe,null,x.mode);return de.lanes=z,de.return=x,de}finally{}}}var Gr=Cm(!0),Sm=Cm(!1),sn=X(null),kn=null;function yo(t){var o=t.alternate;Q(nt,nt.current&1),Q(sn,t),kn===null&&(o===null||zr.current!==null||o.memoizedState!==null)&&(kn=t)}function vm(t){if(t.tag===22){if(Q(nt,nt.current),Q(sn,t),kn===null){var o=t.alternate;o!==null&&o.memoizedState!==null&&(kn=t)}}else bo()}function bo(){Q(nt,nt.current),Q(sn,sn.current)}function Qn(t){re(sn),kn===t&&(kn=null),re(nt)}var nt=X(0);function Ds(t){for(var o=t;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ld(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Yu(t,o,a,c){o=t.memoizedState,a=a(c,o),a=a==null?o:b({},o,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qu={enqueueSetState:function(t,o,a){t=t._reactInternals;var c=$t(),u=po(c);u.payload=o,a!=null&&(u.callback=a),o=go(t,u,c),o!==null&&(Jt(o,t,c),Qi(o,t,c))},enqueueReplaceState:function(t,o,a){t=t._reactInternals;var c=$t(),u=po(c);u.tag=1,u.payload=o,a!=null&&(u.callback=a),o=go(t,u,c),o!==null&&(Jt(o,t,c),Qi(o,t,c))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var a=$t(),c=po(a);c.tag=2,o!=null&&(c.callback=o),o=go(t,c,a),o!==null&&(Jt(o,t,a),Qi(o,t,a))}};function Tm(t,o,a,c,u,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,h,g):o.prototype&&o.prototype.isPureReactComponent?!Bi(a,c)||!Bi(u,h):!0}function Em(t,o,a,c){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,c),o.state!==t&&Qu.enqueueReplaceState(o,o.state,null)}function or(t,o){var a=o;if("ref"in o){a={};for(var c in o)c!=="ref"&&(a[c]=o[c])}if(t=t.defaultProps){a===o&&(a=b({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Us=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Am(t){Us(t)}function wm(t){console.error(t)}function _m(t){Us(t)}function Ls(t,o){try{var a=t.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function xm(t,o,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function $u(t,o,a){return a=po(a),a.tag=3,a.payload={element:null},a.callback=function(){Ls(t,o)},a}function Rm(t){return t=po(t),t.tag=3,t}function km(t,o,a,c){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=c.value;t.payload=function(){return u(h)},t.callback=function(){xm(o,a,c)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){xm(o,a,c),typeof u!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function t0(t,o,a,c,u){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=a.alternate,o!==null&&qi(o,a,u,!0),a=sn.current,a!==null){switch(a.tag){case 13:return kn===null?Cd():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=u,c===Au?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([c]):o.add(c),vd(t,c,u)),!1;case 22:return a.flags|=65536,c===Au?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([c]):a.add(c)),vd(t,c,u)),!1}throw Error(r(435,a.tag))}return vd(t,c,u),Cd(),!1}if(Te)return o=sn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=u,c!==yu&&(t=Error(r(422),{cause:c}),Fi(nn(t,a)))):(c!==yu&&(o=Error(r(423),{cause:c}),Fi(nn(o,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,c=nn(c,a),u=$u(t.stateNode,c,u),xu(t,u),qe!==4&&(qe=2)),!1;var h=Error(r(520),{cause:c});if(h=nn(h,a),la===null?la=[h]:la.push(h),qe!==4&&(qe=2),o===null)return!0;c=nn(c,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=$u(a.stateNode,c,t),xu(a,t),!1;case 1:if(o=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ao===null||!Ao.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Rm(u),km(u,t,a,c),xu(a,u),!1}a=a.return}while(a!==null);return!1}var Im=Error(r(461)),at=!1;function dt(t,o,a,c){o.child=t===null?Sm(o,null,a,c):Gr(o,t.child,a,c)}function Om(t,o,a,c,u){a=a.render;var h=o.ref;if("ref"in c){var g={};for(var C in c)C!=="ref"&&(g[C]=c[C])}else g=c;return er(o),c=Nu(t,o,a,g,h,u),C=Mu(),t!==null&&!at?(Du(t,o,u),$n(t,o,u)):(Te&&C&&gu(o),o.flags|=1,dt(t,o,c,u),o.child)}function Nm(t,o,a,c,u){if(t===null){var h=a.type;return typeof h=="function"&&!hu(h)&&h.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=h,Mm(t,o,h,c,u)):(t=gs(a.type,null,c,o,o.mode,u),t.ref=o.ref,t.return=o,o.child=t)}if(h=t.child,!od(t,u)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Bi,a(g,c)&&t.ref===o.ref)return $n(t,o,u)}return o.flags|=1,t=Fn(h,c),t.ref=o.ref,t.return=o,o.child=t}function Mm(t,o,a,c,u){if(t!==null){var h=t.memoizedProps;if(Bi(h,c)&&t.ref===o.ref)if(at=!1,o.pendingProps=c=h,od(t,u))(t.flags&131072)!==0&&(at=!0);else return o.lanes=t.lanes,$n(t,o,u)}return Ju(t,o,a,c,u)}function Dm(t,o,a){var c=o.pendingProps,u=c.children,h=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=h!==null?h.baseLanes|a:a,t!==null){for(u=o.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;o.childLanes=h&~c}else o.childLanes=0,o.child=null;return Um(t,o,c,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ss(o,h!==null?h.cachePool:null),h!==null?Mg(o,h):ku(),vm(o);else return o.lanes=o.childLanes=536870912,Um(t,o,h!==null?h.baseLanes|a:a,a)}else h!==null?(Ss(o,h.cachePool),Mg(o,h),bo(),o.memoizedState=null):(t!==null&&Ss(o,null),ku(),bo());return dt(t,o,u,a),o.child}function Um(t,o,a,c){var u=Eu();return u=u===null?null:{parent:tt._currentValue,pool:u},o.memoizedState={baseLanes:a,cachePool:u},t!==null&&Ss(o,null),ku(),vm(o),t!==null&&qi(t,o,c,!0),null}function Ps(t,o){var a=o.ref;if(a===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(o.flags|=4194816)}}function Ju(t,o,a,c,u){return er(o),a=Nu(t,o,a,c,void 0,u),c=Mu(),t!==null&&!at?(Du(t,o,u),$n(t,o,u)):(Te&&c&&gu(o),o.flags|=1,dt(t,o,a,u),o.child)}function Lm(t,o,a,c,u,h){return er(o),o.updateQueue=null,a=Ug(o,c,a,u),Dg(t),c=Mu(),t!==null&&!at?(Du(t,o,h),$n(t,o,h)):(Te&&c&&gu(o),o.flags|=1,dt(t,o,a,h),o.child)}function Pm(t,o,a,c,u){if(er(o),o.stateNode===null){var h=Ur,g=a.contextType;typeof g=="object"&&g!==null&&(h=bt(g)),h=new a(c,h),o.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Qu,o.stateNode=h,h._reactInternals=o,h=o.stateNode,h.props=c,h.state=o.memoizedState,h.refs={},wu(o),g=a.contextType,h.context=typeof g=="object"&&g!==null?bt(g):Ur,h.state=o.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yu(o,a,g,c),h.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Qu.enqueueReplaceState(h,h.state,null),Ji(o,c,h,u),$i(),h.state=o.memoizedState),typeof h.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(t===null){h=o.stateNode;var C=o.memoizedProps,v=or(a,C);h.props=v;var k=h.context,P=a.contextType;g=Ur,typeof P=="object"&&P!==null&&(g=bt(P));var F=a.getDerivedStateFromProps;P=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||k!==g)&&Em(o,h,c,g),fo=!1;var I=o.memoizedState;h.state=I,Ji(o,c,h,u),$i(),k=o.memoizedState,C||I!==k||fo?(typeof F=="function"&&(Yu(o,a,F,c),k=o.memoizedState),(v=fo||Tm(o,a,v,c,I,k,g))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(o.flags|=4194308)):(typeof h.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=k),h.props=c,h.state=k,h.context=g,c=v):(typeof h.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{h=o.stateNode,_u(t,o),g=o.memoizedProps,P=or(a,g),h.props=P,F=o.pendingProps,I=h.context,k=a.contextType,v=Ur,typeof k=="object"&&k!==null&&(v=bt(k)),C=a.getDerivedStateFromProps,(k=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==F||I!==v)&&Em(o,h,c,v),fo=!1,I=o.memoizedState,h.state=I,Ji(o,c,h,u),$i();var O=o.memoizedState;g!==F||I!==O||fo||t!==null&&t.dependencies!==null&&bs(t.dependencies)?(typeof C=="function"&&(Yu(o,a,C,c),O=o.memoizedState),(P=fo||Tm(o,a,P,c,I,O,v)||t!==null&&t.dependencies!==null&&bs(t.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,O,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,O,v)),typeof h.componentDidUpdate=="function"&&(o.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(o.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=O),h.props=c,h.state=O,h.context=v,c=P):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(o.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&I===t.memoizedState||(o.flags|=1024),c=!1)}return h=c,Ps(t,o),c=(o.flags&128)!==0,h||c?(h=o.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:h.render(),o.flags|=1,t!==null&&c?(o.child=Gr(o,t.child,null,u),o.child=Gr(o,null,a,u)):dt(t,o,a,u),o.memoizedState=h.state,t=o.child):t=$n(t,o,u),t}function Bm(t,o,a,c){return ji(),o.flags|=256,dt(t,o,a,c),o.child}var Xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(t){return{baseLanes:t,cachePool:wg()}}function Wu(t,o,a){return t=t!==null?t.childLanes&~a:0,o&&(t|=cn),t}function Hm(t,o,a){var c=o.pendingProps,u=!1,h=(o.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(nt.current&2)!==0),g&&(u=!0,o.flags&=-129),g=(o.flags&32)!==0,o.flags&=-33,t===null){if(Te){if(u?yo(o):bo(),Te){var C=Fe,v;if(v=C){e:{for(v=C,C=Rn;v.nodeType!==8;){if(!C){C=null;break e}if(v=mn(v.nextSibling),v===null){C=null;break e}}C=v}C!==null?(o.memoizedState={dehydrated:C,treeContext:$o!==null?{id:qn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},v=Gt(18,null,null,0),v.stateNode=C,v.return=o,o.child=v,At=o,Fe=null,v=!0):v=!1}v||Zo(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Ld(C)?o.lanes=32:o.lanes=536870912,null;Qn(o)}return C=c.children,c=c.fallback,u?(bo(),u=o.mode,C=Bs({mode:"hidden",children:C},u),c=Qo(c,u,a,null),C.return=o,c.return=o,C.sibling=c,o.child=C,u=o.child,u.memoizedState=Zu(a),u.childLanes=Wu(t,g,a),o.memoizedState=Xu,c):(yo(o),ed(o,C))}if(v=t.memoizedState,v!==null&&(C=v.dehydrated,C!==null)){if(h)o.flags&256?(yo(o),o.flags&=-257,o=td(t,o,a)):o.memoizedState!==null?(bo(),o.child=t.child,o.flags|=128,o=null):(bo(),u=c.fallback,C=o.mode,c=Bs({mode:"visible",children:c.children},C),u=Qo(u,C,a,null),u.flags|=2,c.return=o,u.return=o,c.sibling=u,o.child=c,Gr(o,t.child,null,a),c=o.child,c.memoizedState=Zu(a),c.childLanes=Wu(t,g,a),o.memoizedState=Xu,o=u);else if(yo(o),Ld(C)){if(g=C.nextSibling&&C.nextSibling.dataset,g)var k=g.dgst;g=k,c=Error(r(419)),c.stack="",c.digest=g,Fi({value:c,source:null,stack:null}),o=td(t,o,a)}else if(at||qi(t,o,a,!1),g=(a&t.childLanes)!==0,at||g){if(g=Le,g!==null&&(c=a&-a,c=(c&42)!==0?1:Pl(c),c=(c&(g.suspendedLanes|a))!==0?0:c,c!==0&&c!==v.retryLane))throw v.retryLane=c,Dr(t,c),Jt(g,t,c),Im;C.data==="$?"||Cd(),o=td(t,o,a)}else C.data==="$?"?(o.flags|=192,o.child=t.child,o=null):(t=v.treeContext,Fe=mn(C.nextSibling),At=o,Te=!0,Xo=null,Rn=!1,t!==null&&(rn[an++]=qn,rn[an++]=Kn,rn[an++]=$o,qn=t.id,Kn=t.overflow,$o=o),o=ed(o,c.children),o.flags|=4096);return o}return u?(bo(),u=c.fallback,C=o.mode,v=t.child,k=v.sibling,c=Fn(v,{mode:"hidden",children:c.children}),c.subtreeFlags=v.subtreeFlags&65011712,k!==null?u=Fn(k,u):(u=Qo(u,C,a,null),u.flags|=2),u.return=o,c.return=o,c.sibling=u,o.child=c,c=u,u=o.child,C=t.child.memoizedState,C===null?C=Zu(a):(v=C.cachePool,v!==null?(k=tt._currentValue,v=v.parent!==k?{parent:k,pool:k}:v):v=wg(),C={baseLanes:C.baseLanes|a,cachePool:v}),u.memoizedState=C,u.childLanes=Wu(t,g,a),o.memoizedState=Xu,c):(yo(o),a=t.child,t=a.sibling,a=Fn(a,{mode:"visible",children:c.children}),a.return=o,a.sibling=null,t!==null&&(g=o.deletions,g===null?(o.deletions=[t],o.flags|=16):g.push(t)),o.child=a,o.memoizedState=null,a)}function ed(t,o){return o=Bs({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Bs(t,o){return t=Gt(22,t,null,o),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function td(t,o,a){return Gr(o,t.child,null,a),t=ed(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function zm(t,o,a){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o),Cu(t.return,o,a)}function nd(t,o,a,c,u){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:u}:(h.isBackwards=o,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=a,h.tailMode=u)}function jm(t,o,a){var c=o.pendingProps,u=c.revealOrder,h=c.tail;if(dt(t,o,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zm(t,a,o);else if(t.tag===19)zm(t,a,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(Q(nt,c),u){case"forwards":for(a=o.child,u=null;a!==null;)t=a.alternate,t!==null&&Ds(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=o.child,o.child=null):(u=a.sibling,a.sibling=null),nd(o,!1,u,a,h);break;case"backwards":for(a=null,u=o.child,o.child=null;u!==null;){if(t=u.alternate,t!==null&&Ds(t)===null){o.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}nd(o,!0,a,null,h);break;case"together":nd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $n(t,o,a){if(t!==null&&(o.dependencies=t.dependencies),Eo|=o.lanes,(a&o.childLanes)===0)if(t!==null){if(qi(t,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(r(153));if(o.child!==null){for(t=o.child,a=Fn(t,t.pendingProps),o.child=a,a.return=o;t.sibling!==null;)t=t.sibling,a=a.sibling=Fn(t,t.pendingProps),a.return=o;a.sibling=null}return o.child}function od(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&bs(t)))}function n0(t,o,a){switch(o.tag){case 3:$a(o,o.stateNode.containerInfo),ho(o,tt,t.memoizedState.cache),ji();break;case 27:case 5:Nl(o);break;case 4:$a(o,o.stateNode.containerInfo);break;case 10:ho(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(yo(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Hm(t,o,a):(yo(o),t=$n(t,o,a),t!==null?t.sibling:null);yo(o);break;case 19:var u=(t.flags&128)!==0;if(c=(a&o.childLanes)!==0,c||(qi(t,o,a,!1),c=(a&o.childLanes)!==0),u){if(c)return jm(t,o,a);o.flags|=128}if(u=o.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Q(nt,nt.current),c)break;return null;case 22:case 23:return o.lanes=0,Dm(t,o,a);case 24:ho(o,tt,t.memoizedState.cache)}return $n(t,o,a)}function Fm(t,o,a){if(t!==null)if(t.memoizedProps!==o.pendingProps)at=!0;else{if(!od(t,a)&&(o.flags&128)===0)return at=!1,n0(t,o,a);at=(t.flags&131072)!==0}else at=!1,Te&&(o.flags&1048576)!==0&&bg(o,ys,o.index);switch(o.lanes=0,o.tag){case 16:e:{t=o.pendingProps;var c=o.elementType,u=c._init;if(c=u(c._payload),o.type=c,typeof c=="function")hu(c)?(t=or(c,t),o.tag=1,o=Pm(null,o,c,t,a)):(o.tag=0,o=Ju(null,o,c,t,a));else{if(c!=null){if(u=c.$$typeof,u===W){o.tag=11,o=Om(null,o,c,t,a);break e}else if(u===xe){o.tag=14,o=Nm(null,o,c,t,a);break e}}throw o=ge(c)||c,Error(r(306,o,""))}}return o;case 0:return Ju(t,o,o.type,o.pendingProps,a);case 1:return c=o.type,u=or(c,o.pendingProps),Pm(t,o,c,u,a);case 3:e:{if($a(o,o.stateNode.containerInfo),t===null)throw Error(r(387));c=o.pendingProps;var h=o.memoizedState;u=h.element,_u(t,o),Ji(o,c,null,a);var g=o.memoizedState;if(c=g.cache,ho(o,tt,c),c!==h.cache&&Su(o,[tt],a,!0),$i(),c=g.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:g.cache},o.updateQueue.baseState=h,o.memoizedState=h,o.flags&256){o=Bm(t,o,c,a);break e}else if(c!==u){u=nn(Error(r(424)),o),Fi(u),o=Bm(t,o,c,a);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=mn(t.firstChild),At=o,Te=!0,Xo=null,Rn=!0,a=Sm(o,null,c,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ji(),c===u){o=$n(t,o,a);break e}dt(t,o,c,a)}o=o.child}return o;case 26:return Ps(t,o),t===null?(a=Vy(o.type,null,o.pendingProps,null))?o.memoizedState=a:Te||(a=o.type,t=o.pendingProps,c=Zs(jt.current).createElement(a),c[yt]=o,c[It]=t,ft(c,a,t),it(c),o.stateNode=c):o.memoizedState=Vy(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return Nl(o),t===null&&Te&&(c=o.stateNode=qy(o.type,o.pendingProps,jt.current),At=o,Rn=!0,u=Fe,xo(o.type)?(Pd=u,Fe=mn(c.firstChild)):Fe=u),dt(t,o,o.pendingProps.children,a),Ps(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Te&&((u=c=Fe)&&(c=I0(c,o.type,o.pendingProps,Rn),c!==null?(o.stateNode=c,At=o,Fe=mn(c.firstChild),Rn=!1,u=!0):u=!1),u||Zo(o)),Nl(o),u=o.type,h=o.pendingProps,g=t!==null?t.memoizedProps:null,c=h.children,Md(u,h)?c=null:g!==null&&Md(u,g)&&(o.flags|=32),o.memoizedState!==null&&(u=Nu(t,o,QE,null,null,a),ba._currentValue=u),Ps(t,o),dt(t,o,c,a),o.child;case 6:return t===null&&Te&&((t=a=Fe)&&(a=O0(a,o.pendingProps,Rn),a!==null?(o.stateNode=a,At=o,Fe=null,t=!0):t=!1),t||Zo(o)),null;case 13:return Hm(t,o,a);case 4:return $a(o,o.stateNode.containerInfo),c=o.pendingProps,t===null?o.child=Gr(o,null,c,a):dt(t,o,c,a),o.child;case 11:return Om(t,o,o.type,o.pendingProps,a);case 7:return dt(t,o,o.pendingProps,a),o.child;case 8:return dt(t,o,o.pendingProps.children,a),o.child;case 12:return dt(t,o,o.pendingProps.children,a),o.child;case 10:return c=o.pendingProps,ho(o,o.type,c.value),dt(t,o,c.children,a),o.child;case 9:return u=o.type._context,c=o.pendingProps.children,er(o),u=bt(u),c=c(u),o.flags|=1,dt(t,o,c,a),o.child;case 14:return Nm(t,o,o.type,o.pendingProps,a);case 15:return Mm(t,o,o.type,o.pendingProps,a);case 19:return jm(t,o,a);case 31:return c=o.pendingProps,a=o.mode,c={mode:c.mode,children:c.children},t===null?(a=Bs(c,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=Fn(t.child,c),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return Dm(t,o,a);case 24:return er(o),c=bt(tt),t===null?(u=Eu(),u===null&&(u=Le,h=vu(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),o.memoizedState={parent:c,cache:u},wu(o),ho(o,tt,u)):((t.lanes&a)!==0&&(_u(t,o),Ji(o,null,null,a),$i()),u=t.memoizedState,h=o.memoizedState,u.parent!==c?(u={parent:c,cache:c},o.memoizedState=u,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=u),ho(o,tt,c)):(c=h.cache,ho(o,tt,c),c!==u.cache&&Su(o,[tt],a,!0))),dt(t,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Jn(t){t.flags|=4}function qm(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xy(o)){if(o=sn.current,o!==null&&((be&4194048)===be?kn!==null:(be&62914560)!==be&&(be&536870912)===0||o!==kn))throw Yi=Au,_g;t.flags|=8192}}function Hs(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?vp():536870912,t.lanes|=o,$r|=o)}function oa(t,o){if(!Te)switch(t.tailMode){case"hidden":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function je(t){var o=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(o)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,c|=u.subtreeFlags&65011712,c|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,c|=u.subtreeFlags,c|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=c,t.childLanes=a,o}function o0(t,o,a){var c=o.pendingProps;switch(mu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(o),null;case 1:return je(o),null;case 3:return a=o.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Vn(tt),Cr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(zi(o)?Jn(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vg())),je(o),null;case 26:return a=o.memoizedState,t===null?(Jn(o),a!==null?(je(o),qm(o,a)):(je(o),o.flags&=-16777217)):a?a!==t.memoizedState?(Jn(o),je(o),qm(o,a)):(je(o),o.flags&=-16777217):(t.memoizedProps!==c&&Jn(o),je(o),o.flags&=-16777217),null;case 27:Ja(o),a=jt.current;var u=o.type;if(t!==null&&o.stateNode!=null)t.memoizedProps!==c&&Jn(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return je(o),null}t=Se.current,zi(o)?Cg(o):(t=qy(u,c,a),o.stateNode=t,Jn(o))}return je(o),null;case 5:if(Ja(o),a=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==c&&Jn(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return je(o),null}if(t=Se.current,zi(o))Cg(o);else{switch(u=Zs(jt.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?u.createElement("select",{is:c.is}):u.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?u.createElement(a,{is:c.is}):u.createElement(a)}}t[yt]=o,t[It]=c;e:for(u=o.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o.stateNode=t;e:switch(ft(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Jn(o)}}return je(o),o.flags&=-16777217,null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==c&&Jn(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(t=jt.current,zi(o)){if(t=o.stateNode,a=o.memoizedProps,c=null,u=At,u!==null)switch(u.tag){case 27:case 5:c=u.memoizedProps}t[yt]=o,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Ly(t.nodeValue,a)),t||Zo(o)}else t=Zs(t).createTextNode(c),t[yt]=o,o.stateNode=t}return je(o),null;case 13:if(c=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=zi(o),c!==null&&c.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=o.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[yt]=o}else ji(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;je(o),u=!1}else u=vg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return o.flags&256?(Qn(o),o):(Qn(o),null)}if(Qn(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=o.child,u=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(u=c.alternate.memoizedState.cachePool.pool);var h=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==u&&(c.flags|=2048)}return a!==t&&a&&(o.child.flags|=8192),Hs(o,o.updateQueue),je(o),null;case 4:return Cr(),t===null&&Rd(o.stateNode.containerInfo),je(o),null;case 10:return Vn(o.type),je(o),null;case 19:if(re(nt),u=o.memoizedState,u===null)return je(o),null;if(c=(o.flags&128)!==0,h=u.rendering,h===null)if(c)oa(u,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(h=Ds(t),h!==null){for(o.flags|=128,oa(u,!1),t=h.updateQueue,o.updateQueue=t,Hs(o,t),o.subtreeFlags=0,t=a,a=o.child;a!==null;)yg(a,t),a=a.sibling;return Q(nt,nt.current&1|2),o.child}t=t.sibling}u.tail!==null&&xn()>Fs&&(o.flags|=128,c=!0,oa(u,!1),o.lanes=4194304)}else{if(!c)if(t=Ds(h),t!==null){if(o.flags|=128,c=!0,t=t.updateQueue,o.updateQueue=t,Hs(o,t),oa(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Te)return je(o),null}else 2*xn()-u.renderingStartTime>Fs&&a!==536870912&&(o.flags|=128,c=!0,oa(u,!1),o.lanes=4194304);u.isBackwards?(h.sibling=o.child,o.child=h):(t=u.last,t!==null?t.sibling=h:o.child=h,u.last=h)}return u.tail!==null?(o=u.tail,u.rendering=o,u.tail=o.sibling,u.renderingStartTime=xn(),o.sibling=null,t=nt.current,Q(nt,c?t&1|2:t&1),o):(je(o),null);case 22:case 23:return Qn(o),Iu(),c=o.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(a&536870912)!==0&&(o.flags&128)===0&&(je(o),o.subtreeFlags&6&&(o.flags|=8192)):je(o),a=o.updateQueue,a!==null&&Hs(o,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==a&&(o.flags|=2048),t!==null&&re(tr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Vn(tt),je(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function r0(t,o){switch(mu(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Vn(tt),Cr(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return Ja(o),null;case 13:if(Qn(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ji()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return re(nt),null;case 4:return Cr(),null;case 10:return Vn(o.type),null;case 22:case 23:return Qn(o),Iu(),t!==null&&re(tr),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return Vn(tt),null;case 25:return null;default:return null}}function Km(t,o){switch(mu(o),o.tag){case 3:Vn(tt),Cr();break;case 26:case 27:case 5:Ja(o);break;case 4:Cr();break;case 13:Qn(o);break;case 19:re(nt);break;case 10:Vn(o.type);break;case 22:case 23:Qn(o),Iu(),t!==null&&re(tr);break;case 24:Vn(tt)}}function ra(t,o){try{var a=o.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var u=c.next;a=u;do{if((a.tag&t)===t){c=void 0;var h=a.create,g=a.inst;c=h(),g.destroy=c}a=a.next}while(a!==u)}}catch(C){Me(o,o.return,C)}}function Co(t,o,a){try{var c=o.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var h=u.next;c=h;do{if((c.tag&t)===t){var g=c.inst,C=g.destroy;if(C!==void 0){g.destroy=void 0,u=o;var v=a,k=C;try{k()}catch(P){Me(u,v,P)}}}c=c.next}while(c!==h)}}catch(P){Me(o,o.return,P)}}function Gm(t){var o=t.updateQueue;if(o!==null){var a=t.stateNode;try{Ng(o,a)}catch(c){Me(t,t.return,c)}}}function Vm(t,o,a){a.props=or(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Me(t,o,c)}}function ia(t,o){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(u){Me(t,o,u)}}function In(t,o){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(u){Me(t,o,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Me(t,o,u)}else a.current=null}function Ym(t){var o=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(u){Me(t,t.return,u)}}function rd(t,o,a){try{var c=t.stateNode;w0(c,t.type,a,o),c[It]=o}catch(u){Me(t,t.return,u)}}function Qm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xo(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,o,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(t),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Xs));else if(c!==4&&(c===27&&xo(t.type)&&(a=t.stateNode,o=null),t=t.child,t!==null))for(ad(t,o,a),t=t.sibling;t!==null;)ad(t,o,a),t=t.sibling}function zs(t,o,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,o?a.insertBefore(t,o):a.appendChild(t);else if(c!==4&&(c===27&&xo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zs(t,o,a),t=t.sibling;t!==null;)zs(t,o,a),t=t.sibling}function $m(t){var o=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,u=o.attributes;u.length;)o.removeAttributeNode(u[0]);ft(o,c,a),o[yt]=t,o[It]=a}catch(h){Me(t,t.return,h)}}var Xn=!1,Ye=!1,sd=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,st=null;function i0(t,o){if(t=t.containerInfo,Od=rc,t=sg(t),iu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,C=-1,v=-1,k=0,P=0,F=t,I=null;t:for(;;){for(var O;F!==a||u!==0&&F.nodeType!==3||(C=g+u),F!==h||c!==0&&F.nodeType!==3||(v=g+c),F.nodeType===3&&(g+=F.nodeValue.length),(O=F.firstChild)!==null;)I=F,F=O;for(;;){if(F===t)break t;if(I===a&&++k===u&&(C=g),I===h&&++P===c&&(v=g),(O=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=O}a=C===-1||v===-1?null:{start:C,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},rc=!1,st=o;st!==null;)if(o=st,t=o.child,(o.subtreeFlags&1024)!==0&&t!==null)t.return=o,st=t;else for(;st!==null;){switch(o=st,h=o.alternate,t=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=o,u=h.memoizedProps,h=h.memoizedState,c=a.stateNode;try{var ce=or(a.type,u,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(ce,h),c.__reactInternalSnapshotBeforeUpdate=t}catch(ae){Me(a,a.return,ae)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,a=t.nodeType,a===9)Ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=o.sibling,t!==null){t.return=o.return,st=t;break}st=o.return}}function Xm(t,o,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:So(t,a),c&4&&ra(5,a);break;case 1:if(So(t,a),c&4)if(t=a.stateNode,o===null)try{t.componentDidMount()}catch(g){Me(a,a.return,g)}else{var u=or(a.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(u,o,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Me(a,a.return,g)}}c&64&&Gm(a),c&512&&ia(a,a.return);break;case 3:if(So(t,a),c&64&&(t=a.updateQueue,t!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Ng(t,o)}catch(g){Me(a,a.return,g)}}break;case 27:o===null&&c&4&&$m(a);case 26:case 5:So(t,a),o===null&&c&4&&Ym(a),c&512&&ia(a,a.return);break;case 12:So(t,a);break;case 13:So(t,a),c&4&&ey(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=p0.bind(null,a),N0(t,a))));break;case 22:if(c=a.memoizedState!==null||Xn,!c){o=o!==null&&o.memoizedState!==null||Ye,u=Xn;var h=Ye;Xn=c,(Ye=o)&&!h?vo(t,a,(a.subtreeFlags&8772)!==0):So(t,a),Xn=u,Ye=h}break;case 30:break;default:So(t,a)}}function Zm(t){var o=t.alternate;o!==null&&(t.alternate=null,Zm(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&zl(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,Mt=!1;function Zn(t,o,a){for(a=a.child;a!==null;)Wm(t,o,a),a=a.sibling}function Wm(t,o,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(_i,a)}catch{}switch(a.tag){case 26:Ye||In(a,o),Zn(t,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||In(a,o);var c=Be,u=Mt;xo(a.type)&&(Be=a.stateNode,Mt=!1),Zn(t,o,a),pa(a.stateNode),Be=c,Mt=u;break;case 5:Ye||In(a,o);case 6:if(c=Be,u=Mt,Be=null,Zn(t,o,a),Be=c,Mt=u,Be!==null)if(Mt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(h){Me(a,o,h)}else try{Be.removeChild(a.stateNode)}catch(h){Me(a,o,h)}break;case 18:Be!==null&&(Mt?(t=Be,jy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ta(t)):jy(Be,a.stateNode));break;case 4:c=Be,u=Mt,Be=a.stateNode.containerInfo,Mt=!0,Zn(t,o,a),Be=c,Mt=u;break;case 0:case 11:case 14:case 15:Ye||Co(2,a,o),Ye||Co(4,a,o),Zn(t,o,a);break;case 1:Ye||(In(a,o),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Vm(a,o,c)),Zn(t,o,a);break;case 21:Zn(t,o,a);break;case 22:Ye=(c=Ye)||a.memoizedState!==null,Zn(t,o,a),Ye=c;break;default:Zn(t,o,a)}}function ey(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ta(t)}catch(a){Me(o,o.return,a)}}function a0(t){switch(t.tag){case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new Jm),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new Jm),o;default:throw Error(r(435,t.tag))}}function cd(t,o){var a=a0(t);o.forEach(function(c){var u=g0.bind(null,t,c);a.has(c)||(a.add(c),c.then(u,u))})}function Vt(t,o){var a=o.deletions;if(a!==null)for(var c=0;c<a.length;c++){var u=a[c],h=t,g=o,C=g;e:for(;C!==null;){switch(C.tag){case 27:if(xo(C.type)){Be=C.stateNode,Mt=!1;break e}break;case 5:Be=C.stateNode,Mt=!1;break e;case 3:case 4:Be=C.stateNode.containerInfo,Mt=!0;break e}C=C.return}if(Be===null)throw Error(r(160));Wm(h,g,u),Be=null,Mt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)ty(o,t),o=o.sibling}var gn=null;function ty(t,o){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(o,t),Yt(t),c&4&&(Co(3,t,t.return),ra(3,t),Co(5,t,t.return));break;case 1:Vt(o,t),Yt(t),c&512&&(Ye||a===null||In(a,a.return)),c&64&&Xn&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var u=gn;if(Vt(o,t),Yt(t),c&512&&(Ye||a===null||In(a,a.return)),c&4){var h=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(c){case"title":h=u.getElementsByTagName("title")[0],(!h||h[ki]||h[yt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(c),u.head.insertBefore(h,u.querySelector("head > title"))),ft(h,c,a),h[yt]=t,it(h),c=h;break e;case"link":var g=$y("link","href",u).get(c+(a.href||""));if(g){for(var C=0;C<g.length;C++)if(h=g[C],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(C,1);break t}}h=u.createElement(c),ft(h,c,a),u.head.appendChild(h);break;case"meta":if(g=$y("meta","content",u).get(c+(a.content||""))){for(C=0;C<g.length;C++)if(h=g[C],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(C,1);break t}}h=u.createElement(c),ft(h,c,a),u.head.appendChild(h);break;default:throw Error(r(468,c))}h[yt]=t,it(h),c=h}t.stateNode=c}else Jy(u,t.type,t.stateNode);else t.stateNode=Qy(u,c,t.memoizedProps);else h!==c?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,c===null?Jy(u,t.type,t.stateNode):Qy(u,c,t.memoizedProps)):c===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vt(o,t),Yt(t),c&512&&(Ye||a===null||In(a,a.return)),a!==null&&c&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vt(o,t),Yt(t),c&512&&(Ye||a===null||In(a,a.return)),t.flags&32){u=t.stateNode;try{xr(u,"")}catch(O){Me(t,t.return,O)}}c&4&&t.stateNode!=null&&(u=t.memoizedProps,rd(t,u,a!==null?a.memoizedProps:u)),c&1024&&(sd=!0);break;case 6:if(Vt(o,t),Yt(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(O){Me(t,t.return,O)}}break;case 3:if(tc=null,u=gn,gn=Ws(o.containerInfo),Vt(o,t),gn=u,Yt(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ta(o.containerInfo)}catch(O){Me(t,t.return,O)}sd&&(sd=!1,ny(t));break;case 4:c=gn,gn=Ws(t.stateNode.containerInfo),Vt(o,t),Yt(t),gn=c;break;case 12:Vt(o,t),Yt(t);break;case 13:Vt(o,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pd=xn()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,cd(t,c)));break;case 22:u=t.memoizedState!==null;var v=a!==null&&a.memoizedState!==null,k=Xn,P=Ye;if(Xn=k||u,Ye=P||v,Vt(o,t),Ye=P,Xn=k,Yt(t),c&8192)e:for(o=t.stateNode,o._visibility=u?o._visibility&-2:o._visibility|1,u&&(a===null||v||Xn||Ye||rr(t)),a=null,o=t;;){if(o.tag===5||o.tag===26){if(a===null){v=a=o;try{if(h=v.stateNode,u)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{C=v.stateNode;var F=v.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;C.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(O){Me(v,v.return,O)}}}else if(o.tag===6){if(a===null){v=o;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(O){Me(v,v.return,O)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,cd(t,a))));break;case 19:Vt(o,t),Yt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,cd(t,c)));break;case 30:break;case 21:break;default:Vt(o,t),Yt(t)}}function Yt(t){var o=t.flags;if(o&2){try{for(var a,c=t.return;c!==null;){if(Qm(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,h=id(t);zs(t,h,u);break;case 5:var g=a.stateNode;a.flags&32&&(xr(g,""),a.flags&=-33);var C=id(t);zs(t,C,g);break;case 3:case 4:var v=a.stateNode.containerInfo,k=id(t);ad(t,k,v);break;default:throw Error(r(161))}}catch(P){Me(t,t.return,P)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;ny(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function So(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xm(t,o.alternate,o),o=o.sibling}function rr(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:Co(4,o,o.return),rr(o);break;case 1:In(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Vm(o,o.return,a),rr(o);break;case 27:pa(o.stateNode);case 26:case 5:In(o,o.return),rr(o);break;case 22:o.memoizedState===null&&rr(o);break;case 30:rr(o);break;default:rr(o)}t=t.sibling}}function vo(t,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,u=t,h=o,g=h.flags;switch(h.tag){case 0:case 11:case 15:vo(u,h,a),ra(4,h);break;case 1:if(vo(u,h,a),c=h,u=c.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Me(c,c.return,k)}if(c=h,u=c.updateQueue,u!==null){var C=c.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)Og(v[u],C)}catch(k){Me(c,c.return,k)}}a&&g&64&&Gm(h),ia(h,h.return);break;case 27:$m(h);case 26:case 5:vo(u,h,a),a&&c===null&&g&4&&Ym(h),ia(h,h.return);break;case 12:vo(u,h,a);break;case 13:vo(u,h,a),a&&g&4&&ey(u,h);break;case 22:h.memoizedState===null&&vo(u,h,a),ia(h,h.return);break;case 30:break;default:vo(u,h,a)}o=o.sibling}}function ld(t,o){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ki(a))}function ud(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&Ki(t))}function On(t,o,a,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)oy(t,o,a,c),o=o.sibling}function oy(t,o,a,c){var u=o.flags;switch(o.tag){case 0:case 11:case 15:On(t,o,a,c),u&2048&&ra(9,o);break;case 1:On(t,o,a,c);break;case 3:On(t,o,a,c),u&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&Ki(t)));break;case 12:if(u&2048){On(t,o,a,c),t=o.stateNode;try{var h=o.memoizedProps,g=h.id,C=h.onPostCommit;typeof C=="function"&&C(g,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(v){Me(o,o.return,v)}}else On(t,o,a,c);break;case 13:On(t,o,a,c);break;case 23:break;case 22:h=o.stateNode,g=o.alternate,o.memoizedState!==null?h._visibility&2?On(t,o,a,c):aa(t,o):h._visibility&2?On(t,o,a,c):(h._visibility|=2,Vr(t,o,a,c,(o.subtreeFlags&10256)!==0)),u&2048&&ld(g,o);break;case 24:On(t,o,a,c),u&2048&&ud(o.alternate,o);break;default:On(t,o,a,c)}}function Vr(t,o,a,c,u){for(u=u&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var h=t,g=o,C=a,v=c,k=g.flags;switch(g.tag){case 0:case 11:case 15:Vr(h,g,C,v,u),ra(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?Vr(h,g,C,v,u):aa(h,g):(P._visibility|=2,Vr(h,g,C,v,u)),u&&k&2048&&ld(g.alternate,g);break;case 24:Vr(h,g,C,v,u),u&&k&2048&&ud(g.alternate,g);break;default:Vr(h,g,C,v,u)}o=o.sibling}}function aa(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=t,c=o,u=c.flags;switch(c.tag){case 22:aa(a,c),u&2048&&ld(c.alternate,c);break;case 24:aa(a,c),u&2048&&ud(c.alternate,c);break;default:aa(a,c)}o=o.sibling}}var sa=8192;function Yr(t){if(t.subtreeFlags&sa)for(t=t.child;t!==null;)ry(t),t=t.sibling}function ry(t){switch(t.tag){case 26:Yr(t),t.flags&sa&&t.memoizedState!==null&&G0(gn,t.memoizedState,t.memoizedProps);break;case 5:Yr(t);break;case 3:case 4:var o=gn;gn=Ws(t.stateNode.containerInfo),Yr(t),gn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=sa,sa=16777216,Yr(t),sa=o):Yr(t));break;default:Yr(t)}}function iy(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function ca(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];st=c,sy(c,t)}iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ay(t),t=t.sibling}function ay(t){switch(t.tag){case 0:case 11:case 15:ca(t),t.flags&2048&&Co(9,t,t.return);break;case 3:ca(t);break;case 12:ca(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,js(t)):ca(t);break;default:ca(t)}}function js(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];st=c,sy(c,t)}iy(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:Co(8,o,o.return),js(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,js(o));break;default:js(o)}t=t.sibling}}function sy(t,o){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Co(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ki(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,st=c;else e:for(a=t;st!==null;){c=st;var u=c.sibling,h=c.return;if(Zm(c),c===a){st=null;break e}if(u!==null){u.return=h,st=u;break e}st=h}}}var s0={getCacheForType:function(t){var o=bt(tt),a=o.data.get(t);return a===void 0&&(a=t(),o.data.set(t,a)),a}},c0=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Le=null,fe=null,be=0,we=0,Qt=null,To=!1,Qr=!1,dd=!1,Wn=0,qe=0,Eo=0,ir=0,hd=0,cn=0,$r=0,la=null,Dt=null,fd=!1,pd=0,Fs=1/0,qs=null,Ao=null,ht=0,wo=null,Jr=null,Xr=0,gd=0,md=null,cy=null,ua=0,yd=null;function $t(){if((Ae&2)!==0&&be!==0)return be&-be;if(_.T!==null){var t=Br;return t!==0?t:Ad()}return Ap()}function ly(){cn===0&&(cn=(be&536870912)===0||Te?Sp():536870912);var t=sn.current;return t!==null&&(t.flags|=32),cn}function Jt(t,o,a){(t===Le&&(we===2||we===9)||t.cancelPendingCommit!==null)&&(Zr(t,0),_o(t,be,cn,!1)),Ri(t,a),((Ae&2)===0||t!==Le)&&(t===Le&&((Ae&2)===0&&(ir|=a),qe===4&&_o(t,be,cn,!1)),Nn(t))}function uy(t,o,a){if((Ae&6)!==0)throw Error(r(327));var c=!a&&(o&124)===0&&(o&t.expiredLanes)===0||xi(t,o),u=c?d0(t,o):Sd(t,o,!0),h=c;do{if(u===0){Qr&&!c&&_o(t,o,0,!1);break}else{if(a=t.current.alternate,h&&!l0(a)){u=Sd(t,o,!1),h=!1;continue}if(u===2){if(h=o,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){o=g;e:{var C=t;u=la;var v=C.current.memoizedState.isDehydrated;if(v&&(Zr(C,g).flags|=256),g=Sd(C,g,!1),g!==2){if(dd&&!v){C.errorRecoveryDisabledLanes|=h,ir|=h,u=4;break e}h=Dt,Dt=u,h!==null&&(Dt===null?Dt=h:Dt.push.apply(Dt,h))}u=g}if(h=!1,u!==2)continue}}if(u===1){Zr(t,0),_o(t,o,0,!0);break}e:{switch(c=t,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:_o(c,o,cn,!To);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(u=pd+300-xn(),10<u)){if(_o(c,o,cn,!To),es(c,0,!0)!==0)break e;c.timeoutHandle=Hy(dy.bind(null,c,a,Dt,qs,fd,o,cn,ir,$r,To,h,2,-0,0),u);break e}dy(c,a,Dt,qs,fd,o,cn,ir,$r,To,h,0,-0,0)}}break}while(!0);Nn(t)}function dy(t,o,a,c,u,h,g,C,v,k,P,F,I,O){if(t.timeoutHandle=-1,F=o.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(ya={stylesheets:null,count:0,unsuspend:K0},ry(o),F=V0(),F!==null)){t.cancelPendingCommit=F(by.bind(null,t,o,h,a,c,u,g,C,v,P,1,I,O)),_o(t,h,g,!k);return}by(t,o,h,a,c,u,g,C,v)}function l0(t){for(var o=t;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var u=a[c],h=u.getSnapshot;u=u.value;try{if(!Kt(h(),u))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _o(t,o,a,c){o&=~hd,o&=~ir,t.suspendedLanes|=o,t.pingedLanes&=~o,c&&(t.warmLanes|=o),c=t.expirationTimes;for(var u=o;0<u;){var h=31-qt(u),g=1<<h;c[h]=-1,u&=~g}a!==0&&Tp(t,a,o)}function Ks(){return(Ae&6)===0?(da(0),!1):!0}function bd(){if(fe!==null){if(we===0)var t=fe.return;else t=fe,Gn=Wo=null,Uu(t),Kr=null,ta=0,t=fe;for(;t!==null;)Km(t.alternate,t),t=t.return;fe=null}}function Zr(t,o){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,x0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bd(),Le=t,fe=a=Fn(t.current,null),be=o,we=0,Qt=null,To=!1,Qr=xi(t,o),dd=!1,$r=cn=hd=ir=Eo=qe=0,Dt=la=null,fd=!1,(o&8)!==0&&(o|=o&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=o;0<c;){var u=31-qt(c),h=1<<u;o|=t[u],c&=~h}return Wn=o,hs(),a}function hy(t,o){ue=null,_.H=Os,o===Vi||o===vs?(o=kg(),we=3):o===_g?(o=kg(),we=4):we=o===Im?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qt=o,fe===null&&(qe=1,Ls(t,nn(o,t.current)))}function fy(){var t=_.H;return _.H=Os,t===null?Os:t}function py(){var t=_.A;return _.A=s0,t}function Cd(){qe=4,To||(be&4194048)!==be&&sn.current!==null||(Qr=!0),(Eo&134217727)===0&&(ir&134217727)===0||Le===null||_o(Le,be,cn,!1)}function Sd(t,o,a){var c=Ae;Ae|=2;var u=fy(),h=py();(Le!==t||be!==o)&&(qs=null,Zr(t,o)),o=!1;var g=qe;e:do try{if(we!==0&&fe!==null){var C=fe,v=Qt;switch(we){case 8:bd(),g=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(o=!0);var k=we;if(we=0,Qt=null,Wr(t,C,v,k),a&&Qr){g=0;break e}break;default:k=we,we=0,Qt=null,Wr(t,C,v,k)}}u0(),g=qe;break}catch(P){hy(t,P)}while(!0);return o&&t.shellSuspendCounter++,Gn=Wo=null,Ae=c,_.H=u,_.A=h,fe===null&&(Le=null,be=0,hs()),g}function u0(){for(;fe!==null;)gy(fe)}function d0(t,o){var a=Ae;Ae|=2;var c=fy(),u=py();Le!==t||be!==o?(qs=null,Fs=xn()+500,Zr(t,o)):Qr=xi(t,o);e:do try{if(we!==0&&fe!==null){o=fe;var h=Qt;t:switch(we){case 1:we=0,Qt=null,Wr(t,o,h,1);break;case 2:case 9:if(xg(h)){we=0,Qt=null,my(o);break}o=function(){we!==2&&we!==9||Le!==t||(we=7),Nn(t)},h.then(o,o);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:xg(h)?(we=0,Qt=null,my(o)):(we=0,Qt=null,Wr(t,o,h,7));break;case 5:var g=null;switch(fe.tag){case 26:g=fe.memoizedState;case 5:case 27:var C=fe;if(!g||Xy(g)){we=0,Qt=null;var v=C.sibling;if(v!==null)fe=v;else{var k=C.return;k!==null?(fe=k,Gs(k)):fe=null}break t}}we=0,Qt=null,Wr(t,o,h,5);break;case 6:we=0,Qt=null,Wr(t,o,h,6);break;case 8:bd(),qe=6;break e;default:throw Error(r(462))}}h0();break}catch(P){hy(t,P)}while(!0);return Gn=Wo=null,_.H=c,_.A=u,Ae=a,fe!==null?0:(Le=null,be=0,hs(),qe)}function h0(){for(;fe!==null&&!DT();)gy(fe)}function gy(t){var o=Fm(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,o===null?Gs(t):fe=o}function my(t){var o=t,a=o.alternate;switch(o.tag){case 15:case 0:o=Lm(a,o,o.pendingProps,o.type,void 0,be);break;case 11:o=Lm(a,o,o.pendingProps,o.type.render,o.ref,be);break;case 5:Uu(o);default:Km(a,o),o=fe=yg(o,Wn),o=Fm(a,o,Wn)}t.memoizedProps=t.pendingProps,o===null?Gs(t):fe=o}function Wr(t,o,a,c){Gn=Wo=null,Uu(o),Kr=null,ta=0;var u=o.return;try{if(t0(t,u,o,a,be)){qe=1,Ls(t,nn(a,t.current)),fe=null;return}}catch(h){if(u!==null)throw fe=u,h;qe=1,Ls(t,nn(a,t.current)),fe=null;return}o.flags&32768?(Te||c===1?t=!0:Qr||(be&536870912)!==0?t=!1:(To=t=!0,(c===2||c===9||c===3||c===6)&&(c=sn.current,c!==null&&c.tag===13&&(c.flags|=16384))),yy(o,t)):Gs(o)}function Gs(t){var o=t;do{if((o.flags&32768)!==0){yy(o,To);return}t=o.return;var a=o0(o.alternate,o,Wn);if(a!==null){fe=a;return}if(o=o.sibling,o!==null){fe=o;return}fe=o=t}while(o!==null);qe===0&&(qe=5)}function yy(t,o){do{var a=r0(t.alternate,t);if(a!==null){a.flags&=32767,fe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(t=t.sibling,t!==null)){fe=t;return}fe=t=a}while(t!==null);qe=6,fe=null}function by(t,o,a,c,u,h,g,C,v){t.cancelPendingCommit=null;do Vs();while(ht!==0);if((Ae&6)!==0)throw Error(r(327));if(o!==null){if(o===t.current)throw Error(r(177));if(h=o.lanes|o.childLanes,h|=uu,KT(t,a,h,g,C,v),t===Le&&(fe=Le=null,be=0),Jr=o,wo=t,Xr=a,gd=h,md=u,cy=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m0(Xa,function(){return Ey(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=_.T,_.T=null,u=E.p,E.p=2,g=Ae,Ae|=4;try{i0(t,o,a)}finally{Ae=g,E.p=u,_.T=c}}ht=1,Cy(),Sy(),vy()}}function Cy(){if(ht===1){ht=0;var t=wo,o=Jr,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=_.T,_.T=null;var c=E.p;E.p=2;var u=Ae;Ae|=4;try{ty(o,t);var h=Nd,g=sg(t.containerInfo),C=h.focusedElem,v=h.selectionRange;if(g!==C&&C&&C.ownerDocument&&ag(C.ownerDocument.documentElement,C)){if(v!==null&&iu(C)){var k=v.start,P=v.end;if(P===void 0&&(P=k),"selectionStart"in C)C.selectionStart=k,C.selectionEnd=Math.min(P,C.value.length);else{var F=C.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var O=I.getSelection(),ce=C.textContent.length,ae=Math.min(v.start,ce),Ie=v.end===void 0?ae:Math.min(v.end,ce);!O.extend&&ae>Ie&&(g=Ie,Ie=ae,ae=g);var x=ig(C,ae),T=ig(C,Ie);if(x&&T&&(O.rangeCount!==1||O.anchorNode!==x.node||O.anchorOffset!==x.offset||O.focusNode!==T.node||O.focusOffset!==T.offset)){var R=F.createRange();R.setStart(x.node,x.offset),O.removeAllRanges(),ae>Ie?(O.addRange(R),O.extend(T.node,T.offset)):(R.setEnd(T.node,T.offset),O.addRange(R))}}}}for(F=[],O=C;O=O.parentNode;)O.nodeType===1&&F.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<F.length;C++){var z=F[C];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}rc=!!Od,Nd=Od=null}finally{Ae=u,E.p=c,_.T=a}}t.current=o,ht=2}}function Sy(){if(ht===2){ht=0;var t=wo,o=Jr,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=_.T,_.T=null;var c=E.p;E.p=2;var u=Ae;Ae|=4;try{Xm(t,o.alternate,o)}finally{Ae=u,E.p=c,_.T=a}}ht=3}}function vy(){if(ht===4||ht===3){ht=0,UT();var t=wo,o=Jr,a=Xr,c=cy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ht=5:(ht=0,Jr=wo=null,Ty(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ao=null),Bl(a),o=o.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(_i,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=_.T,u=E.p,E.p=2,_.T=null;try{for(var h=t.onRecoverableError,g=0;g<c.length;g++){var C=c[g];h(C.value,{componentStack:C.stack})}}finally{_.T=o,E.p=u}}(Xr&3)!==0&&Vs(),Nn(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===yd?ua++:(ua=0,yd=t):ua=0,da(0)}}function Ty(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,Ki(o)))}function Vs(t){return Cy(),Sy(),vy(),Ey()}function Ey(){if(ht!==5)return!1;var t=wo,o=gd;gd=0;var a=Bl(Xr),c=_.T,u=E.p;try{E.p=32>a?32:a,_.T=null,a=md,md=null;var h=wo,g=Xr;if(ht=0,Jr=wo=null,Xr=0,(Ae&6)!==0)throw Error(r(331));var C=Ae;if(Ae|=4,ay(h.current),oy(h,h.current,g,a),Ae=C,da(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(_i,h)}catch{}return!0}finally{E.p=u,_.T=c,Ty(t,o)}}function Ay(t,o,a){o=nn(a,o),o=$u(t.stateNode,o,2),t=go(t,o,2),t!==null&&(Ri(t,2),Nn(t))}function Me(t,o,a){if(t.tag===3)Ay(t,t,a);else for(;o!==null;){if(o.tag===3){Ay(o,t,a);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ao===null||!Ao.has(c))){t=nn(a,t),a=Rm(2),c=go(o,a,2),c!==null&&(km(a,c,o,t),Ri(c,2),Nn(c));break}}o=o.return}}function vd(t,o,a){var c=t.pingCache;if(c===null){c=t.pingCache=new c0;var u=new Set;c.set(o,u)}else u=c.get(o),u===void 0&&(u=new Set,c.set(o,u));u.has(a)||(dd=!0,u.add(a),t=f0.bind(null,t,o,a),o.then(t,t))}function f0(t,o,a){var c=t.pingCache;c!==null&&c.delete(o),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Le===t&&(be&a)===a&&(qe===4||qe===3&&(be&62914560)===be&&300>xn()-pd?(Ae&2)===0&&Zr(t,0):hd|=a,$r===be&&($r=0)),Nn(t)}function wy(t,o){o===0&&(o=vp()),t=Dr(t,o),t!==null&&(Ri(t,o),Nn(t))}function p0(t){var o=t.memoizedState,a=0;o!==null&&(a=o.retryLane),wy(t,a)}function g0(t,o){var a=0;switch(t.tag){case 13:var c=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),wy(t,a)}function m0(t,o){return Dl(t,o)}var Ys=null,ei=null,Td=!1,Qs=!1,Ed=!1,ar=0;function Nn(t){t!==ei&&t.next===null&&(ei===null?Ys=ei=t:ei=ei.next=t),Qs=!0,Td||(Td=!0,b0())}function da(t,o){if(!Ed&&Qs){Ed=!0;do for(var a=!1,c=Ys;c!==null;){if(t!==0){var u=c.pendingLanes;if(u===0)var h=0;else{var g=c.suspendedLanes,C=c.pingedLanes;h=(1<<31-qt(42|t)+1)-1,h&=u&~(g&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,ky(c,h))}else h=be,h=es(c,c===Le?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||xi(c,h)||(a=!0,ky(c,h));c=c.next}while(a);Ed=!1}}function y0(){_y()}function _y(){Qs=Td=!1;var t=0;ar!==0&&(_0()&&(t=ar),ar=0);for(var o=xn(),a=null,c=Ys;c!==null;){var u=c.next,h=xy(c,o);h===0?(c.next=null,a===null?Ys=u:a.next=u,u===null&&(ei=a)):(a=c,(t!==0||(h&3)!==0)&&(Qs=!0)),c=u}da(t)}function xy(t,o){for(var a=t.suspendedLanes,c=t.pingedLanes,u=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-qt(h),C=1<<g,v=u[g];v===-1?((C&a)===0||(C&c)!==0)&&(u[g]=qT(C,o)):v<=o&&(t.expiredLanes|=C),h&=~C}if(o=Le,a=be,a=es(t,t===o?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===o&&(we===2||we===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ul(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xi(t,a)){if(o=a&-a,o===t.callbackPriority)return o;switch(c!==null&&Ul(c),Bl(a)){case 2:case 8:a=bp;break;case 32:a=Xa;break;case 268435456:a=Cp;break;default:a=Xa}return c=Ry.bind(null,t),a=Dl(a,c),t.callbackPriority=o,t.callbackNode=a,o}return c!==null&&c!==null&&Ul(c),t.callbackPriority=2,t.callbackNode=null,2}function Ry(t,o){if(ht!==0&&ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vs()&&t.callbackNode!==a)return null;var c=be;return c=es(t,t===Le?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(uy(t,c,o),xy(t,xn()),t.callbackNode!=null&&t.callbackNode===a?Ry.bind(null,t):null)}function ky(t,o){if(Vs())return null;uy(t,o,!0)}function b0(){R0(function(){(Ae&6)!==0?Dl(yp,y0):_y()})}function Ad(){return ar===0&&(ar=Sp()),ar}function Iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:is(""+t)}function Oy(t,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,t.id&&a.setAttribute("form",t.id),o.parentNode.insertBefore(a,o),t=new FormData(t),a.parentNode.removeChild(a),t}function C0(t,o,a,c,u){if(o==="submit"&&a&&a.stateNode===u){var h=Iy((u[It]||null).action),g=c.submitter;g&&(o=(o=g[It]||null)?Iy(o.formAction):g.getAttribute("formAction"),o!==null&&(h=o,g=null));var C=new ls("action","action",null,c,u);t.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ar!==0){var v=g?Oy(u,g):new FormData(u);Ku(a,{pending:!0,data:v,method:u.method,action:h},null,v)}}else typeof h=="function"&&(C.preventDefault(),v=g?Oy(u,g):new FormData(u),Ku(a,{pending:!0,data:v,method:u.method,action:h},h,v))},currentTarget:u}]})}}for(var wd=0;wd<lu.length;wd++){var _d=lu[wd],S0=_d.toLowerCase(),v0=_d[0].toUpperCase()+_d.slice(1);pn(S0,"on"+v0)}pn(ug,"onAnimationEnd"),pn(dg,"onAnimationIteration"),pn(hg,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(BE,"onTransitionRun"),pn(HE,"onTransitionStart"),pn(zE,"onTransitionCancel"),pn(fg,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ha));function Ny(t,o){o=(o&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],u=c.event;c=c.listeners;e:{var h=void 0;if(o)for(var g=c.length-1;0<=g;g--){var C=c[g],v=C.instance,k=C.currentTarget;if(C=C.listener,v!==h&&u.isPropagationStopped())break e;h=C,u.currentTarget=k;try{h(u)}catch(P){Us(P)}u.currentTarget=null,h=v}else for(g=0;g<c.length;g++){if(C=c[g],v=C.instance,k=C.currentTarget,C=C.listener,v!==h&&u.isPropagationStopped())break e;h=C,u.currentTarget=k;try{h(u)}catch(P){Us(P)}u.currentTarget=null,h=v}}}}function pe(t,o){var a=o[Hl];a===void 0&&(a=o[Hl]=new Set);var c=t+"__bubble";a.has(c)||(My(o,t,2,!1),a.add(c))}function xd(t,o,a){var c=0;o&&(c|=4),My(a,t,c,o)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[$s]){t[$s]=!0,_p.forEach(function(a){a!=="selectionchange"&&(T0.has(a)||xd(a,!1,t),xd(a,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[$s]||(o[$s]=!0,xd("selectionchange",!1,o))}}function My(t,o,a,c){switch(ob(o)){case 2:var u=$0;break;case 8:u=J0;break;default:u=Fd}a=u.bind(null,o,a,t),u=void 0,!Jl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(u=!0),c?u!==void 0?t.addEventListener(o,a,{capture:!0,passive:u}):t.addEventListener(o,a,!0):u!==void 0?t.addEventListener(o,a,{passive:u}):t.addEventListener(o,a,!1)}function kd(t,o,a,c,u){var h=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var C=c.stateNode.containerInfo;if(C===u)break;if(g===4)for(g=c.return;g!==null;){var v=g.tag;if((v===3||v===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;C!==null;){if(g=vr(C),g===null)return;if(v=g.tag,v===5||v===6||v===26||v===27){c=h=g;continue e}C=C.parentNode}}c=c.return}zp(function(){var k=h,P=Ql(a),F=[];e:{var I=pg.get(t);if(I!==void 0){var O=ls,ce=t;switch(t){case"keypress":if(ss(a)===0)break e;case"keydown":case"keyup":O=mE;break;case"focusin":ce="focus",O=eu;break;case"focusout":ce="blur",O=eu;break;case"beforeblur":case"afterblur":O=eu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=CE;break;case ug:case dg:case hg:O=sE;break;case fg:O=vE;break;case"scroll":case"scrollend":O=nE;break;case"wheel":O=EE;break;case"copy":case"cut":case"paste":O=lE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Gp;break;case"toggle":case"beforetoggle":O=wE}var ae=(o&4)!==0,Ie=!ae&&(t==="scroll"||t==="scrollend"),x=ae?I!==null?I+"Capture":null:I;ae=[];for(var T=k,R;T!==null;){var z=T;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||x===null||(z=Oi(T,x),z!=null&&ae.push(fa(T,z,R))),Ie)break;T=T.return}0<ae.length&&(I=new O(I,ce,null,a,P),F.push({event:I,listeners:ae}))}}if((o&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",I&&a!==Yl&&(ce=a.relatedTarget||a.fromElement)&&(vr(ce)||ce[Sr]))break e;if((O||I)&&(I=P.window===P?P:(I=P.ownerDocument)?I.defaultView||I.parentWindow:window,O?(ce=a.relatedTarget||a.toElement,O=k,ce=ce?vr(ce):null,ce!==null&&(Ie=l(ce),ae=ce.tag,ce!==Ie||ae!==5&&ae!==27&&ae!==6)&&(ce=null)):(O=null,ce=k),O!==ce)){if(ae=qp,z="onMouseLeave",x="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ae=Gp,z="onPointerLeave",x="onPointerEnter",T="pointer"),Ie=O==null?I:Ii(O),R=ce==null?I:Ii(ce),I=new ae(z,T+"leave",O,a,P),I.target=Ie,I.relatedTarget=R,z=null,vr(P)===k&&(ae=new ae(x,T+"enter",ce,a,P),ae.target=R,ae.relatedTarget=Ie,z=ae),Ie=z,O&&ce)t:{for(ae=O,x=ce,T=0,R=ae;R;R=ti(R))T++;for(R=0,z=x;z;z=ti(z))R++;for(;0<T-R;)ae=ti(ae),T--;for(;0<R-T;)x=ti(x),R--;for(;T--;){if(ae===x||x!==null&&ae===x.alternate)break t;ae=ti(ae),x=ti(x)}ae=null}else ae=null;O!==null&&Dy(F,I,O,ae,!1),ce!==null&&Ie!==null&&Dy(F,Ie,ce,ae,!0)}}e:{if(I=k?Ii(k):window,O=I.nodeName&&I.nodeName.toLowerCase(),O==="select"||O==="input"&&I.type==="file")var ne=Wp;else if(Xp(I))if(eg)ne=UE;else{ne=ME;var de=NE}else O=I.nodeName,!O||O.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?k&&Vl(k.elementType)&&(ne=Wp):ne=DE;if(ne&&(ne=ne(t,k))){Zp(F,ne,a,P);break e}de&&de(t,I,k),t==="focusout"&&k&&I.type==="number"&&k.memoizedProps.value!=null&&Gl(I,"number",I.value)}switch(de=k?Ii(k):window,t){case"focusin":(Xp(de)||de.contentEditable==="true")&&(Or=de,au=k,Hi=null);break;case"focusout":Hi=au=Or=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,cg(F,a,P);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":cg(F,a,P)}var oe;if(nu)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Ir?$p(t,a)&&(se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(Vp&&a.locale!=="ko"&&(Ir||se!=="onCompositionStart"?se==="onCompositionEnd"&&Ir&&(oe=jp()):(uo=P,Xl="value"in uo?uo.value:uo.textContent,Ir=!0)),de=Js(k,se),0<de.length&&(se=new Kp(se,t,null,a,P),F.push({event:se,listeners:de}),oe?se.data=oe:(oe=Jp(a),oe!==null&&(se.data=oe)))),(oe=xE?RE(t,a):kE(t,a))&&(se=Js(k,"onBeforeInput"),0<se.length&&(de=new Kp("onBeforeInput","beforeinput",null,a,P),F.push({event:de,listeners:se}),de.data=oe)),C0(F,t,k,a,P)}Ny(F,o)})}function fa(t,o,a){return{instance:t,listener:o,currentTarget:a}}function Js(t,o){for(var a=o+"Capture",c=[];t!==null;){var u=t,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Oi(t,a),u!=null&&c.unshift(fa(t,u,h)),u=Oi(t,o),u!=null&&c.push(fa(t,u,h))),t.tag===3)return c;t=t.return}return[]}function ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dy(t,o,a,c,u){for(var h=o._reactName,g=[];a!==null&&a!==c;){var C=a,v=C.alternate,k=C.stateNode;if(C=C.tag,v!==null&&v===c)break;C!==5&&C!==26&&C!==27||k===null||(v=k,u?(k=Oi(a,h),k!=null&&g.unshift(fa(a,k,v))):u||(k=Oi(a,h),k!=null&&g.push(fa(a,k,v)))),a=a.return}g.length!==0&&t.push({event:o,listeners:g})}var E0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(E0,`
`).replace(A0,"")}function Ly(t,o){return o=Uy(o),Uy(t)===o}function Xs(){}function ke(t,o,a,c,u,h){switch(a){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||xr(t,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&xr(t,""+c);break;case"className":ns(t,"class",c);break;case"tabIndex":ns(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(t,a,c);break;case"style":Bp(t,c,h);break;case"data":if(o!=="object"){ns(t,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=is(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(o!=="input"&&ke(t,o,"name",u.name,u,null),ke(t,o,"formEncType",u.formEncType,u,null),ke(t,o,"formMethod",u.formMethod,u,null),ke(t,o,"formTarget",u.formTarget,u,null)):(ke(t,o,"encType",u.encType,u,null),ke(t,o,"method",u.method,u,null),ke(t,o,"target",u.target,u,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=is(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Xs);break;case"onScroll":c!=null&&pe("scroll",t);break;case"onScrollEnd":c!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=is(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":pe("beforetoggle",t),pe("toggle",t),ts(t,"popover",c);break;case"xlinkActuate":zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ts(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eE.get(a)||a,ts(t,a,c))}}function Id(t,o,a,c,u,h){switch(a){case"style":Bp(t,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof c=="string"?xr(t,c):(typeof c=="number"||typeof c=="bigint")&&xr(t,""+c);break;case"onScroll":c!=null&&pe("scroll",t);break;case"onScrollEnd":c!=null&&pe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),o=a.slice(2,u?a.length-7:void 0),h=t[It]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(o,h,u),typeof c=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(o,c,u);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):ts(t,a,c)}}}function ft(t,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var c=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":c=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ke(t,o,h,g,a,null)}}u&&ke(t,o,"srcSet",a.srcSet,a,null),c&&ke(t,o,"src",a.src,a,null);return;case"input":pe("invalid",t);var C=h=g=u=null,v=null,k=null;for(c in a)if(a.hasOwnProperty(c)){var P=a[c];if(P!=null)switch(c){case"name":u=P;break;case"type":g=P;break;case"checked":v=P;break;case"defaultChecked":k=P;break;case"value":h=P;break;case"defaultValue":C=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,o));break;default:ke(t,o,c,P,a,null)}}Dp(t,h,C,v,k,g,u,!1),os(t);return;case"select":pe("invalid",t),c=g=h=null;for(u in a)if(a.hasOwnProperty(u)&&(C=a[u],C!=null))switch(u){case"value":h=C;break;case"defaultValue":g=C;break;case"multiple":c=C;default:ke(t,o,u,C,a,null)}o=h,a=g,t.multiple=!!c,o!=null?_r(t,!!c,o,!1):a!=null&&_r(t,!!c,a,!0);return;case"textarea":pe("invalid",t),h=u=c=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":c=C;break;case"defaultValue":u=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ke(t,o,g,C,a,null)}Lp(t,c,u,h),os(t);return;case"option":for(v in a)if(a.hasOwnProperty(v)&&(c=a[v],c!=null))switch(v){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ke(t,o,v,c,a,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(c=0;c<ha.length;c++)pe(ha[c],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(c=a[k],c!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ke(t,o,k,c,a,null)}return;default:if(Vl(o)){for(P in a)a.hasOwnProperty(P)&&(c=a[P],c!==void 0&&Id(t,o,P,c,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(c=a[C],c!=null&&ke(t,o,C,c,a,null))}function w0(t,o,a,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,g=null,C=null,v=null,k=null,P=null;for(O in a){var F=a[O];if(a.hasOwnProperty(O)&&F!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":v=F;default:c.hasOwnProperty(O)||ke(t,o,O,null,c,F)}}for(var I in c){var O=c[I];if(F=a[I],c.hasOwnProperty(I)&&(O!=null||F!=null))switch(I){case"type":h=O;break;case"name":u=O;break;case"checked":k=O;break;case"defaultChecked":P=O;break;case"value":g=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,o));break;default:O!==F&&ke(t,o,I,O,c,F)}}Kl(t,g,C,v,k,P,h,u);return;case"select":O=g=C=I=null;for(h in a)if(v=a[h],a.hasOwnProperty(h)&&v!=null)switch(h){case"value":break;case"multiple":O=v;default:c.hasOwnProperty(h)||ke(t,o,h,null,c,v)}for(u in c)if(h=c[u],v=a[u],c.hasOwnProperty(u)&&(h!=null||v!=null))switch(u){case"value":I=h;break;case"defaultValue":C=h;break;case"multiple":g=h;default:h!==v&&ke(t,o,u,h,c,v)}o=C,a=g,c=O,I!=null?_r(t,!!a,I,!1):!!c!=!!a&&(o!=null?_r(t,!!a,o,!0):_r(t,!!a,a?[]:"",!1));return;case"textarea":O=I=null;for(C in a)if(u=a[C],a.hasOwnProperty(C)&&u!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ke(t,o,C,null,c,u)}for(g in c)if(u=c[g],h=a[g],c.hasOwnProperty(g)&&(u!=null||h!=null))switch(g){case"value":I=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&ke(t,o,g,u,c,h)}Up(t,I,O);return;case"option":for(var ce in a)if(I=a[ce],a.hasOwnProperty(ce)&&I!=null&&!c.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ke(t,o,ce,null,c,I)}for(v in c)if(I=c[v],O=a[v],c.hasOwnProperty(v)&&I!==O&&(I!=null||O!=null))switch(v){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ke(t,o,v,I,c,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)I=a[ae],a.hasOwnProperty(ae)&&I!=null&&!c.hasOwnProperty(ae)&&ke(t,o,ae,null,c,I);for(k in c)if(I=c[k],O=a[k],c.hasOwnProperty(k)&&I!==O&&(I!=null||O!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,o));break;default:ke(t,o,k,I,c,O)}return;default:if(Vl(o)){for(var Ie in a)I=a[Ie],a.hasOwnProperty(Ie)&&I!==void 0&&!c.hasOwnProperty(Ie)&&Id(t,o,Ie,void 0,c,I);for(P in c)I=c[P],O=a[P],!c.hasOwnProperty(P)||I===O||I===void 0&&O===void 0||Id(t,o,P,I,c,O);return}}for(var x in a)I=a[x],a.hasOwnProperty(x)&&I!=null&&!c.hasOwnProperty(x)&&ke(t,o,x,null,c,I);for(F in c)I=c[F],O=a[F],!c.hasOwnProperty(F)||I===O||I==null&&O==null||ke(t,o,F,I,c,O)}var Od=null,Nd=null;function Zs(t){return t.nodeType===9?t:t.ownerDocument}function Py(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function Md(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dd=null;function _0(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,R0=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(t){return zy.resolve(null).then(t).catch(k0)}:Hy;function k0(t){setTimeout(function(){throw t})}function xo(t){return t==="head"}function jy(t,o){var a=o,c=0,u=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<c&&8>c){a=c;var g=t.ownerDocument;if(a&1&&pa(g.documentElement),a&2&&pa(g.body),a&4)for(a=g.head,pa(a),g=a.firstChild;g;){var C=g.nextSibling,v=g.nodeName;g[ki]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=C}}if(u===0){t.removeChild(h),Ta(o);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:c=a.charCodeAt(0)-48;else c=0;a=h}while(a);Ta(o)}function Ud(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),zl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function I0(t,o,a,c){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ki])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=mn(t.nextSibling),t===null)break}return null}function O0(t,o,a){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mn(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function N0(t,o){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")o();else{var c=function(){o(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function mn(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return t}var Pd=null;function Fy(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return t;o--}else a==="/$"&&o++}t=t.previousSibling}return null}function qy(t,o,a){switch(o=Zs(a),t){case"html":if(t=o.documentElement,!t)throw Error(r(452));return t;case"head":if(t=o.head,!t)throw Error(r(453));return t;case"body":if(t=o.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function pa(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);zl(t)}var ln=new Map,Ky=new Set;function Ws(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var eo=E.d;E.d={f:M0,r:D0,D:U0,C:L0,L:P0,m:B0,X:z0,S:H0,M:j0};function M0(){var t=eo.f(),o=Ks();return t||o}function D0(t){var o=Tr(t);o!==null&&o.tag===5&&o.type==="form"?um(o):eo.r(t)}var ni=typeof document>"u"?null:document;function Gy(t,o,a){var c=ni;if(c&&typeof o=="string"&&o){var u=tn(o);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Ky.has(u)||(Ky.add(u),t={rel:t,crossOrigin:a,href:o},c.querySelector(u)===null&&(o=c.createElement("link"),ft(o,"link",t),it(o),c.head.appendChild(o)))}}function U0(t){eo.D(t),Gy("dns-prefetch",t,null)}function L0(t,o){eo.C(t,o),Gy("preconnect",t,o)}function P0(t,o,a){eo.L(t,o,a);var c=ni;if(c&&t&&o){var u='link[rel="preload"][as="'+tn(o)+'"]';o==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+tn(a.imageSizes)+'"]')):u+='[href="'+tn(t)+'"]';var h=u;switch(o){case"style":h=oi(t);break;case"script":h=ri(t)}ln.has(h)||(t=b({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:t,as:o},a),ln.set(h,t),c.querySelector(u)!==null||o==="style"&&c.querySelector(ga(h))||o==="script"&&c.querySelector(ma(h))||(o=c.createElement("link"),ft(o,"link",t),it(o),c.head.appendChild(o)))}}function B0(t,o){eo.m(t,o);var a=ni;if(a&&t){var c=o&&typeof o.as=="string"?o.as:"script",u='link[rel="modulepreload"][as="'+tn(c)+'"][href="'+tn(t)+'"]',h=u;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ri(t)}if(!ln.has(h)&&(t=b({rel:"modulepreload",href:t},o),ln.set(h,t),a.querySelector(u)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ma(h)))return}c=a.createElement("link"),ft(c,"link",t),it(c),a.head.appendChild(c)}}}function H0(t,o,a){eo.S(t,o,a);var c=ni;if(c&&t){var u=Er(c).hoistableStyles,h=oi(t);o=o||"default";var g=u.get(h);if(!g){var C={loading:0,preload:null};if(g=c.querySelector(ga(h)))C.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":o},a),(a=ln.get(h))&&Bd(t,a);var v=g=c.createElement("link");it(v),ft(v,"link",t),v._p=new Promise(function(k,P){v.onload=k,v.onerror=P}),v.addEventListener("load",function(){C.loading|=1}),v.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ec(g,o,c)}g={type:"stylesheet",instance:g,count:1,state:C},u.set(h,g)}}}function z0(t,o){eo.X(t,o);var a=ni;if(a&&t){var c=Er(a).hoistableScripts,u=ri(t),h=c.get(u);h||(h=a.querySelector(ma(u)),h||(t=b({src:t,async:!0},o),(o=ln.get(u))&&Hd(t,o),h=a.createElement("script"),it(h),ft(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(u,h))}}function j0(t,o){eo.M(t,o);var a=ni;if(a&&t){var c=Er(a).hoistableScripts,u=ri(t),h=c.get(u);h||(h=a.querySelector(ma(u)),h||(t=b({src:t,async:!0,type:"module"},o),(o=ln.get(u))&&Hd(t,o),h=a.createElement("script"),it(h),ft(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(u,h))}}function Vy(t,o,a,c){var u=(u=jt.current)?Ws(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=oi(a.href),a=Er(u).hoistableStyles,c=a.get(o),c||(c={type:"style",instance:null,count:0,state:null},a.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=oi(a.href);var h=Er(u).hoistableStyles,g=h.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=u.querySelector(ga(t)))&&!h._p&&(g.instance=h,g.state.loading=5),ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ln.set(t,a),h||F0(u,t,a,g.state))),o&&c===null)throw Error(r(528,""));return g}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ri(a),a=Er(u).hoistableScripts,c=a.get(o),c||(c={type:"script",instance:null,count:0,state:null},a.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function oi(t){return'href="'+tn(t)+'"'}function ga(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function F0(t,o,a,c){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=t.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),ft(o,"link",a),it(o),t.head.appendChild(o))}function ri(t){return'[src="'+tn(t)+'"]'}function ma(t){return"script[async]"+t}function Qy(t,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var c=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(c)return o.instance=c,it(c),c;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),it(c),ft(c,"style",u),ec(c,a.precedence,t),o.instance=c;case"stylesheet":u=oi(a.href);var h=t.querySelector(ga(u));if(h)return o.state.loading|=4,o.instance=h,it(h),h;c=Yy(a),(u=ln.get(u))&&Bd(c,u),h=(t.ownerDocument||t).createElement("link"),it(h);var g=h;return g._p=new Promise(function(C,v){g.onload=C,g.onerror=v}),ft(h,"link",c),o.state.loading|=4,ec(h,a.precedence,t),o.instance=h;case"script":return h=ri(a.src),(u=t.querySelector(ma(h)))?(o.instance=u,it(u),u):(c=a,(u=ln.get(h))&&(c=b({},a),Hd(c,u)),t=t.ownerDocument||t,u=t.createElement("script"),it(u),ft(u,"link",c),t.head.appendChild(u),o.instance=u);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,ec(c,a.precedence,t));return o.instance}function ec(t,o,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=c.length?c[c.length-1]:null,h=u,g=0;g<c.length;g++){var C=c[g];if(C.dataset.precedence===o)h=C;else if(h!==u)break}h?h.parentNode.insertBefore(t,h.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(t,o.firstChild))}function Bd(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function Hd(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var tc=null;function $y(t,o,a){if(tc===null){var c=new Map,u=tc=new Map;u.set(a,c)}else u=tc,c=u.get(a),c||(c=new Map,u.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var h=a[u];if(!(h[ki]||h[yt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(o)||"";g=t+g;var C=c.get(g);C?C.push(h):c.set(g,[h])}}return c}function Jy(t,o,a){t=t.ownerDocument||t,t.head.insertBefore(a,o==="title"?t.querySelector("head > title"):null)}function q0(t,o,a){if(a===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Xy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ya=null;function K0(){}function G0(t,o,a){if(ya===null)throw Error(r(475));var c=ya;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var u=oi(a.href),h=t.querySelector(ga(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=nc.bind(c),t.then(c,c)),o.state.loading|=4,o.instance=h,it(h);return}h=t.ownerDocument||t,a=Yy(a),(u=ln.get(u))&&Bd(a,u),h=h.createElement("link"),it(h);var g=h;g._p=new Promise(function(C,v){g.onload=C,g.onerror=v}),ft(h,"link",a),o.instance=h}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,t),(t=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=nc.bind(c),t.addEventListener("load",o),t.addEventListener("error",o))}}function V0(){if(ya===null)throw Error(r(475));var t=ya;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(o){var a=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(a)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oc=null;function zd(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oc=new Map,o.forEach(Y0,t),oc=null,nc.call(t))}function Y0(t,o){if(!(o.state.loading&4)){var a=oc.get(t);if(a)var c=a.get(null);else{a=new Map,oc.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var g=u[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),c=g)}c&&a.set(null,c)}u=o.instance,g=u.getAttribute("data-precedence"),h=a.get(g)||c,h===c&&a.set(null,u),a.set(g,u),this.count++,c=nc.bind(this),u.addEventListener("load",c),u.addEventListener("error",c),h?h.parentNode.insertBefore(u,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),o.state.loading|=4}}var ba={$$typeof:J,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Q0(t,o,a,c,u,h,g,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ll(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.hiddenUpdates=Ll(null),this.identifierPrefix=c,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Zy(t,o,a,c,u,h,g,C,v,k,P,F){return t=new Q0(t,o,a,g,C,v,k,F),o=1,h===!0&&(o|=24),h=Gt(3,null,null,o),t.current=h,h.stateNode=t,o=vu(),o.refCount++,t.pooledCache=o,o.refCount++,h.memoizedState={element:c,isDehydrated:a,cache:o},wu(h),t}function Wy(t){return t?(t=Ur,t):Ur}function eb(t,o,a,c,u,h){u=Wy(u),c.context===null?c.context=u:c.pendingContext=u,c=po(o),c.payload={element:a},h=h===void 0?null:h,h!==null&&(c.callback=h),a=go(t,c,o),a!==null&&(Jt(a,t,o),Qi(a,t,o))}function tb(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<o?a:o}}function jd(t,o){tb(t,o),(t=t.alternate)&&tb(t,o)}function nb(t){if(t.tag===13){var o=Dr(t,67108864);o!==null&&Jt(o,t,67108864),jd(t,67108864)}}var rc=!0;function $0(t,o,a,c){var u=_.T;_.T=null;var h=E.p;try{E.p=2,Fd(t,o,a,c)}finally{E.p=h,_.T=u}}function J0(t,o,a,c){var u=_.T;_.T=null;var h=E.p;try{E.p=8,Fd(t,o,a,c)}finally{E.p=h,_.T=u}}function Fd(t,o,a,c){if(rc){var u=qd(c);if(u===null)kd(t,o,c,ic,a),rb(t,c);else if(Z0(u,t,o,a,c))c.stopPropagation();else if(rb(t,c),o&4&&-1<X0.indexOf(t)){for(;u!==null;){var h=Tr(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=qo(h.pendingLanes);if(g!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;g;){var v=1<<31-qt(g);C.entanglements[1]|=v,g&=~v}Nn(h),(Ae&6)===0&&(Fs=xn()+500,da(0))}}break;case 13:C=Dr(h,2),C!==null&&Jt(C,h,2),Ks(),jd(h,2)}if(h=qd(c),h===null&&kd(t,o,c,ic,a),h===u)break;u=h}u!==null&&c.stopPropagation()}else kd(t,o,c,null,a)}}function qd(t){return t=Ql(t),Kd(t)}var ic=null;function Kd(t){if(ic=null,t=vr(t),t!==null){var o=l(t);if(o===null)t=null;else{var a=o.tag;if(a===13){if(t=d(o),t!==null)return t;t=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return ic=t,null}function ob(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(LT()){case yp:return 2;case bp:return 8;case Xa:case PT:return 32;case Cp:return 268435456;default:return 32}default:return 32}}var Gd=!1,Ro=null,ko=null,Io=null,Ca=new Map,Sa=new Map,Oo=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(t,o){switch(t){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Ca.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(o.pointerId)}}function va(t,o,a,c,u,h){return t===null||t.nativeEvent!==h?(t={blockedOn:o,domEventName:a,eventSystemFlags:c,nativeEvent:h,targetContainers:[u]},o!==null&&(o=Tr(o),o!==null&&nb(o)),t):(t.eventSystemFlags|=c,o=t.targetContainers,u!==null&&o.indexOf(u)===-1&&o.push(u),t)}function Z0(t,o,a,c,u){switch(o){case"focusin":return Ro=va(Ro,t,o,a,c,u),!0;case"dragenter":return ko=va(ko,t,o,a,c,u),!0;case"mouseover":return Io=va(Io,t,o,a,c,u),!0;case"pointerover":var h=u.pointerId;return Ca.set(h,va(Ca.get(h)||null,t,o,a,c,u)),!0;case"gotpointercapture":return h=u.pointerId,Sa.set(h,va(Sa.get(h)||null,t,o,a,c,u)),!0}return!1}function ib(t){var o=vr(t.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=d(a),o!==null){t.blockedOn=o,GT(t.priority,function(){if(a.tag===13){var c=$t();c=Pl(c);var u=Dr(a,c);u!==null&&Jt(u,a,c),jd(a,c)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Yl=c,a.target.dispatchEvent(c),Yl=null}else return o=Tr(a),o!==null&&nb(o),t.blockedOn=a,!1;o.shift()}return!0}function ab(t,o,a){ac(t)&&a.delete(o)}function W0(){Gd=!1,Ro!==null&&ac(Ro)&&(Ro=null),ko!==null&&ac(ko)&&(ko=null),Io!==null&&ac(Io)&&(Io=null),Ca.forEach(ab),Sa.forEach(ab)}function sc(t,o){t.blockedOn===o&&(t.blockedOn=null,Gd||(Gd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,W0)))}var cc=null;function sb(t){cc!==t&&(cc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cc===t&&(cc=null);for(var o=0;o<t.length;o+=3){var a=t[o],c=t[o+1],u=t[o+2];if(typeof c!="function"){if(Kd(c||a)===null)continue;break}var h=Tr(a);h!==null&&(t.splice(o,3),o-=3,Ku(h,{pending:!0,data:u,method:a.method,action:c},c,u))}}))}function Ta(t){function o(v){return sc(v,t)}Ro!==null&&sc(Ro,t),ko!==null&&sc(ko,t),Io!==null&&sc(Io,t),Ca.forEach(o),Sa.forEach(o);for(var a=0;a<Oo.length;a++){var c=Oo[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Oo.length&&(a=Oo[0],a.blockedOn===null);)ib(a),a.blockedOn===null&&Oo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var u=a[c],h=a[c+1],g=u[It]||null;if(typeof h=="function")g||sb(a);else if(g){var C=null;if(h&&h.hasAttribute("formAction")){if(u=h,g=h[It]||null)C=g.formAction;else if(Kd(u)!==null)continue}else C=g.action;typeof C=="function"?a[c+1]=C:(a.splice(c,3),c-=3),sb(a)}}}function Vd(t){this._internalRoot=t}lc.prototype.render=Vd.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(r(409));var a=o.current,c=$t();eb(a,c,t,o,null,null)},lc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;eb(t.current,2,null,t,null,null),Ks(),o[Sr]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var o=Ap();t={blockedOn:null,target:t,priority:o};for(var a=0;a<Oo.length&&o!==0&&o<Oo[a].priority;a++);Oo.splice(a,0,t),a===0&&ib(t)}};var cb=e.version;if(cb!=="19.1.0")throw Error(r(527,cb,"19.1.0"));E.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(o),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{_i=uc.inject(eA),Ft=uc}catch{}}return Ea.createRoot=function(t,o){if(!s(t))throw Error(r(299));var a=!1,c="",u=Am,h=wm,g=_m,C=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(u=o.onUncaughtError),o.onCaughtError!==void 0&&(h=o.onCaughtError),o.onRecoverableError!==void 0&&(g=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=Zy(t,1,!1,null,null,a,c,u,h,g,C,null),t[Sr]=o.current,Rd(t),new Vd(o)},Ea.hydrateRoot=function(t,o,a){if(!s(t))throw Error(r(299));var c=!1,u="",h=Am,g=wm,C=_m,v=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),o=Zy(t,1,!0,o,a??null,c,u,h,g,C,v,k),o.context=Wy(null),a=o.current,c=$t(),c=Pl(c),u=po(c),u.callback=null,go(a,u,c),a=c,o.current.lanes=a,Ri(o,a),Nn(o),t[Sr]=o.current,Rd(t),new lc(o)},Ea.version="19.1.0",Ea}var hb;function lA(){if(hb)return Yd.exports;hb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yd.exports=cA(),Yd.exports}var uA=lA();/*! @azure/msal-common v15.8.1 2025-07-08 */const H={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Do={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},qa=[H.OPENID_SCOPE,H.PROFILE_SCOPE,H.OFFLINE_ACCESS_SCOPE],fb=[...qa,H.EMAIL_SCOPE],xt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},pb={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Uo={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},dc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Rt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},_C={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},nl={QUERY:"query",FRAGMENT:"fragment"},dA={QUERY:"query"},xC={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},hc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},St={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},ze={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},$h="appmetadata",hA="client_info",Oa="1",Dc={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Xt={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},pt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},_e={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Na={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},gb={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},ii={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Jd={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},sr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},fA={Pop:"pop"},pA=300;/*! @azure/msal-common v15.8.1 2025-07-08 */const Uc="unexpected_error",gA="post_request_failed";/*! @azure/msal-common v15.8.1 2025-07-08 */const mb={[Uc]:"Unexpected error in authentication.",[gA]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ne extends Error{constructor(e,n,r){const s=n?`${e}: ${n}`:e;super(s),Object.setPrototypeOf(this,Ne.prototype),this.errorCode=e||H.EMPTY_STRING,this.errorMessage=n||H.EMPTY_STRING,this.subError=r||H.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function mh(i,e){return new Ne(i,e?`${mb[i]} ${e}`:mb[i])}/*! @azure/msal-common v15.8.1 2025-07-08 */const Jh="client_info_decoding_error",RC="client_info_empty_error",Xh="token_parsing_error",kC="null_or_empty_token",no="endpoints_resolution_error",IC="network_error",OC="openid_config_error",NC="hash_not_deserialized",mi="invalid_state",MC="state_mismatch",yh="state_not_found",DC="nonce_mismatch",Zh="auth_time_not_found",UC="max_age_transpired",mA="multiple_matching_tokens",yA="multiple_matching_accounts",LC="multiple_matching_appMetadata",PC="request_cannot_be_made",BC="cannot_remove_empty_scope",HC="cannot_append_scopeset",bh="empty_input_scopeset",bA="device_code_polling_cancelled",CA="device_code_expired",SA="device_code_unknown_error",Wh="no_account_in_silent_request",zC="invalid_cache_record",ef="invalid_cache_environment",Ch="no_account_found",Sh="no_crypto_object",vA="unexpected_credential_type",TA="invalid_assertion",EA="invalid_client_credential",Lo="token_refresh_required",AA="user_timeout_reached",jC="token_claims_cnf_required_for_signedjwt",FC="authorization_code_missing_from_server_response",qC="binding_key_not_removed",KC="end_session_endpoint_not_supported",tf="key_id_missing",wA="no_network_connectivity",_A="user_canceled",xA="missing_tenant_id_error",he="method_not_implemented",RA="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.8.1 2025-07-08 */const yb={[Jh]:"The client info could not be parsed/decoded correctly",[RC]:"The client info was empty",[Xh]:"Token cannot be parsed",[kC]:"The token is null or empty",[no]:"Endpoints cannot be resolved",[IC]:"Network request failed",[OC]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[NC]:"The hash parameters could not be deserialized",[mi]:"State was not the expected format",[MC]:"State mismatch error",[yh]:"State not found",[DC]:"Nonce mismatch error",[Zh]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[UC]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[mA]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[yA]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[LC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[PC]:"Token request cannot be made without authorization code or refresh token.",[BC]:"Cannot remove null or empty scope from ScopeSet",[HC]:"Cannot append ScopeSet",[bh]:"Empty input ScopeSet cannot be processed",[bA]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[CA]:"Device code is expired.",[SA]:"Device code stopped polling for unknown reasons.",[Wh]:"Please pass an account object, silent flow is not supported without account information",[zC]:"Cache record object was null or undefined.",[ef]:"Invalid environment when attempting to create cache entry",[Ch]:"No account found in cache for given key.",[Sh]:"No crypto object detected.",[vA]:"Unexpected credential type.",[TA]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[EA]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Lo]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[AA]:"User defined timeout for device code polling reached",[jC]:"Cannot generate a POP jwt if the token_claims are not populated",[FC]:"Server response does not contain an authorization code to proceed",[qC]:"Could not remove the credential's binding key from storage.",[KC]:"The provided authority does not support logout",[tf]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[wA]:"No network connectivity. Check your internet connection.",[_A]:"User cancelled the flow.",[xA]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[he]:"This method has not been implemented",[RA]:"The nested app auth bridge is disabled"};class nf extends Ne{constructor(e,n){super(e,n?`${yb[e]}: ${n}`:yb[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,nf.prototype)}}function $(i,e){return new nf(i,e)}/*! @azure/msal-common v15.8.1 2025-07-08 */const Lc={createNewGuid:()=>{throw $(he)},base64Decode:()=>{throw $(he)},base64Encode:()=>{throw $(he)},base64UrlEncode:()=>{throw $(he)},encodeKid:()=>{throw $(he)},async getPublicKeyThumbprint(){throw $(he)},async removeTokenBindingKey(){throw $(he)},async clearKeystore(){throw $(he)},async signJwt(){throw $(he)},async hashString(){throw $(he)}};/*! @azure/msal-common v15.8.1 2025-07-08 */var Oe;(function(i){i[i.Error=0]="Error",i[i.Warning=1]="Warning",i[i.Info=2]="Info",i[i.Verbose=3]="Verbose",i[i.Trace=4]="Trace"})(Oe||(Oe={}));class ro{constructor(e,n,r){this.level=Oe.Info;const s=()=>{},l=e||ro.createDefaultLoggerOptions();this.localCallback=l.loggerCallback||s,this.piiLoggingEnabled=l.piiLoggingEnabled||!1,this.level=typeof l.logLevel=="number"?l.logLevel:Oe.Info,this.correlationId=l.correlationId||H.EMPTY_STRING,this.packageName=n||H.EMPTY_STRING,this.packageVersion=r||H.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Oe.Info}}clone(e,n,r){return new ro({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const l=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Oe[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,l,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:Oe.Error,containsPii:!1,correlationId:n||H.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:Oe.Error,containsPii:!0,correlationId:n||H.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:Oe.Warning,containsPii:!1,correlationId:n||H.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:Oe.Warning,containsPii:!0,correlationId:n||H.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:Oe.Info,containsPii:!1,correlationId:n||H.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:Oe.Info,containsPii:!0,correlationId:n||H.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:Oe.Verbose,containsPii:!1,correlationId:n||H.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:Oe.Verbose,containsPii:!0,correlationId:n||H.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:Oe.Trace,containsPii:!1,correlationId:n||H.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:Oe.Trace,containsPii:!0,correlationId:n||H.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.8.1 2025-07-08 */const GC="@azure/msal-common",of="15.8.1";/*! @azure/msal-common v15.8.1 2025-07-08 */const rf={None:"none"};/*! @azure/msal-common v15.8.1 2025-07-08 */function Ci(i,e){const n=kA(i);try{const r=e(n);return JSON.parse(r)}catch{throw $(Xh)}}function kA(i){if(!i)throw $(kC);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(i);if(!n||n.length<4)throw $(Xh);return n[2]}function VC(i,e){if(e===0||Date.now()-3e5>i+e)throw $(UC)}/*! @azure/msal-common v15.8.1 2025-07-08 */function zt(){return Math.round(new Date().getTime()/1e3)}function bb(i){return i.getTime()/1e3}function hi(i){return i?new Date(Number(i)*1e3):new Date}function vh(i,e){const n=Number(i)||0;return zt()+e>n}function IA(i){return Number(i)>zt()}/*! @azure/msal-common v15.8.1 2025-07-08 */function Ma(i){return[DA(i),UA(i),LA(i),PA(i),BA(i)].join(St.CACHE_KEY_SEPARATOR).toLowerCase()}function ol(i,e,n,r,s){return{credentialType:ze.ID_TOKEN,homeAccountId:i,environment:e,clientId:r,secret:n,realm:s}}function rl(i,e,n,r,s,l,d,f,p,m,b,S,w,U,D){const K={homeAccountId:i,credentialType:ze.ACCESS_TOKEN,secret:n,cachedAt:zt().toString(),expiresOn:d.toString(),extendedExpiresOn:f.toString(),environment:e,clientId:r,realm:s,target:l,tokenType:b||_e.BEARER};if(S&&(K.userAssertionHash=S),m&&(K.refreshOn=m.toString()),U&&(K.requestedClaims=U,K.requestedClaimsHash=D),K.tokenType?.toLowerCase()!==_e.BEARER.toLowerCase())switch(K.credentialType=ze.ACCESS_TOKEN_WITH_AUTH_SCHEME,K.tokenType){case _e.POP:const V=Ci(n,p);if(!V?.cnf?.kid)throw $(jC);K.keyId=V.cnf.kid;break;case _e.SSH:K.keyId=w}return K}function YC(i,e,n,r,s,l,d){const f={credentialType:ze.REFRESH_TOKEN,homeAccountId:i,environment:e,clientId:r,secret:n};return l&&(f.userAssertionHash=l),s&&(f.familyId=s),d&&(f.expiresOn=d.toString()),f}function af(i){return i.hasOwnProperty("homeAccountId")&&i.hasOwnProperty("environment")&&i.hasOwnProperty("credentialType")&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("secret")}function OA(i){return i?af(i)&&i.hasOwnProperty("realm")&&i.hasOwnProperty("target")&&(i.credentialType===ze.ACCESS_TOKEN||i.credentialType===ze.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function NA(i){return i?af(i)&&i.hasOwnProperty("realm")&&i.credentialType===ze.ID_TOKEN:!1}function MA(i){return i?af(i)&&i.credentialType===ze.REFRESH_TOKEN:!1}function DA(i){return[i.homeAccountId,i.environment].join(St.CACHE_KEY_SEPARATOR).toLowerCase()}function UA(i){const e=i.credentialType===ze.REFRESH_TOKEN&&i.familyId||i.clientId;return[i.credentialType,e,i.realm||""].join(St.CACHE_KEY_SEPARATOR).toLowerCase()}function LA(i){return(i.target||"").toLowerCase()}function PA(i){return(i.requestedClaimsHash||"").toLowerCase()}function BA(i){return i.tokenType&&i.tokenType.toLowerCase()!==_e.BEARER.toLowerCase()?i.tokenType.toLowerCase():""}function HA(i,e){const n=i.indexOf(pt.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function zA(i,e){let n=!1;i&&(n=i.indexOf(Na.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function jA({environment:i,clientId:e}){return[$h,i,e].join(St.CACHE_KEY_SEPARATOR).toLowerCase()}function FA(i,e){return e?i.indexOf($h)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function qA(i,e){return e?i.indexOf(Dc.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Cb(){return zt()+Dc.REFRESH_TIME_SECONDS}function fc(i,e,n){i.authorization_endpoint=e.authorization_endpoint,i.token_endpoint=e.token_endpoint,i.end_session_endpoint=e.end_session_endpoint,i.issuer=e.issuer,i.endpointsFromNetwork=n,i.jwks_uri=e.jwks_uri}function Xd(i,e,n){i.aliases=e.aliases,i.preferred_cache=e.preferred_cache,i.preferred_network=e.preferred_network,i.aliasesFromNetwork=n}function Sb(i){return i.expiresAt<=zt()}/*! @azure/msal-common v15.8.1 2025-07-08 */const QC="redirect_uri_empty",KA="claims_request_parsing_error",$C="authority_uri_insecure",Ra="url_parse_error",JC="empty_url_error",XC="empty_input_scopes_error",sf="invalid_claims",ZC="token_request_empty",WC="logout_request_empty",GA="invalid_code_challenge_method",cf="pkce_params_missing",lf="invalid_cloud_discovery_metadata",eS="invalid_authority_metadata",tS="untrusted_authority",il="missing_ssh_jwk",nS="missing_ssh_kid",VA="missing_nonce_authentication_header",YA="invalid_authentication_header",oS="cannot_set_OIDCOptions",rS="cannot_allow_platform_broker",iS="authority_mismatch";/*! @azure/msal-common v15.8.1 2025-07-08 */const QA={[QC]:"A redirect URI is required for all calls, and none has been set.",[KA]:"Could not parse the given claims request object.",[$C]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Ra]:"URL could not be parsed into appropriate segments.",[JC]:"URL was empty or null.",[XC]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[sf]:"Given claims parameter must be a stringified JSON object.",[ZC]:"Token request was empty and not found in cache.",[WC]:"The logout request was null or undefined.",[GA]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[cf]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[lf]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[eS]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[tS]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[il]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[nS]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[VA]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[YA]:"Invalid authentication header provided",[oS]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[rS]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[iS]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class uf extends Ne{constructor(e){super(e,QA[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,uf.prototype)}}function Pe(i){return new uf(i)}/*! @azure/msal-common v15.8.1 2025-07-08 */class Pn{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),s=l=>decodeURIComponent(l.replace(/\+/g," "));return r.forEach(l=>{if(l.trim()){const[d,f]=l.split(/=(.+)/g,2);d&&f&&(n[s(d)]=s(f))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.8.1 2025-07-08 */class rt{constructor(e){const n=e?Pn.trimArrayEntries([...e]):[],r=n?Pn.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw Pe(XC);this.scopes=new Set,r.forEach(s=>this.scopes.add(s))}static fromString(e){const r=(e||H.EMPTY_STRING).split(" ");return new rt(r)}static createSearchScopes(e){const n=new rt(e);return n.containsOnlyOIDCScopes()?n.removeScope(H.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new rt(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return fb.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw $(HC)}}removeScope(e){if(!e)throw $(BC);this.scopes.delete(e.trim())}removeOIDCScopes(){fb.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw $(bh);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw $(bh);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),s=this.getScopeCount();return n.size<s+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):H.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.8.1 2025-07-08 */function Pc(i,e){if(!i)throw $(RC);try{const n=e(i);return JSON.parse(n)}catch{throw $(Jh)}}function fi(i){if(!i)throw $(Jh);const e=i.split(St.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?H.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.8.1 2025-07-08 */function vb(i,e){return!!i&&!!e&&i===e.split(".")[1]}function df(i,e,n,r){if(r){const{oid:s,sub:l,tid:d,name:f,tfp:p,acr:m}=r,b=d||p||m||"";return{tenantId:b,localAccountId:s||l||"",name:f,isHomeTenant:vb(b,i)}}else return{tenantId:n,localAccountId:e,isHomeTenant:vb(n,i)}}function hf(i,e,n,r){let s=i;if(e){const{isHomeTenant:l,...d}=e;s={...i,...d}}if(n){const{isHomeTenant:l,...d}=df(i.homeAccountId,i.localAccountId,i.tenantId,n);return s={...s,...d,idTokenClaims:n,idToken:r},s}return s}/*! @azure/msal-common v15.8.1 2025-07-08 */const bn={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.8.1 2025-07-08 */function aS(i){return i&&(i.tid||i.tfp||i.acr)||null}/*! @azure/msal-common v15.8.1 2025-07-08 */const Zt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.8.1 2025-07-08 */class kt{generateAccountId(){return[this.homeAccountId,this.environment].join(St.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return kt.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const n=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",n||e.tenantId||""].join(St.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,n,r){const s=new kt;n.authorityType===bn.Adfs?s.authorityType=hc.ADFS_ACCOUNT_TYPE:n.protocolMode===Zt.OIDC?s.authorityType=hc.GENERIC_ACCOUNT_TYPE:s.authorityType=hc.MSSTS_ACCOUNT_TYPE;let l;e.clientInfo&&r&&(l=Pc(e.clientInfo,r)),s.clientInfo=e.clientInfo,s.homeAccountId=e.homeAccountId,s.nativeAccountId=e.nativeAccountId;const d=e.environment||n&&n.getPreferredCache();if(!d)throw $(ef);s.environment=d,s.realm=l?.utid||aS(e.idTokenClaims)||"",s.localAccountId=l?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const f=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,p=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(s.username=f||p||"",s.name=e.idTokenClaims?.name||"",s.cloudGraphHostName=e.cloudGraphHostName,s.msGraphHost=e.msGraphHost,e.tenantProfiles)s.tenantProfiles=e.tenantProfiles;else{const m=df(e.homeAccountId,s.localAccountId,s.realm,e.idTokenClaims);s.tenantProfiles=[m]}return s}static createFromAccountInfo(e,n,r){const s=new kt;return s.authorityType=e.authorityType||hc.GENERIC_ACCOUNT_TYPE,s.homeAccountId=e.homeAccountId,s.localAccountId=e.localAccountId,s.nativeAccountId=e.nativeAccountId,s.realm=e.tenantId,s.environment=e.environment,s.username=e.username,s.name=e.name,s.cloudGraphHostName=n,s.msGraphHost=r,s.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),s}static generateHomeAccountId(e,n,r,s,l){if(!(n===bn.Adfs||n===bn.Dsts)){if(e)try{const d=Pc(e,s.base64Decode);if(d.uid&&d.utid)return`${d.uid}.${d.utid}`}catch{}r.warning("No client info in response")}return l?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let s=!0;if(r){const l=e.idTokenClaims||{},d=n.idTokenClaims||{};s=l.iat===d.iat&&l.nonce===d.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&s}}/*! @azure/msal-common v15.8.1 2025-07-08 */function sS(i){return i.startsWith("#/")?i.substring(2):i.startsWith("#")||i.startsWith("?")?i.substring(1):i}function Bc(i){if(!i||i.indexOf("=")<0)return null;try{const e=sS(i),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw $(NC)}return null}function Pa(i,e=!0,n){const r=new Array;return i.forEach((s,l)=>{!e&&n&&l in n?r.push(`${l}=${s}`):r.push(`${l}=${encodeURIComponent(s)}`)}),r.join("&")}/*! @azure/msal-common v15.8.1 2025-07-08 */class Ce{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Pe(JC);e.includes("#")||(this._urlString=Ce.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Pn.endsWith(n,"?")?n=n.slice(0,-1):Pn.endsWith(n,"?/")&&(n=n.slice(0,-2)),Pn.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Pe(Ra)}if(!e.HostNameAndPort||!e.PathSegments)throw Pe(Ra);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Pe($C)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return Ce.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===Uo.COMMON||r[0]===Uo.ORGANIZATIONS)&&(r[0]=e),Ce.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw Pe(Ra);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let s=r.AbsolutePath.split("/");return s=s.filter(l=>l&&l.length>0),r.PathSegments=s,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw Pe(Ra);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===H.FORWARD_SLASH){const s=new Ce(n).getUrlComponents();return s.Protocol+"//"+s.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ce(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Bc(e)}}/*! @azure/msal-common v15.8.1 2025-07-08 */const cS={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Tb=cS.endpointMetadata,ff=cS.instanceDiscoveryMetadata,lS=new Set;ff.metadata.forEach(i=>{i.aliases.forEach(e=>{lS.add(e)})});function $A(i,e){let n;const r=i.canonicalAuthority;if(r){const s=new Ce(r).getUrlComponents().HostNameAndPort;n=Eb(s,i.cloudDiscoveryMetadata?.metadata,Xt.CONFIG,e)||Eb(s,ff.metadata,Xt.HARDCODED_VALUES,e)||i.knownAuthorities}return n||[]}function Eb(i,e,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),i&&e){const s=Hc(e,i);if(s)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),s.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function JA(i){return Hc(ff.metadata,i)}function Hc(i,e){for(let n=0;n<i.length;n++){const r=i[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.8.1 2025-07-08 */const zc="cache_quota_exceeded",pf="cache_error_unknown";/*! @azure/msal-common v15.8.1 2025-07-08 */const Zd={[zc]:"Exceeded cache storage capacity.",[pf]:"Unexpected error occurred when using cache storage."};class pi extends Ne{constructor(e,n){const r=n||(Zd[e]?Zd[e]:Zd[pf]);super(`${e}: ${r}`),Object.setPrototypeOf(this,pi.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function Th(i){return i instanceof Error?i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.message.includes("exceeded the quota")?new pi(zc):new pi(i.name,i.message):new pi(pf)}/*! @azure/msal-common v15.8.1 2025-07-08 */class Eh{constructor(e,n,r,s,l){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(GC,of),this.staticAuthorityOptions=l,this.performanceClient=s}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){const r=this.getAllAccounts(e,n);return r.length>1?r.sort(l=>l.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,n){const r=this.getAccountsFilteredBy(e,n);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,n,r){return e.flatMap(s=>this.getTenantProfilesFromAccountEntity(s,n,r?.tenantId,r))}getTenantedAccountInfoByFilter(e,n,r,s,l){let d=null,f;if(l&&!this.tenantProfileMatchesFilter(r,l))return null;const p=this.getIdToken(e,s,n,r.tenantId);return p&&(f=Ci(p.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(f,l))?null:(d=hf(e,r,f,p?.secret),d)}getTenantProfilesFromAccountEntity(e,n,r,s){const l=e.getAccountInfo();let d=l.tenantProfiles||new Map;const f=this.getTokenKeys();if(r){const m=d.get(r);if(m)d=new Map([[r,m]]);else return[]}const p=[];return d.forEach(m=>{const b=this.getTenantedAccountInfoByFilter(l,f,m,n,s);b&&p.push(b)}),p}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){if(!e)throw $(zC);try{e.account&&await this.setAccount(e.account,n),e.idToken&&r?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&r?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(s){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),s instanceof Ne?s:Th(s)}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},s=this.getTokenKeys(),l=rt.fromString(e.target);s.accessToken.forEach(d=>{if(!this.accessTokenKeyMatchesFilter(d,r,!1))return;const f=this.getAccessTokenCredential(d,n);f&&this.credentialMatchesFilter(f,r)&&rt.fromString(f.target).intersectingScopeSets(l)&&this.removeAccessToken(d,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const r=this.getAccountKeys(),s=[];return r.forEach(l=>{if(!this.isAccountKey(l,e.homeAccountId))return;const d=this.getAccount(l,n);if(!d||e.homeAccountId&&!this.matchHomeAccountId(d,e.homeAccountId)||e.username&&!this.matchUsername(d.username,e.username)||e.environment&&!this.matchEnvironment(d,e.environment)||e.realm&&!this.matchRealm(d,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(d,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(d,e.authorityType))return;const f={localAccountId:e?.localAccountId,name:e?.name},p=d.tenantProfiles?.filter(m=>this.tenantProfileMatchesFilter(m,f));p&&p.length===0||s.push(d)}),s}isAccountKey(e,n,r){return!(e.split(St.CACHE_KEY_SEPARATOR).length<3||n&&!e.toLowerCase().includes(n.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(St.CACHE_KEY_SEPARATOR).length<6)return!1;const n=e.toLowerCase();if(n.indexOf(ze.ID_TOKEN.toLowerCase())===-1&&n.indexOf(ze.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(ze.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(ze.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(ze.REFRESH_TOKEN.toLowerCase())>-1){const r=`${ze.REFRESH_TOKEN}${St.CACHE_KEY_SEPARATOR}${this.clientId}${St.CACHE_KEY_SEPARATOR}`,s=`${ze.REFRESH_TOKEN}${St.CACHE_KEY_SEPARATOR}${Oa}${St.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(s.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===ze.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===_e.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(s=>{if(!this.isAppMetadata(s))return;const l=this.getAppMetadata(s);l&&(e.environment&&!this.matchEnvironment(l,e.environment)||e.clientId&&!this.matchClientId(l,e.clientId)||(r[s]=l))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(s=>{if(!this.isAuthorityMetadata(s)||s.indexOf(this.clientId)===-1)return;const l=this.getAuthorityMetadata(s);l&&l.aliases.indexOf(e)!==-1&&(r=l)}),r}removeAllAccounts(e){this.getAccountKeys().forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,n){const r=this.getAccount(e,n);r&&(this.removeAccountContext(r,n),this.removeItem(e,n))}removeAccountContext(e,n){const r=this.getTokenKeys(),s=e.generateAccountId();r.idToken.forEach(l=>{l.indexOf(s)===0&&this.removeIdToken(l,n)}),r.accessToken.forEach(l=>{l.indexOf(s)===0&&this.removeAccessToken(l,n)}),r.refreshToken.forEach(l=>{l.indexOf(s)===0&&this.removeRefreshToken(l,n)})}removeAccessToken(e,n){const r=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!r||r.credentialType.toLowerCase()!==ze.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==_e.POP)return;const s=r.keyId;s&&this.cryptoImpl.removeTokenBindingKey(s).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${s}`,n),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}readAccountFromCache(e,n){const r=kt.generateAccountCacheKey(e);return this.getAccount(r,n)}getIdToken(e,n,r,s,l){this.commonLogger.trace("CacheManager - getIdToken called");const d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ze.ID_TOKEN,clientId:this.clientId,realm:s},f=this.getIdTokensByFilter(d,n,r),p=f.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(p>1){let m=f;if(!s){const b=new Map;f.forEach((w,U)=>{w.realm===e.tenantId&&b.set(U,w)});const S=b.size;if(S<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),f.values().next().value;if(S===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),b.values().next().value;m=b}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),m.forEach((b,S)=>{this.removeIdToken(S,n)}),l&&n&&l.addFields({multiMatchedID:f.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),f.values().next().value}getIdTokensByFilter(e,n,r){const s=r&&r.idToken||this.getTokenKeys().idToken,l=new Map;return s.forEach(d=>{if(!this.idTokenKeyMatchesFilter(d,{clientId:this.clientId,...e}))return;const f=this.getIdTokenCredential(d,n);f&&this.credentialMatchesFilter(f,e)&&l.set(d,f)}),l}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,r,s){const l=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",l);const d=rt.createSearchScopes(n.scopes),f=n.authenticationScheme||_e.BEARER,p=f.toLowerCase()!==_e.BEARER.toLowerCase()?ze.ACCESS_TOKEN_WITH_AUTH_SCHEME:ze.ACCESS_TOKEN,m={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:p,clientId:this.clientId,realm:s||e.tenantId,target:d,tokenType:f,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},b=r&&r.accessToken||this.getTokenKeys().accessToken,S=[];b.forEach(U=>{if(this.accessTokenKeyMatchesFilter(U,m,!0)){const D=this.getAccessTokenCredential(U,l);D&&this.credentialMatchesFilter(D,m)&&S.push(D)}});const w=S.length;return w<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",l),null):w>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",l),S.forEach(U=>{this.removeAccessToken(Ma(U),l)}),this.performanceClient.addFields({multiMatchedAT:S.length},l),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",l),S[0])}accessTokenKeyMatchesFilter(e,n,r){const s=e.toLowerCase();if(n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&s.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&s.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const l=n.target.asArray();for(let d=0;d<l.length;d++){if(r&&!s.includes(l[d].toLowerCase()))return!1;if(!r&&s.includes(l[d].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const r=this.getTokenKeys(),s=[];return r.accessToken.forEach(l=>{if(!this.accessTokenKeyMatchesFilter(l,e,!0))return;const d=this.getAccessTokenCredential(l,n);d&&this.credentialMatchesFilter(d,e)&&s.push(d)}),s}getRefreshToken(e,n,r,s,l){this.commonLogger.trace("CacheManager - getRefreshToken called");const d=n?Oa:void 0,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ze.REFRESH_TOKEN,clientId:this.clientId,familyId:d},p=s&&s.refreshToken||this.getTokenKeys().refreshToken,m=[];p.forEach(S=>{if(this.refreshTokenKeyMatchesFilter(S,f)){const w=this.getRefreshTokenCredential(S,r);w&&this.credentialMatchesFilter(w,f)&&m.push(w)}});const b=m.length;return b<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(b>1&&l&&r&&l.addFields({multiMatchedRT:b},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),m[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),s=Object.keys(r).map(d=>r[d]),l=s.length;if(l<1)return null;if(l>1)throw $(LC);return s[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Oa)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){return n.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,n){return!!(e&&typeof e=="string"&&n?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const s=$A(this.staticAuthorityOptions,this.commonLogger);if(s.includes(n)&&s.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){return e.realm?.toLowerCase()===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==ze.ACCESS_TOKEN&&e.credentialType!==ze.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:rt.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf($h)!==-1}isAuthorityMetadata(e){return e.indexOf(Dc.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Dc.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class XA extends Eh{async setAccount(){throw $(he)}getAccount(){throw $(he)}async setIdTokenCredential(){throw $(he)}getIdTokenCredential(){throw $(he)}async setAccessTokenCredential(){throw $(he)}getAccessTokenCredential(){throw $(he)}async setRefreshTokenCredential(){throw $(he)}getRefreshTokenCredential(){throw $(he)}setAppMetadata(){throw $(he)}getAppMetadata(){throw $(he)}setServerTelemetry(){throw $(he)}getServerTelemetry(){throw $(he)}setAuthorityMetadata(){throw $(he)}getAuthorityMetadata(){throw $(he)}getAuthorityMetadataKeys(){throw $(he)}setThrottlingCache(){throw $(he)}getThrottlingCache(){throw $(he)}removeItem(){throw $(he)}getKeys(){throw $(he)}getAccountKeys(){throw $(he)}getTokenKeys(){throw $(he)}}/*! @azure/msal-common v15.8.1 2025-07-08 */const A={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},ZA={InProgress:1};/*! @azure/msal-common v15.8.1 2025-07-08 */class Ab{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class uS{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ZA.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Ab}}startPerformanceMeasurement(){return new Ab}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.8.1 2025-07-08 */const dS={tokenRenewalOffsetSeconds:pA,preventCorsPreflight:!1},WA={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Oe.Info,correlationId:H.EMPTY_STRING},ew={claimsBasedCachingEnabled:!1},tw={async sendGetRequestAsync(){throw $(he)},async sendPostRequestAsync(){throw $(he)}},nw={sku:H.SKU,version:of,cpu:H.EMPTY_STRING,os:H.EMPTY_STRING},ow={clientSecret:H.EMPTY_STRING,clientAssertion:void 0},rw={azureCloudInstance:rf.None,tenant:`${H.DEFAULT_COMMON_TENANT}`},iw={application:{appName:"",appVersion:""}};function aw({authOptions:i,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:s,networkInterface:l,cryptoInterface:d,clientCredentials:f,libraryInfo:p,telemetry:m,serverTelemetryManager:b,persistencePlugin:S,serializableCache:w}){const U={...WA,...n};return{authOptions:sw(i),systemOptions:{...dS,...e},loggerOptions:U,cacheOptions:{...ew,...r},storageInterface:s||new XA(i.clientId,Lc,new ro(U),new uS),networkInterface:l||tw,cryptoInterface:d||Lc,clientCredentials:f||ow,libraryInfo:{...nw,...p},telemetry:{...iw,...m},serverTelemetryManager:b||null,persistencePlugin:S||null,serializableCache:w||null}}function sw(i){return{clientCapabilities:[],azureCloudOptions:rw,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...i}}function hS(i){return i.authOptions.authority.options.protocolMode===Zt.OIDC}/*! @azure/msal-common v15.8.1 2025-07-08 */const Sn={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.8.1 2025-07-08 */const fr="client_id",fS="redirect_uri",cw="response_type",lw="response_mode",uw="grant_type",dw="claims",hw="scope",fw="refresh_token",pw="state",gw="nonce",mw="prompt",yw="code",bw="code_challenge",Cw="code_challenge_method",Sw="code_verifier",vw="client-request-id",Tw="x-client-SKU",Ew="x-client-VER",Aw="x-client-OS",ww="x-client-CPU",_w="x-client-current-telemetry",xw="x-client-last-telemetry",Rw="x-ms-lib-capability",kw="x-app-name",Iw="x-app-ver",Ow="post_logout_redirect_uri",Nw="id_token_hint",Mw="client_secret",Dw="client_assertion",Uw="client_assertion_type",pS="token_type",gS="req_cnf",wb="return_spa_code",Lw="nativebroker",Pw="logout_hint",Bw="sid",Hw="login_hint",zw="domain_hint",jw="x-client-xtra-sku",jc="brk_client_id",Fc="brk_redirect_uri",Ah="instance_aware",Fw="ear_jwk",qw="ear_jwe_crypto";/*! @azure/msal-common v15.8.1 2025-07-08 */function al(i,e,n){if(!e)return;const r=i.get(fr);r&&i.has(jc)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:i.get(fS)},e)}function mS(i,e){i.set(cw,e)}function Kw(i,e){i.set(lw,e||dA.QUERY)}function Gw(i){i.set(Lw,"1")}function gf(i,e,n=!0,r=qa){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const s=n?[...e||[],...r]:e||[],l=new rt(s);i.set(hw,l.printScopes())}function mf(i,e){i.set(fr,e)}function yf(i,e){i.set(fS,e)}function Vw(i,e){i.set(Ow,e)}function Yw(i,e){i.set(Nw,e)}function Qw(i,e){i.set(zw,e)}function pc(i,e){i.set(Hw,e)}function qc(i,e){i.set(xt.CCS_HEADER,`UPN:${e}`)}function Da(i,e){i.set(xt.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function _b(i,e){i.set(Bw,e)}function bf(i,e,n){const r=t_(e,n);try{JSON.parse(r)}catch{throw Pe(sf)}i.set(dw,r)}function Cf(i,e){i.set(vw,e)}function Sf(i,e){i.set(Tw,e.sku),i.set(Ew,e.version),e.os&&i.set(Aw,e.os),e.cpu&&i.set(ww,e.cpu)}function vf(i,e){e?.appName&&i.set(kw,e.appName),e?.appVersion&&i.set(Iw,e.appVersion)}function $w(i,e){i.set(mw,e)}function yS(i,e){e&&i.set(pw,e)}function Jw(i,e){i.set(gw,e)}function Xw(i,e,n){if(e&&n)i.set(bw,e),i.set(Cw,n);else throw Pe(cf)}function Zw(i,e){i.set(yw,e)}function Ww(i,e){i.set(fw,e)}function e_(i,e){i.set(Sw,e)}function bS(i,e){i.set(Mw,e)}function CS(i,e){e&&i.set(Dw,e)}function SS(i,e){e&&i.set(Uw,e)}function vS(i,e){i.set(uw,e)}function Tf(i){i.set(hA,"1")}function TS(i){i.has(Ah)||i.set(Ah,"true")}function ur(i,e){Object.entries(e).forEach(([n,r])=>{!i.has(n)&&r&&i.set(n,r)})}function t_(i,e){let n;if(!i)n={};else try{n=JSON.parse(i)}catch{throw Pe(sf)}return e&&e.length>0&&(n.hasOwnProperty(dc.ACCESS_TOKEN)||(n[dc.ACCESS_TOKEN]={}),n[dc.ACCESS_TOKEN][dc.XMS_CC]={values:e}),JSON.stringify(n)}function Ef(i,e){e&&(i.set(pS,_e.POP),i.set(gS,e))}function ES(i,e){e&&(i.set(pS,_e.SSH),i.set(gS,e))}function AS(i,e){i.set(_w,e.generateCurrentRequestHeaderValue()),i.set(xw,e.generateLastRequestHeaderValue())}function wS(i){i.set(Rw,Na.X_MS_LIB_CAPABILITY_VALUE)}function n_(i,e){i.set(Pw,e)}function sl(i,e,n){i.has(jc)||i.set(jc,e),i.has(Fc)||i.set(Fc,n)}function o_(i,e){i.set(Fw,encodeURIComponent(e)),i.set(qw,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}/*! @azure/msal-common v15.8.1 2025-07-08 */function r_(i){return i.hasOwnProperty("authorization_endpoint")&&i.hasOwnProperty("token_endpoint")&&i.hasOwnProperty("issuer")&&i.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.8.1 2025-07-08 */function i_(i){return i.hasOwnProperty("tenant_discovery_endpoint")&&i.hasOwnProperty("metadata")}/*! @azure/msal-common v15.8.1 2025-07-08 */function a_(i){return i.hasOwnProperty("error")&&i.hasOwnProperty("error_description")}/*! @azure/msal-common v15.8.1 2025-07-08 */const fn=(i,e,n,r,s)=>(...l)=>{n.trace(`Executing function ${e}`);const d=r?.startMeasurement(e,s);if(s){const f=e+"CallCount";r?.incrementFields({[f]:1},s)}try{const f=i(...l);return d?.end({success:!0}),n.trace(`Returning result from ${e}`),f}catch(f){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(f))}catch{n.trace("Unable to print error message.")}throw d?.end({success:!1},f),f}},q=(i,e,n,r,s)=>(...l)=>{n.trace(`Executing function ${e}`);const d=r?.startMeasurement(e,s);if(s){const f=e+"CallCount";r?.incrementFields({[f]:1},s)}return r?.setPreQueueTime(e,s),i(...l).then(f=>(n.trace(`Returning result from ${e}`),d?.end({success:!0}),f)).catch(f=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(f))}catch{n.trace("Unable to print error message.")}throw d?.end({success:!1},f),f})};/*! @azure/msal-common v15.8.1 2025-07-08 */class cl{constructor(e,n,r,s){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=s}async detectRegion(e,n){this.performanceClient?.addQueueMeasurement(A.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=ii.ENVIRONMENT_VARIABLE;else{const s=cl.IMDS_OPTIONS;try{const l=await q(this.getRegionFromIMDS.bind(this),A.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(H.IMDS_VERSION,s);if(l.status===Do.SUCCESS&&(r=l.body,n.region_source=ii.IMDS),l.status===Do.BAD_REQUEST){const d=await q(this.getCurrentVersion.bind(this),A.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!d)return n.region_source=ii.FAILED_AUTO_DETECTION,null;const f=await q(this.getRegionFromIMDS.bind(this),A.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(d,s);f.status===Do.SUCCESS&&(r=f.body,n.region_source=ii.IMDS)}}catch{return n.region_source=ii.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=ii.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){return this.performanceClient?.addQueueMeasurement(A.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${H.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,H.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(A.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${H.IMDS_ENDPOINT}?format=json`,e);return n.status===Do.BAD_REQUEST&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}cl.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.8.1 2025-07-08 */class Ct{constructor(e,n,r,s,l,d,f,p){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=s,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=l,this.performanceClient=f,this.correlationId=d,this.managedIdentity=p||!1,this.regionDiscovery=new cl(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(H.CIAM_AUTH_URL))return bn.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case H.ADFS:return bn.Adfs;case H.DSTS:return bn.Dsts}return bn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ce(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw $(no)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw $(no)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw $(no)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw $(KC);return this.replacePath(this.metadata.end_session_endpoint)}else throw $(no)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw $(no)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw $(no)}canReplaceTenant(e){return e.PathSegments.length===1&&!Ct.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===bn.Default&&this.protocolMode!==Zt.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const s=new Ce(this.metadata.canonical_authority).getUrlComponents(),l=s.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((f,p)=>{let m=l[p];if(p===0&&this.canReplaceTenant(s)){const b=new Ce(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];m!==b&&(this.logger.verbose(`Replacing tenant domain name ${m} with id ${b}`),m=b)}f!==m&&(n=n.replace(`/${m}/`,`/${f}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===bn.Adfs||this.protocolMode===Zt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(A.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await q(this.updateCloudDiscoveryMetadata.bind(this),A.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await q(this.updateEndpointMetadata.bind(this),A.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Cb(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==Xt.CACHE&&r?.source!==Xt.CACHE&&(e.expiresAt=Cb(),e.canonical_authority=this.canonicalAuthority);const s=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(s,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(A.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Xt.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&n.metadata){const s=await q(this.updateMetadataWithRegionalInformation.bind(this),A.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);fc(e,s,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await q(this.getEndpointMetadataFromNetwork.bind(this),A.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await q(this.updateMetadataWithRegionalInformation.bind(this),A.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),fc(e,r,!0),Xt.NETWORK;throw $(OC,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),fc(e,n,!1),{source:Xt.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const s=this.getEndpointMetadataFromHardcodedValues();if(s)return fc(e,s,!1),{source:Xt.HARDCODED_VALUES,metadata:s};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=Sb(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Xt.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ce(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Pe(eS)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(A.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const r=await this.networkInterface.sendGetRequestAsync(n,e);return r_(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Tb?Tb[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(A.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(n){if(n!==H.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Jd.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Ct.replaceWithRegionalInformation(e,n);const r=await q(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),A.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=Jd.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,Ct.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=Jd.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(A.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await q(this.getCloudDiscoveryMetadataFromNetwork.bind(this),A.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Xd(e,r,!0),Xt.NETWORK;throw Pe(tS)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||H.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||H.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||H.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Xd(e,n,!1),Xt.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const s=JA(this.hostnameAndPort);if(s)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Xd(e,s,!1),Xt.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=Sb(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Xt.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===bn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ct.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Hc(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Pe(lf)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ct.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(A.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${H.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(e,n);let l,d;if(i_(s.body))l=s.body,d=l.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${l.tenant_discovery_endpoint}`);else if(a_(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),l=s.body,l.error===H.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${l.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${l.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),d=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Hc(d,this.hostnameAndPort)}catch(s){if(s instanceof Ne)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const l=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${l.name}
Error Description: ${l.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Ct.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Ce.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==rf.None){const s=n.tenant?n.tenant:H.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${s}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return H.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw $(no)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return lS.has(e)}static isPublicCloudAuthority(e){return H.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const s=new Ce(e);s.validateAsUri();const l=s.getUrlComponents();let d=`${n}.${l.HostNameAndPort}`;this.isPublicCloudAuthority(l.HostNameAndPort)&&(d=`${n}.${H.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const f=Ce.constructAuthorityUriFromObject({...s.getUrlComponents(),HostNameAndPort:d}).urlString;return r?`${f}?${r}`:f}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Ct.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Ct.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Ct.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const s=new Ce(e).getUrlComponents();if(s.PathSegments.length===0&&s.HostNameAndPort.endsWith(H.CIAM_AUTH_URL)){const l=s.HostNameAndPort.split(".")[0];n=`${n}${l}${H.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Ct.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Uo.COMMON,Uo.CONSUMERS,Uo.ORGANIZATIONS]);function s_(i){const r=new Ce(i).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case Uo.COMMON:case Uo.ORGANIZATIONS:case Uo.CONSUMERS:return;default:return r}}function _S(i){return i.endsWith(H.FORWARD_SLASH)?i:`${i}${H.FORWARD_SLASH}`}function c_(i){const e=i.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw Pe(lf)}return{canonicalAuthority:i.authority?_S(i.authority):void 0,knownAuthorities:i.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.8.1 2025-07-08 */async function xS(i,e,n,r,s,l,d){d?.addQueueMeasurement(A.AuthorityFactoryCreateDiscoveredInstance,l);const f=Ct.transformCIAMAuthority(_S(i)),p=new Ct(f,e,n,r,s,l,d);try{return await q(p.resolveEndpointsAsync.bind(p),A.AuthorityResolveEndpointsAsync,s,d,l)(),p}catch{throw $(no)}}/*! @azure/msal-common v15.8.1 2025-07-08 */class br extends Ne{constructor(e,n,r,s,l){super(e,n,r),this.name="ServerError",this.errorNo=s,this.status=l,Object.setPrototypeOf(this,br.prototype)}}/*! @azure/msal-common v15.8.1 2025-07-08 */function ll(i,e,n){return{clientId:i,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}/*! @azure/msal-common v15.8.1 2025-07-08 */class Un{static generateThrottlingStorageKey(e){return`${Na.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,r){const s=Un.generateThrottlingStorageKey(n),l=e.getThrottlingCache(s);if(l){if(l.throttleTime<Date.now()){e.removeItem(s,r);return}throw new br(l.errorCodes?.join(" ")||H.EMPTY_STRING,l.errorMessage,l.subError)}}static postProcess(e,n,r,s){if(Un.checkResponseStatus(r)||Un.checkResponseForRetryAfter(r)){const l={throttleTime:Un.calculateThrottleTime(parseInt(r.headers[xt.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(Un.generateThrottlingStorageKey(n),l,s)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(xt.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||Na.DEFAULT_THROTTLE_TIME_SECONDS),r+Na.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,s){const l=ll(n,r,s),d=this.generateThrottlingStorageKey(l);e.removeItem(d,r.correlationId)}}/*! @azure/msal-common v15.8.1 2025-07-08 */class ul extends Ne{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,ul.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function ka(i,e,n,r){return i.errorMessage=`${i.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new ul(i,e,n)}/*! @azure/msal-common v15.8.1 2025-07-08 */class Af{constructor(e,n){this.config=aw(e),this.logger=new ro(this.config.loggerOptions,GC,of),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[xt.CONTENT_TYPE]=H.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Sn.HOME_ACCOUNT_ID:try{const r=fi(e.credential);n[xt.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Sn.UPN:n[xt.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,s,l,d){d&&this.performanceClient?.addQueueMeasurement(d,l);const f=await this.sendPostRequest(s,e,{body:n,headers:r},l);return this.config.serverTelemetryManager&&f.status<500&&f.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),f}async sendPostRequest(e,n,r,s){Un.preProcess(this.cacheManager,e,s);let l;try{l=await q(this.networkClient.sendPostRequestAsync.bind(this.networkClient),A.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,s)(n,r);const d=l.headers||{};this.performanceClient?.addFields({refreshTokenSize:l.body.refresh_token?.length||0,httpVerToken:d[xt.X_MS_HTTP_VERSION]||"",requestId:d[xt.X_MS_REQUEST_ID]||""},s)}catch(d){if(d instanceof ul){const f=d.responseHeaders;throw f&&this.performanceClient?.addFields({httpVerToken:f[xt.X_MS_HTTP_VERSION]||"",requestId:f[xt.X_MS_REQUEST_ID]||"",contentTypeHeader:f[xt.CONTENT_TYPE]||void 0,contentLengthHeader:f[xt.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},s),d.error}throw d instanceof Ne?d:$(IC)}return Un.postProcess(this.cacheManager,e,l,s),l}async updateAuthority(e,n){this.performanceClient?.addQueueMeasurement(A.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,s=await xS(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=s}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&sl(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&ur(n,e.tokenQueryParameters),Cf(n,e.correlationId),al(n,e.correlationId,this.performanceClient),Pa(n)}}/*! @azure/msal-common v15.8.1 2025-07-08 */const Kc="no_tokens_found",RS="native_account_unavailable",wf="refresh_token_expired",_f="ux_not_allowed",l_="interaction_required",u_="consent_required",d_="login_required",dl="bad_token";/*! @azure/msal-common v15.8.1 2025-07-08 */const xb=[l_,u_,d_,dl,_f],h_=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],f_={[Kc]:"No refresh token found in the cache. Please sign-in.",[RS]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[wf]:"Refresh token has expired.",[dl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[_f]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class En extends Ne{constructor(e,n,r,s,l,d,f,p){super(e,n,r),Object.setPrototypeOf(this,En.prototype),this.timestamp=s||H.EMPTY_STRING,this.traceId=l||H.EMPTY_STRING,this.correlationId=d||H.EMPTY_STRING,this.claims=f||H.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=p}}function kS(i,e,n){const r=!!i&&xb.indexOf(i)>-1,s=!!n&&h_.indexOf(n)>-1,l=!!e&&xb.some(d=>e.indexOf(d)>-1);return r||l||s}function Gc(i){return new En(i,f_[i])}/*! @azure/msal-common v15.8.1 2025-07-08 */class Si{static setRequestState(e,n,r){const s=Si.generateLibraryState(e,r);return n?`${s}${H.RESOURCE_DELIM}${n}`:s}static generateLibraryState(e,n){if(!e)throw $(Sh);const r={id:e.createNewGuid()};n&&(r.meta=n);const s=JSON.stringify(r);return e.base64Encode(s)}static parseRequestState(e,n){if(!e)throw $(Sh);if(!n)throw $(mi);try{const r=n.split(H.RESOURCE_DELIM),s=r[0],l=r.length>1?r.slice(1).join(H.RESOURCE_DELIM):H.EMPTY_STRING,d=e.base64Decode(s),f=JSON.parse(d);return{userRequestState:l||H.EMPTY_STRING,libraryState:f}}catch{throw $(mi)}}}/*! @azure/msal-common v15.8.1 2025-07-08 */const p_={SW:"sw"};class yi{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){this.performanceClient?.addQueueMeasurement(A.PopTokenGenerateCnf,e.correlationId);const r=await q(this.generateKid.bind(this),A.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),s=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:s}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(A.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:p_.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,s){const{resourceRequestMethod:l,resourceRequestUri:d,shrClaims:f,shrNonce:p,shrOptions:m}=r,S=(d?new Ce(d):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:zt(),m:l?.toUpperCase(),u:S?.HostNameAndPort,nonce:p||this.cryptoUtils.createNewGuid(),p:S?.AbsolutePath,q:S?.QueryString?[[],S.QueryString]:void 0,client_claims:f||void 0,...s},n,m,r.correlationId)}}/*! @azure/msal-common v15.8.1 2025-07-08 */class g_{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.8.1 2025-07-08 */class pr{constructor(e,n,r,s,l,d,f){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=s,this.serializableCache=l,this.persistencePlugin=d,this.performanceClient=f}validateTokenResponse(e,n){if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||H.NOT_AVAILABLE} - Timestamp: ${e.timestamp||H.NOT_AVAILABLE} - Description: ${e.error_description||H.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||H.NOT_AVAILABLE} - Trace ID: ${e.trace_id||H.NOT_AVAILABLE}`,s=e.error_codes?.length?e.error_codes[0]:void 0,l=new br(e.error,r,e.suberror,s,e.status);if(n&&e.status&&e.status>=Do.SERVER_ERROR_RANGE_START&&e.status<=Do.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${l}`);return}else if(n&&e.status&&e.status>=Do.CLIENT_ERROR_RANGE_START&&e.status<=Do.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${l}`);return}throw kS(e.error,e.error_description,e.suberror)?new En(e.error,e.error_description,e.suberror,e.timestamp||H.EMPTY_STRING,e.trace_id||H.EMPTY_STRING,e.correlation_id||H.EMPTY_STRING,e.claims||H.EMPTY_STRING,s):l}}async handleServerTokenResponse(e,n,r,s,l,d,f,p,m){this.performanceClient?.addQueueMeasurement(A.HandleServerTokenResponse,e.correlation_id);let b;if(e.id_token){if(b=Ci(e.id_token||H.EMPTY_STRING,this.cryptoObj.base64Decode),l&&l.nonce&&b.nonce!==l.nonce)throw $(DC);if(s.maxAge||s.maxAge===0){const D=b.auth_time;if(!D)throw $(Zh);VC(D,s.maxAge)}}this.homeAccountIdentifier=kt.generateHomeAccountId(e.client_info||H.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,b);let S;l&&l.state&&(S=Si.parseRequestState(this.cryptoObj,l.state)),e.key_id=e.key_id||s.sshKid||void 0;const w=this.generateCacheRecord(e,n,r,s,b,d,l);let U;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),U=new g_(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(U)),f&&!p&&w.account){const D=w.account.generateAccountKey();if(!this.cacheStorage.getAccount(D,s.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await pr.generateAuthenticationResult(this.cryptoObj,n,w,!1,s,b,S,void 0,m)}await this.cacheStorage.saveCacheRecord(w,s.correlationId,s.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&U&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(U))}return pr.generateAuthenticationResult(this.cryptoObj,n,w,!1,s,b,S,e,m)}generateCacheRecord(e,n,r,s,l,d,f){const p=n.getPreferredCache();if(!p)throw $(ef);const m=aS(l);let b,S;e.id_token&&l&&(b=ol(this.homeAccountIdentifier,p,e.id_token,this.clientId,m||""),S=xf(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,s.correlationId,l,e.client_info,p,m,f,void 0,this.logger));let w=null;if(e.access_token){const K=e.scope?rt.fromString(e.scope):new rt(s.scopes||[]),V=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,Y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,B=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,J=r+V,W=J+Y,ee=B&&B>0?r+B:void 0;w=rl(this.homeAccountIdentifier,p,e.access_token,this.clientId,m||n.tenant||"",K.printScopes(),J,W,this.cryptoObj.base64Decode,ee,e.token_type,d,e.key_id,s.claims,s.requestedClaimsHash)}let U=null;if(e.refresh_token){let K;if(e.refresh_token_expires_in){const V=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;K=r+V}U=YC(this.homeAccountIdentifier,p,e.refresh_token,this.clientId,e.foci,d,K)}let D=null;return e.foci&&(D={clientId:this.clientId,environment:p,familyId:e.foci}),{account:S,idToken:b,accessToken:w,refreshToken:U,appMetadata:D}}static async generateAuthenticationResult(e,n,r,s,l,d,f,p,m){let b=H.EMPTY_STRING,S=[],w=null,U,D,K=H.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===_e.POP&&!l.popKid){const J=new yi(e),{secret:W,keyId:ee}=r.accessToken;if(!ee)throw $(tf);b=await J.signPopToken(W,ee,l)}else b=r.accessToken.secret;S=rt.fromString(r.accessToken.target).asArray(),w=hi(r.accessToken.expiresOn),U=hi(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(D=hi(r.accessToken.refreshOn))}r.appMetadata&&(K=r.appMetadata.familyId===Oa?Oa:"");const V=d?.oid||d?.sub||"",Y=d?.tid||"";p?.spa_accountid&&r.account&&(r.account.nativeAccountId=p?.spa_accountid);const B=r.account?hf(r.account.getAccountInfo(),void 0,d,r.idToken?.secret):null;return{authority:n.canonicalAuthority,uniqueId:V,tenantId:Y,scopes:S,account:B,idToken:r?.idToken?.secret||"",idTokenClaims:d||{},accessToken:b,fromCache:s,expiresOn:w,extExpiresOn:U,refreshOn:D,correlationId:l.correlationId,requestId:m||H.EMPTY_STRING,familyId:K,tokenType:r.accessToken?.tokenType||H.EMPTY_STRING,state:f?f.userRequestState:H.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||H.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||H.EMPTY_STRING,code:p?.spa_code,fromNativeBroker:!1}}}function xf(i,e,n,r,s,l,d,f,p,m,b,S){S?.verbose("setCachedAccount called");const U=i.getAccountKeys().find(B=>B.startsWith(n));let D=null;U&&(D=i.getAccount(U,s));const K=D||kt.createAccount({homeAccountId:n,idTokenClaims:l,clientInfo:d,environment:f,cloudGraphHostName:m?.cloud_graph_host_name,msGraphHost:m?.msgraph_host,nativeAccountId:b},e,r),V=K.tenantProfiles||[],Y=p||K.realm;if(Y&&!V.find(B=>B.tenantId===Y)){const B=df(n,K.localAccountId,Y,l);V.push(B)}return K.tenantProfiles=V,K}/*! @azure/msal-common v15.8.1 2025-07-08 */async function IS(i,e,n){return typeof i=="string"?i:i({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.8.1 2025-07-08 */class OS extends Af{constructor(e,n){super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,n){if(this.performanceClient?.addQueueMeasurement(A.AuthClientAcquireToken,e.correlationId),!e.code)throw $(PC);const r=zt(),s=await q(this.executeTokenRequest.bind(this),A.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),l=s.headers?.[xt.X_MS_REQUEST_ID],d=new pr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return d.validateTokenResponse(s.body),q(d.handleServerTokenResponse.bind(d),A.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,r,e,n,void 0,void 0,void 0,l)}getLogoutUri(e){if(!e)throw Pe(WC);const n=this.createLogoutUrlQueryString(e);return Ce.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){this.performanceClient?.addQueueMeasurement(A.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),s=Ce.appendQueryString(e.tokenEndpoint,r),l=await q(this.createTokenRequestBody.bind(this),A.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let d;if(n.clientInfo)try{const m=Pc(n.clientInfo,this.cryptoUtils.base64Decode);d={credential:`${m.uid}${St.CLIENT_INFO_SEPARATOR}${m.utid}`,type:Sn.HOME_ACCOUNT_ID}}catch(m){this.logger.verbose("Could not parse client info for CCS Header: "+m)}const f=this.createTokenRequestHeaders(d||n.ccsCredential),p=ll(this.config.authOptions.clientId,n);return q(this.executePostToTokenEndpoint.bind(this),A.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(s,l,f,p,n.correlationId,A.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(A.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(mf(n,e.embeddedClientId||e.tokenBodyParameters?.[fr]||this.config.authOptions.clientId),this.includeRedirectUri)yf(n,e.redirectUri);else if(!e.redirectUri)throw Pe(QC);if(gf(n,e.scopes,!0,this.oidcDefaultScopes),Zw(n,e.code),Sf(n,this.config.libraryInfo),vf(n,this.config.telemetry.application),wS(n),this.serverTelemetryManager&&!hS(this.config)&&AS(n,this.serverTelemetryManager),e.codeVerifier&&e_(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&bS(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;CS(n,await IS(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),SS(n,s.assertionType)}if(vS(n,xC.AUTHORIZATION_CODE_GRANT),Tf(n),e.authenticationScheme===_e.POP){const s=new yi(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await q(s.generateCnf.bind(s),A.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Ef(n,l)}else if(e.authenticationScheme===_e.SSH)if(e.sshJwk)ES(n,e.sshJwk);else throw Pe(il);(!Pn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&bf(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=Pc(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${St.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Sn.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Sn.HOME_ACCOUNT_ID:try{const s=fi(r.credential);Da(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Sn.UPN:qc(n,r.credential);break}return e.embeddedClientId&&sl(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&ur(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[wb])&&ur(n,{[wb]:"1"}),al(n,e.correlationId,this.performanceClient),Pa(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&Vw(n,e.postLogoutRedirectUri),e.correlationId&&Cf(n,e.correlationId),e.idTokenHint&&Yw(n,e.idTokenHint),e.state&&yS(n,e.state),e.logoutHint&&n_(n,e.logoutHint),e.extraQueryParameters&&ur(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&TS(n),Pa(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.8.1 2025-07-08 */const m_=300;class y_ extends Af{constructor(e,n){super(e,n)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(A.RefreshTokenClientAcquireToken,e.correlationId);const n=zt(),r=await q(this.executeTokenRequest.bind(this),A.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),s=r.headers?.[xt.X_MS_REQUEST_ID],l=new pr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return l.validateTokenResponse(r.body),q(l.handleServerTokenResponse.bind(l),A.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,s)}async acquireTokenByRefreshToken(e){if(!e)throw Pe(ZC);if(this.performanceClient?.addQueueMeasurement(A.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw $(Wh);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await q(this.acquireTokenWithCachedRefreshToken.bind(this),A.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){const s=r instanceof En&&r.errorCode===Kc,l=r instanceof br&&r.errorCode===gb.INVALID_GRANT_ERROR&&r.subError===gb.CLIENT_MISMATCH_ERROR;if(s||l)return q(this.acquireTokenWithCachedRefreshToken.bind(this),A.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return q(this.acquireTokenWithCachedRefreshToken.bind(this),A.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){this.performanceClient?.addQueueMeasurement(A.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=fn(this.cacheManager.getRefreshToken.bind(this.cacheManager),A.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!r)throw Gc(Kc);if(r.expiresOn&&vh(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||m_))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Gc(wf);const s={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||_e.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Sn.HOME_ACCOUNT_ID}};try{return await q(this.acquireToken.bind(this),A.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(s)}catch(l){if(l instanceof En&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),l.subError===dl)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const d=Ma(r);this.cacheManager.removeRefreshToken(d,e.correlationId)}throw l}}async executeTokenRequest(e,n){this.performanceClient?.addQueueMeasurement(A.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),s=Ce.appendQueryString(n.tokenEndpoint,r),l=await q(this.createTokenRequestBody.bind(this),A.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),d=this.createTokenRequestHeaders(e.ccsCredential),f=ll(this.config.authOptions.clientId,e);return q(this.executePostToTokenEndpoint.bind(this),A.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(s,l,d,f,e.correlationId,A.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(A.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(mf(n,e.embeddedClientId||e.tokenBodyParameters?.[fr]||this.config.authOptions.clientId),e.redirectUri&&yf(n,e.redirectUri),gf(n,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),vS(n,xC.REFRESH_TOKEN_GRANT),Tf(n),Sf(n,this.config.libraryInfo),vf(n,this.config.telemetry.application),wS(n),this.serverTelemetryManager&&!hS(this.config)&&AS(n,this.serverTelemetryManager),Ww(n,e.refreshToken),this.config.clientCredentials.clientSecret&&bS(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const r=this.config.clientCredentials.clientAssertion;CS(n,await IS(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),SS(n,r.assertionType)}if(e.authenticationScheme===_e.POP){const r=new yi(this.cryptoUtils,this.performanceClient);let s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await q(r.generateCnf.bind(r),A.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Ef(n,s)}else if(e.authenticationScheme===_e.SSH)if(e.sshJwk)ES(n,e.sshJwk);else throw Pe(il);if((!Pn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&bf(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Sn.HOME_ACCOUNT_ID:try{const r=fi(e.ccsCredential.credential);Da(n,r)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Sn.UPN:qc(n,e.ccsCredential.credential);break}return e.embeddedClientId&&sl(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&ur(n,e.tokenBodyParameters),al(n,e.correlationId,this.performanceClient),Pa(n)}}/*! @azure/msal-common v15.8.1 2025-07-08 */class b_ extends Af{constructor(e,n){super(e,n)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(A.SilentFlowClientAcquireCachedToken,e.correlationId);let n=sr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Pn.isEmptyObj(e.claims))throw this.setCacheOutcome(sr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),$(Lo);if(!e.account)throw $(Wh);const r=e.account.tenantId||s_(e.authority),s=this.cacheManager.getTokenKeys(),l=this.cacheManager.getAccessToken(e.account,e,s,r);if(l){if(IA(l.cachedAt)||vh(l.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(sr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),$(Lo);l.refreshOn&&vh(l.refreshOn,0)&&(n=sr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(sr.NO_CACHED_ACCESS_TOKEN,e.correlationId),$(Lo);const d=e.authority||this.authority.getPreferredCache(),f={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:l,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,s,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(d)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await q(this.generateResultFromCacheRecord.bind(this),A.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(f,e),n]}setCacheOutcome(e,n){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},n),e!==sr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){this.performanceClient?.addQueueMeasurement(A.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=Ci(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const s=r?.auth_time;if(!s)throw $(Zh);VC(s,n.maxAge)}return pr.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.8.1 2025-07-08 */const C_={sendGetRequestAsync:()=>Promise.reject($(he)),sendPostRequestAsync:()=>Promise.reject($(he))};/*! @azure/msal-common v15.8.1 2025-07-08 */function S_(i,e,n,r){const s=e.correlationId,l=new Map;mf(l,e.embeddedClientId||e.extraQueryParameters?.[fr]||i.clientId);const d=[...e.scopes||[],...e.extraScopesToConsent||[]];if(gf(l,d,!0,i.authority.options.OIDCOptions?.defaultScopes),yf(l,e.redirectUri),Cf(l,s),Kw(l,e.responseMode),Tf(l),e.prompt&&($w(l,e.prompt),r?.addFields({prompt:e.prompt},s)),e.domainHint&&(Qw(l,e.domainHint),r?.addFields({domainHintFromRequest:!0},s)),e.prompt!==Rt.SELECT_ACCOUNT)if(e.sid&&e.prompt===Rt.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),_b(l,e.sid),r?.addFields({sidFromRequest:!0},s);else if(e.account){const f=E_(e.account);let p=A_(e.account);if(p&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),p=null),p){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),pc(l,p),r?.addFields({loginHintFromClaim:!0},s);try{const m=fi(e.account.homeAccountId);Da(l,m)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(f&&e.prompt===Rt.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),_b(l,f),r?.addFields({sidFromClaim:!0},s);try{const m=fi(e.account.homeAccountId);Da(l,m)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),pc(l,e.loginHint),qc(l,e.loginHint),r?.addFields({loginHintFromRequest:!0},s);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),pc(l,e.account.username),r?.addFields({loginHintFromUpn:!0},s);try{const m=fi(e.account.homeAccountId);Da(l,m)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),pc(l,e.loginHint),qc(l,e.loginHint),r?.addFields({loginHintFromRequest:!0},s));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&Jw(l,e.nonce),e.state&&yS(l,e.state),(e.claims||i.clientCapabilities&&i.clientCapabilities.length>0)&&bf(l,e.claims,i.clientCapabilities),e.embeddedClientId&&sl(l,i.clientId,i.redirectUri),i.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Ah))&&TS(l),l}function NS(i,e,n,r){const s=Pa(e,n,r);return Ce.appendQueryString(i.authorizationEndpoint,s)}function v_(i,e){if(MS(i,e),!i.code)throw $(FC);return i}function MS(i,e){if(!i.state||!e)throw i.state?$(yh,"Cached State"):$(yh,"Server State");let n,r;try{n=decodeURIComponent(i.state)}catch{throw $(mi,i.state)}try{r=decodeURIComponent(e)}catch{throw $(mi,i.state)}if(n!==r)throw $(MC);if(i.error||i.error_description||i.suberror){const s=T_(i);throw kS(i.error,i.error_description,i.suberror)?new En(i.error||"",i.error_description,i.suberror,i.timestamp||"",i.trace_id||"",i.correlation_id||"",i.claims||"",s):new br(i.error||"",i.error_description,i.suberror,s)}}function T_(i){const e="code=",n=i.error_uri?.lastIndexOf(e);return n&&n>=0?i.error_uri?.substring(n+e.length):void 0}function E_(i){return i.idTokenClaims?.sid||null}function A_(i){return i.idTokenClaims?.login_hint||null}/*! @azure/msal-common v15.8.1 2025-07-08 */const Rb=",",DS="|";function w_(i){const{skus:e,libraryName:n,libraryVersion:r,extensionName:s,extensionVersion:l}=i,d=new Map([[0,[n,r]],[2,[s,l]]]);let f=[];if(e?.length){if(f=e.split(Rb),f.length<4)return e}else f=Array.from({length:4},()=>DS);return d.forEach((p,m)=>{p.length===2&&p[0]?.length&&p[1]?.length&&__({skuArr:f,index:m,skuName:p[0],skuVersion:p[1]})}),f.join(Rb)}function __(i){const{skuArr:e,index:n,skuName:r,skuVersion:s}=i;n>=e.length||(e[n]=[r,s].join(DS))}class Ba{constructor(e,n){this.cacheOutcome=sr.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||H.EMPTY_STRING,this.wrapperVer=e.wrapperVer||H.EMPTY_STRING,this.telemetryCacheKey=pt.CACHE_KEY+St.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${pt.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&n.push(`broker_error=${r}`);const s=n.join(pt.VALUE_SEPARATOR),l=this.getRegionDiscoveryFields(),d=[e,l].join(pt.VALUE_SEPARATOR);return[pt.SCHEMA_VERSION,d,s].join(pt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Ba.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(pt.VALUE_SEPARATOR),s=e.errors.slice(0,n).join(pt.VALUE_SEPARATOR),l=e.errors.length,d=n<l?pt.OVERFLOW_TRUE:pt.OVERFLOW_FALSE,f=[l,d].join(pt.VALUE_SEPARATOR);return[pt.SCHEMA_VERSION,e.cacheHits,r,s,f].join(pt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=pt.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Ne?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(pt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Ba.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const s={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s,this.correlationId)}}static maxErrorsToSend(e){let n,r=0,s=0;const l=e.errors.length;for(n=0;n<l;n++){const d=e.failedRequests[2*n]||H.EMPTY_STRING,f=e.failedRequests[2*n+1]||H.EMPTY_STRING,p=e.errors[n]||H.EMPTY_STRING;if(s+=d.toString().length+f.toString().length+p.length+3,s<pt.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||H.EMPTY_STRING),e.push(this.regionSource||H.EMPTY_STRING),e.push(this.regionOutcome||H.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return w_(e)}}/*! @azure/msal-common v15.8.1 2025-07-08 */const US="missing_kid_error",LS="missing_alg_error";/*! @azure/msal-common v15.8.1 2025-07-08 */const x_={[US]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[LS]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Rf extends Ne{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,Rf.prototype)}}function kb(i){return new Rf(i,x_[i])}/*! @azure/msal-common v15.8.1 2025-07-08 */class kf{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw kb(US);if(!e.alg)throw kb(LS);const n=new kf({typ:e.typ||fA.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const If="pkce_not_created",Of="ear_jwk_empty",PS="ear_jwe_empty",wh="crypto_nonexistent",hl="empty_navigate_uri",BS="hash_empty_error",Nf="no_state_in_hash",HS="hash_does_not_contain_known_properties",zS="unable_to_parse_state",jS="state_interaction_type_mismatch",FS="interaction_in_progress",qS="popup_window_error",KS="empty_window_error",Ha="user_cancelled",R_="monitor_popup_timeout",GS="monitor_window_timeout",VS="redirect_in_iframe",YS="block_iframe_reload",QS="block_nested_popups",k_="iframe_closed_prematurely",fl="silent_logout_unsupported",$S="no_account_error",I_="silent_prompt_value_error",JS="no_token_request_cache_error",XS="unable_to_parse_token_request_cache_error",O_="auth_request_not_set_error",N_="invalid_cache_type",pl="non_browser_environment",ci="database_not_open",Vc="no_network_connectivity",ZS="post_request_failed",WS="get_request_failed",_h="failed_to_parse_response",ev="unable_to_load_token",Mf="crypto_key_not_found",tv="auth_code_required",nv="auth_code_or_nativeAccountId_required",ov="spa_code_and_nativeAccountId_present",Df="database_unavailable",rv="unable_to_acquire_token_from_native_platform",iv="native_handshake_timeout",av="native_extension_not_installed",Uf="native_connection_not_established",Yc="uninitialized_public_client_application",sv="native_prompt_not_supported",cv="invalid_base64_string",lv="invalid_pop_token_request",uv="failed_to_build_headers",dv="failed_to_parse_headers",Ec="failed_to_decrypt_ear_response",Lf="timed_out";/*! @azure/msal-browser v4.15.0 2025-07-08 */const to="For more visit: aka.ms/msaljs/browser-errors",M_={[If]:"The PKCE code challenge and verifier could not be generated.",[Of]:"No EAR encryption key provided. This is unexpected.",[PS]:"Server response does not contain ear_jwe property. This is unexpected.",[wh]:"The crypto object or function is not available.",[hl]:"Navigation URI is empty. Please check stack trace for more info.",[BS]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${to}`,[Nf]:"Hash does not contain state. Please verify that the request originated from msal.",[HS]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${to}`,[zS]:"Unable to parse state. Please verify that the request originated from msal.",[jS]:"Hash contains state but the interaction type does not match the caller.",[FS]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${to}`,[qS]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[KS]:"window.open returned null or undefined window object.",[Ha]:"User cancelled the flow.",[R_]:`Token acquisition in popup failed due to timeout.  ${to}`,[GS]:`Token acquisition in iframe failed due to timeout.  ${to}`,[VS]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[YS]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${to}`,[QS]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[k_]:"The iframe being monitored was closed prematurely.",[fl]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[$S]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[I_]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[JS]:"No token request found in cache.",[XS]:"The cached token request could not be parsed.",[O_]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[N_]:"Invalid cache type",[pl]:"Login and token requests are not supported in non-browser environments.",[ci]:"Database is not open!",[Vc]:"No network connectivity. Check your internet connection.",[ZS]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[WS]:"Network request failed. Please check the network trace to determine root cause.",[_h]:"Failed to parse network response. Check network trace.",[ev]:"Error loading token to cache.",[Mf]:"Cryptographic Key or Keypair not found in browser storage.",[tv]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[nv]:"An authorization code or nativeAccountId must be provided to this flow.",[ov]:"Request cannot contain both spa code and native account id.",[Df]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[rv]:`Unable to acquire token from native platform.  ${to}`,[iv]:"Timed out while attempting to establish connection to browser extension",[av]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Uf]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${to}`,[Yc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${to}`,[sv]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[cv]:"Invalid base64 encoded string.",[lv]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[uv]:"Failed to build request headers object.",[dv]:"Failed to parse response headers",[Ec]:"Failed to decrypt ear response",[Lf]:"The request timed out."};class Ka extends Ne{constructor(e,n){super(e,M_[e],n),Object.setPrototypeOf(this,Ka.prototype),this.name="BrowserAuthError"}}function Z(i,e){return new Ka(i,e)}/*! @azure/msal-browser v4.15.0 2025-07-08 */const Pt={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},dn={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Aa={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},lt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Ib={GET:"GET",POST:"POST"},Mo={SIGNIN:"signin",SIGNOUT:"signout"},Ze={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},un={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys",VERSION:"msal.version"},gc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},De={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ie;(function(i){i.Redirect="redirect",i.Popup="popup",i.Silent="silent",i.None="none"})(ie||(ie={}));const Xe={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Ob={scopes:qa},hv="jwk",D_={React:"@azure/msal-react"},xh="msal.db",U_=1,L_=`${xh}.keys`,_t={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},P_=[_t.Default,_t.Skip,_t.RefreshTokenAndNetwork],B_="msal.browser.log.level",H_="msal.browser.log.pii",z_="msal.browser.platform.auth.dom";/*! @azure/msal-browser v4.15.0 2025-07-08 */function mc(i){return encodeURIComponent(za(i).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function zo(i){return fv(i).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function za(i){return fv(new TextEncoder().encode(i))}function fv(i){const e=Array.from(i,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.15.0 2025-07-08 */function Tn(i){return new TextDecoder().decode(Po(i))}function Po(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Z(cv)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.15.0 2025-07-08 */const j_="RSASSA-PKCS1-v1_5",vi="AES-GCM",pv="HKDF",Pf="SHA-256",F_=2048,q_=new Uint8Array([1,0,1]),Nb="0123456789abcdef",Mb=new Uint32Array(1),Bf="raw",gv="encrypt",Hf="decrypt",K_="deriveKey",G_="crypto_subtle_undefined",zf={name:j_,hash:Pf,modulusLength:F_,publicExponent:q_};function V_(i){if(!window)throw Z(pl);if(!window.crypto)throw Z(wh);if(!i&&!window.crypto.subtle)throw Z(wh,G_)}async function mv(i,e,n){e?.addQueueMeasurement(A.Sha256Digest,n);const s=new TextEncoder().encode(i);return window.crypto.subtle.digest(Pf,s)}function Y_(i){return window.crypto.getRandomValues(i)}function Wd(){return window.crypto.getRandomValues(Mb),Mb[0]}function An(){const i=Date.now(),e=Wd()*1024+(Wd()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),s=e&2**30-1,l=Wd();n[0]=i/2**40,n[1]=i/2**32,n[2]=i/2**24,n[3]=i/2**16,n[4]=i/2**8,n[5]=i,n[6]=112|r>>>8,n[7]=r,n[8]=128|s>>>24,n[9]=s>>>16,n[10]=s>>>8,n[11]=s,n[12]=l>>>24,n[13]=l>>>16,n[14]=l>>>8,n[15]=l;let d="";for(let f=0;f<n.length;f++)d+=Nb.charAt(n[f]>>>4),d+=Nb.charAt(n[f]&15),(f===3||f===5||f===7||f===9)&&(d+="-");return d}async function Q_(i,e){return window.crypto.subtle.generateKey(zf,i,e)}async function eh(i){return window.crypto.subtle.exportKey(hv,i)}async function $_(i,e,n){return window.crypto.subtle.importKey(hv,i,zf,e,n)}async function J_(i,e){return window.crypto.subtle.sign(zf,i,e)}async function jf(){const i=await yv(),n={alg:"dir",kty:"oct",k:zo(new Uint8Array(i))};return za(JSON.stringify(n))}async function X_(i){const e=Tn(i),r=JSON.parse(e).k,s=Po(r);return window.crypto.subtle.importKey(Bf,s,vi,!1,[Hf])}async function Z_(i,e){const n=e.split(".");if(n.length!==5)throw Z(Ec,"jwe_length");const r=await X_(i).catch(()=>{throw Z(Ec,"import_key")});try{const s=new TextEncoder().encode(n[0]),l=Po(n[2]),d=Po(n[3]),f=Po(n[4]),p=f.byteLength*8,m=new Uint8Array(d.length+f.length);m.set(d),m.set(f,d.length);const b=await window.crypto.subtle.decrypt({name:vi,iv:l,tagLength:p,additionalData:s},r,m);return new TextDecoder().decode(b)}catch{throw Z(Ec,"decrypt")}}async function yv(){const i=await window.crypto.subtle.generateKey({name:vi,length:256},!0,[gv,Hf]);return window.crypto.subtle.exportKey(Bf,i)}async function Db(i){return window.crypto.subtle.importKey(Bf,i,pv,!1,[K_])}async function bv(i,e,n){return window.crypto.subtle.deriveKey({name:pv,salt:e,hash:Pf,info:new TextEncoder().encode(n)},i,{name:vi,length:256},!1,[gv,Hf])}async function W_(i,e,n){const r=new TextEncoder().encode(e),s=window.crypto.getRandomValues(new Uint8Array(16)),l=await bv(i,s,n),d=await window.crypto.subtle.encrypt({name:vi,iv:new Uint8Array(12)},l,r);return{data:zo(new Uint8Array(d)),nonce:zo(s)}}async function ex(i,e,n,r){const s=Po(r),l=await bv(i,Po(e),n),d=await window.crypto.subtle.decrypt({name:vi,iv:new Uint8Array(12)},l,s);return new TextDecoder().decode(d)}async function Cv(i){const e=await mv(i),n=new Uint8Array(e);return zo(n)}/*! @azure/msal-browser v4.15.0 2025-07-08 */const gl="storage_not_supported",ot="stubbed_public_client_application_called",Ff="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.15.0 2025-07-08 */const Ac={[gl]:"Given storage configuration option was not supported.",[ot]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Ff]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};Ac[gl],Ac[ot],Ac[Ff];class qf extends Ne{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,qf.prototype)}}function Je(i){return new qf(i,Ac[i])}/*! @azure/msal-browser v4.15.0 2025-07-08 */function Sv(i){i.location.hash="",typeof i.history.replaceState=="function"&&i.history.replaceState(null,"",`${i.location.origin}${i.location.pathname}${i.location.search}`)}function tx(i){const e=i.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Kf(){return window.parent!==window}function nx(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Pt.POPUP_NAME_PREFIX}.`)===0}function oo(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function ox(){const e=new Ce(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function rx(){if(Ce.hashContainsKnownProperties(window.location.hash)&&Kf())throw Z(YS)}function ix(i){if(Kf()&&!i)throw Z(VS)}function ax(){if(nx())throw Z(QS)}function vv(){if(typeof window>"u")throw Z(pl)}function Tv(i){if(!i)throw Z(Yc)}function Gf(i){vv(),rx(),ax(),Tv(i)}function Ub(i,e){if(Gf(i),ix(e.system.allowRedirectInIframe),e.cache.cacheLocation===lt.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Je(Ff)}function Ev(i){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(i).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function sx(){return An()}/*! @azure/msal-browser v4.15.0 2025-07-08 */class Qc{navigateInternal(e,n){return Qc.defaultNavigateWindow(e,n)}navigateExternal(e,n){return Qc.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,s)=>{setTimeout(()=>{s(Z(Lf,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class cx{async sendGetRequestAsync(e,n){let r,s={},l=0;const d=Lb(n);try{r=await fetch(e,{method:Ib.GET,headers:d})}catch(f){throw ka(Z(window.navigator.onLine?WS:Vc),void 0,void 0,f)}s=Pb(r.headers);try{return l=r.status,{headers:s,body:await r.json(),status:l}}catch(f){throw ka(Z(_h),l,s,f)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",s=Lb(n);let l,d=0,f={};try{l=await fetch(e,{method:Ib.POST,headers:s,body:r})}catch(p){throw ka(Z(window.navigator.onLine?ZS:Vc),void 0,void 0,p)}f=Pb(l.headers);try{return d=l.status,{headers:f,body:await l.json(),status:d}}catch(p){throw ka(Z(_h),d,f,p)}}}function Lb(i){try{const e=new Headers;if(!(i&&i.headers))return e;const n=i.headers;return Object.entries(n).forEach(([r,s])=>{e.append(r,s)}),e}catch(e){throw ka(Z(uv),void 0,void 0,e)}}function Pb(i){try{const e={};return i.forEach((n,r)=>{e[r]=n}),e}catch{throw Z(dv)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const lx=6e4,Rh=1e4,ux=3e4,Av=2e3;function dx({auth:i,cache:e,system:n,telemetry:r},s){const l={clientId:H.EMPTY_STRING,authority:`${H.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:H.EMPTY_STRING,authorityMetadata:H.EMPTY_STRING,redirectUri:typeof window<"u"?oo():"",postLogoutRedirectUri:H.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Zt.AAD,OIDCOptions:{serverResponseType:nl.FRAGMENT,defaultScopes:[H.OPENID_SCOPE,H.PROFILE_SCOPE,H.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:rf.None,tenant:H.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},d={cacheLocation:lt.SessionStorage,temporaryCacheLocation:lt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===lt.LocalStorage),claimsBasedCachingEnabled:!1},f={loggerCallback:()=>{},logLevel:Oe.Info,piiLoggingEnabled:!1},m={...{...dS,loggerOptions:f,networkClient:s?new cx:C_,navigationClient:new Qc,loadFrameTimeout:0,windowHashTimeout:n?.loadFrameTimeout||lx,iframeHashTimeout:n?.loadFrameTimeout||Rh,navigateFrameWait:0,redirectNavigationTimeout:ux,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:n?.nativeBrokerHandshakeTimeout||Av,pollIntervalMilliseconds:Pt.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:n?.loggerOptions||f},b={application:{appName:H.EMPTY_STRING,appVersion:H.EMPTY_STRING},client:new uS};if(i?.protocolMode!==Zt.OIDC&&i?.OIDCOptions&&new ro(m.loggerOptions).warning(JSON.stringify(Pe(oS))),i?.protocolMode&&i.protocolMode===Zt.OIDC&&m?.allowPlatformBroker)throw Pe(rS);return{auth:{...l,...i,OIDCOptions:{...l.OIDCOptions,...i?.OIDCOptions}},cache:{...d,...e},system:m,telemetry:{...b,...r}}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const hx="@azure/msal-browser",gr="4.15.0";/*! @azure/msal-browser v4.15.0 2025-07-08 */class Vf{static loggerCallback(e,n){switch(e){case Oe.Error:console.error(n);return;case Oe.Info:console.info(n);return;case Oe.Verbose:console.debug(n);return;case Oe.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=dx(e,this.browserEnvironment);let n;try{n=window[lt.SessionStorage]}catch{}const r=n?.getItem(B_),s=n?.getItem(H_)?.toLowerCase(),l=s==="true"?!0:s==="false"?!1:void 0,d={...this.config.system.loggerOptions},f=r&&Object.keys(Oe).includes(r)?Oe[r]:void 0;f&&(d.loggerCallback=Vf.loggerCallback,d.logLevel=f),l!==void 0&&(d.piiLoggingEnabled=l),this.logger=new ro(d,hx,gr),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class mr extends Vf{getModuleName(){return mr.MODULE_NAME}getId(){return mr.ID}async initialize(){return this.available=typeof window<"u",this.available}}mr.MODULE_NAME="";mr.ID="StandardOperatingContext";/*! @azure/msal-browser v4.15.0 2025-07-08 */class fx{constructor(){this.dbName=xh,this.version=U_,this.tableName=L_,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",s=>{s.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",s=>{const l=s;this.db=l.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(Z(Df)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Z(ci));const d=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);d.addEventListener("success",f=>{const p=f;this.closeConnection(),n(p.target.result)}),d.addEventListener("error",f=>{this.closeConnection(),r(f)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,s)=>{if(!this.db)return s(Z(ci));const f=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);f.addEventListener("success",()=>{this.closeConnection(),r()}),f.addEventListener("error",p=>{this.closeConnection(),s(p)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Z(ci));const d=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);d.addEventListener("success",()=>{this.closeConnection(),n()}),d.addEventListener("error",f=>{this.closeConnection(),r(f)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(Z(ci));const l=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();l.addEventListener("success",d=>{const f=d;this.closeConnection(),e(f.target.result)}),l.addEventListener("error",d=>{this.closeConnection(),n(d)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Z(ci));const d=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);d.addEventListener("success",f=>{const p=f;this.closeConnection(),n(p.target.result===1)}),d.addEventListener("error",f=>{this.closeConnection(),r(f)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(xh),s=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(s),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(s),e(!0))),r.addEventListener("error",()=>(clearTimeout(s),n(!1)))})}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class ml{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class px{constructor(e){this.inMemoryCache=new ml,this.indexedDBCache=new fx,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Ka&&e.errorCode===Df)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class io{constructor(e,n,r){this.logger=e,V_(r??!1),this.cache=new px(this.logger),this.performanceClient=n}createNewGuid(){return An()}base64Encode(e){return za(e)}base64Decode(e){return Tn(e)}base64UrlEncode(e){return mc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const n=this.performanceClient?.startMeasurement(A.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await Q_(io.EXTRACTABLE,io.POP_KEY_USAGES),s=await eh(r.publicKey),l={e:s.e,kty:s.kty,n:s.n},d=Bb(l),f=await this.hashString(d),p=await eh(r.privateKey),m=await $_(p,!1,["sign"]);return await this.cache.setItem(f,{privateKey:m,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),f}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw $(qC)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,s){const l=this.performanceClient?.startMeasurement(A.CryptoOptsSignJwt,s),d=await this.cache.getItem(n);if(!d)throw Z(Mf);const f=await eh(d.publicKey),p=Bb(f),m=mc(JSON.stringify({kid:n})),b=kf.getShrHeaderString({...r?.header,alg:f.alg,kid:m}),S=mc(b);e.cnf={jwk:JSON.parse(p)};const w=mc(JSON.stringify(e)),U=`${S}.${w}`,K=new TextEncoder().encode(U),V=await J_(d.privateKey,K),Y=zo(new Uint8Array(V)),B=`${U}.${Y}`;return l&&l.end({success:!0}),B}async hashString(e){return Cv(e)}}io.POP_KEY_USAGES=["sign","verify"];io.EXTRACTABLE=!0;function Bb(i){return JSON.stringify(i,Object.keys(i).sort())}/*! @azure/msal-browser v4.15.0 2025-07-08 */const gx=24*60*60*1e3,kh={Lax:"Lax",None:"None"};class wv{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let s=0;s<r.length;s++){const l=r[s],[d,...f]=decodeURIComponent(l).trim().split("="),p=f.join("=");if(d===n)return p}return""}getUserData(){throw $(he)}setItem(e,n,r,s=!0,l=kh.Lax){let d=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${l};`;if(r){const f=mx(r);d+=`expires=${f};`}(s||l===kh.None)&&(d+="Secure;"),document.cookie=d}async setUserData(){return Promise.reject($(he))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const s=decodeURIComponent(r).trim().split("=");n.push(s[0])}),n}containsKey(e){return this.getKeys().includes(e)}}function mx(i){const e=new Date;return new Date(e.getTime()+i*gx).toUTCString()}/*! @azure/msal-browser v4.15.0 2025-07-08 */function Ih(i){const e=i.getItem(un.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function Oh(i,e){const n=e.getItem(`${un.TOKEN_KEYS}.${i}`);if(n){const r=JSON.parse(n);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const Hb="msal.cache.encryption",yx="msal.broadcast.cache";class bx{constructor(e,n,r){if(!window.localStorage)throw Je(gl);this.memoryStorage=new ml,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(yx)}async initialize(e){const n=new wv,r=n.getItem(Hb);let s={key:"",id:""};if(r)try{s=JSON.parse(r)}catch{}if(s.key&&s.id){const l=fn(Po,A.Base64Decode,this.logger,this.performanceClient,e)(s.key);this.encryptionCookie={id:s.id,key:await q(Db,A.GenerateHKDF,this.logger,this.performanceClient,e)(l)},await q(this.importExistingCache.bind(this),A.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const l=An(),d=await q(yv,A.GenerateBaseKey,this.logger,this.performanceClient,e)(),f=fn(zo,A.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(d));this.encryptionCookie={id:l,key:await q(Db,A.GenerateHKDF,this.logger,this.performanceClient,e)(d)};const p={id:l,key:f};n.setItem(Hb,JSON.stringify(p),0,!0,kh.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Z(Yc);return this.memoryStorage.getItem(e)}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r,s){if(!this.initialized||!this.encryptionCookie)throw Z(Yc);const{data:l,nonce:d}=await q(W_,A.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),f={id:this.encryptionCookie.id,nonce:d,data:l,lastUpdatedAt:s};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(f)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),Ih(this).forEach(r=>this.removeItem(r));const n=Oh(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(H.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=Ih(this);n=await this.importArray(n,e),this.setItem(un.ACCOUNT_KEYS,JSON.stringify(n));const r=Oh(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${un.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let s;try{s=JSON.parse(r)}catch{return null}return!s.id||!s.nonce||!s.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),null):s.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):q(ex,A.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,s.nonce,this.getContext(e),s.data)}async importArray(e,n){const r=[],s=[];return e.forEach(l=>{const d=this.getItemFromEncryptedCache(l,n).then(f=>{f?(this.memoryStorage.setItem(l,f),r.push(l)):this.removeItem(l)});s.push(d)}),await Promise.all(s),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(A.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:s,context:l}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(l&&l!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${l}`),n.end({success:!1,errorCode:"contextMismatch"});return}s?(this.memoryStorage.setItem(r,s),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class Cx{constructor(){if(!window.sessionStorage)throw Je(gl)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const te={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.15.0 2025-07-08 */class Nh extends Eh{constructor(e,n,r,s,l,d,f){super(e,r,s,l,f),this.cacheConfig=n,this.logger=s,this.internalStorage=new ml,this.browserStorage=zb(e,n.cacheLocation,s,l),this.temporaryCacheStorage=zb(e,n.temporaryCacheLocation,s,l),this.cookieStorage=new wv,this.eventHandler=d}async initialize(e){await this.browserStorage.initialize(e),this.trackVersionChanges(e)}trackVersionChanges(e){const n=this.browserStorage.getItem(un.VERSION);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==gr&&this.setItem(un.VERSION,gr,e)}validateAndParseJson(e){try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,r){let s=[];for(let d=0;d<=20;d++)try{this.browserStorage.setItem(e,n),d>0&&this.removeAccessTokenKeys(s.slice(0,d),r);break}catch(f){const p=Th(f);if(p.errorCode===zc&&d<20){if(s.length||(e===`${un.TOKEN_KEYS}.${this.clientId}`?s=JSON.parse(n).accessToken:s=this.getTokenKeys().accessToken),s.length<=d)throw p;this.removeAccessToken(s[d],r,!1)}else throw p}}async setUserData(e,n,r,s){let l=[];for(let f=0;f<=20;f++)try{await q(this.browserStorage.setUserData.bind(this.browserStorage),A.SetUserData,this.logger,this.performanceClient)(e,n,r,s),f>0&&this.removeAccessTokenKeys(l.slice(0,f),r);break}catch(p){const m=Th(p);if(m.errorCode===zc&&f<20){if(l.length||(l=this.getTokenKeys().accessToken),l.length<=f)throw m;this.removeAccessToken(l[f],r,!1)}else throw m}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,n),null;const s=this.validateAndParseJson(r);return!s||!kt.isAccountEntity(s)?null:Eh.toObject(new kt,s)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey(),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),n,s);const l=this.addAccountKeyToMap(r,n);this.cacheConfig.cacheLocation===lt.LocalStorage&&l&&this.eventHandler.emitEvent(te.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Ih(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(un.ACCOUNT_KEYS,JSON.stringify(r),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),s=r.indexOf(e);if(s>-1){if(r.splice(s,1),r.length===0){this.removeItem(un.ACCOUNT_KEYS);return}else this.setItem(un.ACCOUNT_KEYS,JSON.stringify(r),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){super.removeAccount(e,n),this.removeAccountKeyFromMap(e,n)}removeAccountContext(e,n){super.removeAccountContext(e,n),this.cacheConfig.cacheLocation===lt.LocalStorage&&this.eventHandler.emitEvent(te.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e,n){super.removeIdToken(e,n);const r=this.getTokenKeys(),s=r.idToken.indexOf(e);s>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(s,1),this.setTokenKeys(r,n))}removeAccessToken(e,n,r=!0){super.removeAccessToken(e,n),r&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n){this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys();let s=0;if(e.forEach(l=>{const d=r.accessToken.indexOf(l);d>-1&&(r.accessToken.splice(d,1),s++)}),s>0){this.logger.info(`removed ${s} accessToken keys from tokenKeys map`),this.setTokenKeys(r,n);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const r=this.getTokenKeys(),s=r.refreshToken.indexOf(e);s>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(s,1),this.setTokenKeys(r,n))}getTokenKeys(){return Oh(this.clientId,this.browserStorage)}setTokenKeys(e,n){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(`${un.TOKEN_KEYS}.${this.clientId}`);return}else this.setItem(`${un.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(e),n)}getIdTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const s=this.validateAndParseJson(r);return!s||!NA(s)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),s)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=Ma(e),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),n,s);const l=this.getTokenKeys();l.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),l.idToken.push(r),this.setTokenKeys(l,n))}getAccessTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const s=this.validateAndParseJson(r);return!s||!OA(s)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),s)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=Ma(e),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),n,s);const l=this.getTokenKeys(),d=l.accessToken.indexOf(r);d!==-1&&l.accessToken.splice(d,1),this.logger.trace(`access token ${d===-1?"added to":"updated in"} map`),l.accessToken.push(r),this.setTokenKeys(l,n)}getRefreshTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const s=this.validateAndParseJson(r);return!s||!MA(s)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),s)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=Ma(e),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),n,s);const l=this.getTokenKeys();l.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),l.refreshToken.push(r),this.setTokenKeys(l,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!FA(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=jA(e);this.setItem(r,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!HA(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),r)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&qA(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(gc.WRAPPER_SKU,e),this.internalStorage.setItem(gc.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(gc.WRAPPER_SKU)||H.EMPTY_STRING,n=this.internalStorage.getItem(gc.WRAPPER_VER)||H.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(pb.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const s=this.validateAndParseJson(r);return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:s.homeAccountId,localAccountId:s.localAccountId,tenantId:s.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const r=this.generateCacheKey(pb.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const s={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:zt().toString()};this.setItem(r,JSON.stringify(s),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(te.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!zA(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),r)}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const l=this.cookieStorage.getItem(r);if(l)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),l}const s=this.temporaryCacheStorage.getItem(r);if(!s){if(this.cacheConfig.cacheLocation===lt.LocalStorage){const l=this.browserStorage.getItem(r);if(l)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),l}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s}setTemporaryCache(e,n,r){const s=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(s,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(s,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(H.CACHE_PREFIX)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(H.CACHE_PREFIX)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(A.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let r=0;n.accessToken.forEach(s=>{const l=this.getAccessTokenCredential(s,e);l?.requestedClaimsHash&&s.includes(l.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(s,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Pn.startsWith(e,H.CACHE_PREFIX)?e:`${H.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Ze.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Ze.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Ze.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Ze.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Ze.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=za(JSON.stringify(e));if(this.setTemporaryCache(Ze.REQUEST_PARAMS,r,!0),n){const s=za(n);this.setTemporaryCache(Ze.VERIFIER,s,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Ze.REQUEST_PARAMS,!0);if(!e)throw Z(JS);const n=this.getTemporaryCache(Ze.VERIFIER,!0);let r,s="";try{r=JSON.parse(Tn(e)),n&&(s=Tn(n))}catch(l){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${l}`),Z(XS)}return[r,s]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Ze.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const n=this.getInteractionInProgress()?.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${H.CACHE_PREFIX}.${Ze.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Sv(window),null}}setInteractionInProgress(e,n=Mo.SIGNIN){const r=`${H.CACHE_PREFIX}.${Ze.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw Z(FS);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){const r=ol(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let s;n.claims&&(s=await this.cryptoImpl.hashString(n.claims));const l=rl(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?bb(e.expiresOn):0,e.extExpiresOn?bb(e.extExpiresOn):0,Tn,void 0,e.tokenType,void 0,n.sshKid,n.claims,s),d={idToken:r,accessToken:l};return this.saveCacheRecord(d,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(s){if(s instanceof pi&&this.performanceClient&&n)try{const l=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:l.refreshToken.length,cacheIdCount:l.idToken.length,cacheAtCount:l.accessToken.length},n)}catch{}throw s}}}function zb(i,e,n,r){try{switch(e){case lt.LocalStorage:return new bx(i,n,r);case lt.SessionStorage:return new Cx;case lt.MemoryStorage:default:break}}catch(s){n.error(s)}return new ml}const Sx=(i,e,n,r)=>{const s={cacheLocation:lt.MemoryStorage,temporaryCacheLocation:lt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Nh(i,s,Lc,e,n,r)};/*! @azure/msal-browser v4.15.0 2025-07-08 */function vx(i,e,n,r,s){return i.verbose("getAllAccounts called"),n?e.getAllAccounts(s||{},r):[]}function Tx(i,e,n,r){if(e.trace("getAccount called"),Object.keys(i).length===0)return e.warning("getAccount: No accountFilter provided"),null;const s=n.getAccountInfoFilteredBy(i,r);return s?(e.verbose("getAccount: Account matching provided filter found, returning"),s):(e.verbose("getAccount: No matching account found, returning null"),null)}function Ex(i,e,n,r){if(e.trace("getAccountByUsername called"),!i)return e.warning("getAccountByUsername: No username provided"),null;const s=n.getAccountInfoFilteredBy({username:i},r);return s?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${i}`),s):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function Ax(i,e,n,r){if(e.trace("getAccountByHomeId called"),!i)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const s=n.getAccountInfoFilteredBy({homeAccountId:i},r);return s?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${i}`),s):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function wx(i,e,n,r){if(e.trace("getAccountByLocalId called"),!i)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const s=n.getAccountInfoFilteredBy({localAccountId:i},r);return s?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${i}`),s):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function _x(i,e,n){e.setActiveAccount(i,n)}function xx(i,e){return i.getActiveAccount(e)}/*! @azure/msal-browser v4.15.0 2025-07-08 */const Rx="msal.broadcast.event";class kx{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ro({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(Rx)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const s=r||sx();return this.eventCallbacks.has(s)?(this.logger.error(`Event callback with id: ${s} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(s,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${s}`),s)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,s){const l={eventType:e,interactionType:n||null,payload:r||null,error:s||null,timestamp:Date.now()};switch(e){case te.ACCOUNT_ADDED:case te.ACCOUNT_REMOVED:case te.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(l);break;default:this.invokeCallbacks(l);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],s)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${s}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class _v{constructor(e,n,r,s,l,d,f,p,m){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=l,this.navigationClient=d,this.platformAuthProvider=p,this.correlationId=m||An(),this.logger=s.clone(Pt.MSAL_SKU,gr,this.correlationId),this.performanceClient=f}async clearCacheOnLogout(e,n){if(n){kt.accountInfoIsEqual(n,this.browserStorage.getActiveAccount(e),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null,e));try{this.browserStorage.removeAccount(kt.generateAccountCacheKey(n),e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return Ce.getAbsoluteUrl(n,oo())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ba(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(A.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const s={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=e.requestAuthority||this.config.auth.authority,d=r?.length?r==="true":this.config.auth.instanceAware,f=n&&d?this.config.auth.authority.replace(Ce.getDomainFromUrl(l),n.environment):l,p=Ct.generateAuthority(f,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),m=await q(xS,A.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(p,this.config.system.networkClient,this.browserStorage,s,this.logger,this.correlationId,this.performanceClient);if(n&&!m.isAlias(n.environment))throw Pe(iS);return m}}/*! @azure/msal-browser v4.15.0 2025-07-08 */async function Yf(i,e,n,r){n.addQueueMeasurement(A.InitializeBaseRequest,i.correlationId);const s=i.authority||e.auth.authority,l=[...i&&i.scopes||[]],d={...i,correlationId:i.correlationId,authority:s,scopes:l};if(!d.authenticationScheme)d.authenticationScheme=_e.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(d.authenticationScheme===_e.SSH){if(!i.sshJwk)throw Pe(il);if(!i.sshKid)throw Pe(nS)}r.verbose(`Authentication Scheme set to "${d.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&i.claims&&!Pn.isEmptyObj(i.claims)&&(d.requestedClaimsHash=await Cv(i.claims)),d}async function Ix(i,e,n,r,s){r.addQueueMeasurement(A.InitializeSilentRequest,i.correlationId);const l=await q(Yf,A.InitializeBaseRequest,s,r,i.correlationId)(i,n,r,s);return{...i,...l,account:e,forceRefresh:i.forceRefresh||!1}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class Ti extends _v{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const n={correlationId:this.correlationId||An(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Ce.getAbsoluteUrl(e.postLogoutRedirectUri,oo())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Ce.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,oo())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Ce.getAbsoluteUrl(oo(),oo())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(A.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await q(this.getClientConfiguration.bind(this),A.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new OS(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:l,account:d}=e;this.performanceClient.addQueueMeasurement(A.StandardInteractionClientGetClientConfiguration,this.correlationId);const f=await q(this.getDiscoveredAuthority.bind(this),A.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:l,account:d}),p=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:f,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:p.loggerCallback,piiLoggingEnabled:p.piiLoggingEnabled,logLevel:p.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:Pt.MSAL_SKU,version:gr,cpu:H.EMPTY_STRING,os:H.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(A.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),s={interactionType:n},l=Si.setRequestState(this.browserCrypto,e&&e.state||H.EMPTY_STRING,s),f={...await q(Yf,A.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:l,nonce:e.nonce||An(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return f;const p=e.account||this.browserStorage.getActiveAccount(this.correlationId);return p&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${p.homeAccountId}`,this.correlationId),f.account=p),f}}/*! @azure/msal-browser v4.15.0 2025-07-08 */function Ox(i,e){if(!e)return null;try{return Si.parseRequestState(i,e).libraryState.meta}catch{throw $(mi)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */function $c(i,e,n){const r=Bc(i);if(!r)throw sS(i)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${i}`),Z(HS)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),Z(BS));return r}function Nx(i,e,n){if(!i.state)throw Z(Nf);const r=Ox(e,i.state);if(!r)throw Z(zS);if(r.interactionType!==n)throw Z(jS)}/*! @azure/msal-browser v4.15.0 2025-07-08 */class xv{constructor(e,n,r,s,l){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=s,this.performanceClient=l}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(A.HandleCodeResponse,n.correlationId);let r;try{r=v_(e,n.state)}catch(s){throw s instanceof br&&s.subError===Ha?Z(Ha):s}return q(this.handleCodeResponseFromServer.bind(this),A.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(A.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await q(this.authModule.updateAuthority.bind(this.authModule),A.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const l=this.createCcsCredentials(n);l&&(this.authCodeRequest.ccsCredential=l)}return await q(this.authModule.acquireToken.bind(this.authModule),A.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Sn.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Sn.UPN}:null}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const Mx="ContentError",Rv="user_switch";/*! @azure/msal-browser v4.15.0 2025-07-08 */const Dx="USER_INTERACTION_REQUIRED",Ux="USER_CANCEL",Lx="NO_NETWORK",Px="PERSISTENT_ERROR",Bx="DISABLED",Hx="ACCOUNT_UNAVAILABLE",zx="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.15.0 2025-07-08 */const jx=-2147186943,Fx={[Rv]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Ln extends Ne{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,Ln.prototype),this.name="NativeAuthError",this.ext=r}}function li(i){if(i.ext&&i.ext.status&&(i.ext.status===Px||i.ext.status===Bx)||i.ext&&i.ext.error&&i.ext.error===jx)return!0;switch(i.errorCode){case Mx:return!0;default:return!1}}function Jc(i,e,n){if(n&&n.status)switch(n.status){case Hx:return Gc(RS);case Dx:return new En(i,e);case Ux:return Z(Ha);case Lx:return Z(Vc);case zx:return Gc(_f)}return new Ln(i,Fx[i]||e,n)}/*! @azure/msal-browser v4.15.0 2025-07-08 */class kv extends Ti{async acquireToken(e){this.performanceClient.addQueueMeasurement(A.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(De.acquireTokenSilent_silentFlow),r=await q(this.getClientConfiguration.bind(this),A.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),s=new b_(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const d=(await q(s.acquireCachedToken.bind(s),A.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),d}catch(l){throw l instanceof Ka&&l.errorCode===Mf&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),l}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n?.account)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class wc extends _v{constructor(e,n,r,s,l,d,f,p,m,b,S,w){super(e,n,r,s,l,d,p,m,w),this.apiId=f,this.accountId=b,this.platformAuthProvider=m,this.nativeStorageManager=S,this.silentCacheClient=new kv(e,this.nativeStorageManager,r,s,l,d,p,m,w);const U=this.platformAuthProvider.getExtensionName();this.skus=Ba.makeExtraSkuString({libraryName:Pt.MSAL_SKU,libraryVersion:gr,extensionName:U,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[jw]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(A.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(A.NativeInteractionClientAcquireToken,e.correlationId),s=zt(),l=this.initializeServerTelemetryManager(this.apiId);try{const d=await this.initializeNativeRequest(e);try{const p=await this.acquireTokensFromCache(this.accountId,d);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),p}catch(p){if(n===_t.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),p;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const f=await this.platformAuthProvider.sendMessage(d);return await this.handleNativeResponse(f,d,s).then(p=>(r.end({success:!0,isNativeBroker:!0,requestId:p.requestId}),l.clearNativeBrokerErrorCode(),p)).catch(p=>{throw r.end({success:!1,errorCode:p.errorCode,subErrorCode:p.subError,isNativeBroker:!0}),p})}catch(d){throw d instanceof Ln&&l.setNativeBrokerErrorCode(d.errorCode),d}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:rt.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),$(Ch);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw $(Ch);try{const s=this.createSilentCacheRequest(n,r),l=await this.silentCacheClient.acquireToken(s),d={...r,idTokenClaims:l?.idTokenClaims,idToken:l?.idToken};return{...l,account:d}}catch(s){throw s}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const s=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(s)}catch(f){if(f instanceof Ln&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(f.errorCode),li(f)))throw f}this.browserStorage.setTemporaryCache(Ze.NATIVE_REQUEST,JSON.stringify(s),!0);const l={apiId:De.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(d,l)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&e?.addFields({errorCode:"no_cached_request"},n),null;const{prompt:s,...l}=r;s&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ze.NATIVE_REQUEST));const d=zt();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const f=await this.platformAuthProvider.sendMessage(l),p=await this.handleNativeResponse(f,l,d);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),p}catch(f){throw f}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const s=Ci(e.id_token,Tn),l=this.createHomeAccountIdentifier(e,s),d=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId)?.homeAccountId;if(n.extraParameters?.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(l!==d&&e.account.id!==n.accountId)throw Jc(Rv);const f=await this.getDiscoveredAuthority({requestAuthority:n.authority}),p=xf(this.browserStorage,f,l,Tn,this.correlationId,s,e.client_info,void 0,s.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const m=await this.generateAuthenticationResult(e,n,s,p,f.canonicalAuthority,r);return await this.cacheAccount(p,this.correlationId),await this.cacheNativeTokens(e,n,l,s,e.access_token,m.tenantId,r),m}createHomeAccountIdentifier(e,n){return kt.generateHomeAccountId(e.client_info||H.EMPTY_STRING,bn.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?rt.fromString(n):rt.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===_e.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new yi(this.browserCrypto),s={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw $(tf);return r.signPopToken(e.access_token,n.keyId,s)}else return e.access_token}async generateAuthenticationResult(e,n,r,s,l,d){const f=this.addTelemetryFromNativeResponse(e.properties.MATS),p=this.generateScopes(n.scope,e.scope),m=e.account.properties||{},b=m.UID||r.oid||r.sub||H.EMPTY_STRING,S=m.TenantId||r.tid||H.EMPTY_STRING,w=hf(s.getAccountInfo(),void 0,r,e.id_token);w.nativeAccountId!==e.account.id&&(w.nativeAccountId=e.account.id);const U=await this.generatePopAccessToken(e,n),D=n.tokenType===_e.POP?_e.POP:_e.BEARER;return{authority:l,uniqueId:b,tenantId:S,scopes:p.asArray(),account:w,idToken:e.id_token,idTokenClaims:r,accessToken:U,fromCache:f?this.isResponseFromCache(f):!1,expiresOn:hi(d+e.expires_in),tokenType:D,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e,n)}cacheNativeTokens(e,n,r,s,l,d,f){const p=ol(r,n.authority,e.id_token||"",n.clientId,s.tid||""),m=n.tokenType===_e.POP?H.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,b=f+m,S=this.generateScopes(e.scope,n.scope),w=rl(r,n.authority,l,n.clientId,s.tid||d,S.printScopes(),b,0,Tn,void 0,n.tokenType,void 0,n.keyId),U={idToken:p,accessToken:w};return this.nativeStorageManager.saveCacheRecord(U,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===_e.POP?H.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:r,...s}=e,l=new rt(r||[]);l.appendScopes(qa);const d={...s,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:l.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(d.signPopToken&&e.popKid)throw Z(lv);if(this.handleExtraBrokerParams(d),d.extraParameters=d.extraParameters||{},d.extraParameters.telemetry=dn.MATS_TELEMETRY,e.authenticationScheme===_e.POP){const f={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},p=new yi(this.browserCrypto);let m;if(d.keyId)m=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:d.keyId})),d.signPopToken=!1;else{const b=await q(p.generateCnf.bind(p),A.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(f,this.logger);m=b.reqCnfString,d.keyId=b.kid,d.signPopToken=!0}d.reqCnf=m}return this.addRequestSKUs(d),d}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Ce(n);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case De.ssoSilent:case De.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Rt.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case Rt.NONE:case Rt.CONSENT:case Rt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),Z(sv)}}handleExtraBrokerParams(e){const n=e.extraParameters&&e.extraParameters.hasOwnProperty(jc)&&e.extraParameters.hasOwnProperty(Fc)&&e.extraParameters.hasOwnProperty(fr);if(!e.embeddedClientId&&!n)return;let r="";const s=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Fc],r=e.extraParameters[fr]),e.extraParameters={child_client_id:r,child_redirect_uri:s},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:s},e.correlationId)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */async function Iv(i,e,n,r,s){const l=S_({...i.auth,authority:e},n,r,s);if(Sf(l,{sku:Pt.MSAL_SKU,version:gr,os:"",cpu:""}),i.auth.protocolMode!==Zt.OIDC&&vf(l,i.telemetry.application),n.platformBroker&&(Gw(l),n.authenticationScheme===_e.POP)){const d=new io(r,s),f=new yi(d);let p;n.popKid?p=d.encodeKid(n.popKid):p=(await q(f.generateCnf.bind(f),A.PopTokenGenerateCnf,r,s,n.correlationId)(n,r)).reqCnfString,Ef(l,p)}return al(l,n.correlationId,s),l}async function Qf(i,e,n,r,s){if(!n.codeChallenge)throw Pe(cf);const l=await q(Iv,A.GetStandardParams,r,s,n.correlationId)(i,e,n,r,s);return mS(l,_C.CODE),Xw(l,n.codeChallenge,H.S256_CODE_CHALLENGE_METHOD),ur(l,n.extraQueryParameters||{}),NS(e,l,i.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function $f(i,e,n,r,s,l){if(!r.earJwk)throw Z(Of);const d=await Iv(e,n,r,s,l);mS(d,_C.IDTOKEN_TOKEN_REFRESHTOKEN),o_(d,r.earJwk);const f=new Map;ur(f,r.extraQueryParameters||{});const p=NS(n,f,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return qx(i,p,d)}function qx(i,e,n){const r=i.createElement("form");return r.method="post",r.action=e,n.forEach((s,l)=>{const d=i.createElement("input");d.hidden=!0,d.name=l,d.value=s,r.appendChild(d)}),i.body.appendChild(r),r}async function Ov(i,e,n,r,s,l,d,f,p,m){if(f.verbose("Account id found, calling WAM for token"),!m)throw Z(Uf);const b=new io(f,p),S=new wc(r,s,b,f,d,r.system.navigationClient,n,p,m,e,l,i.correlationId),{userRequestState:w}=Si.parseRequestState(b,i.state);return q(S.acquireToken.bind(S),A.NativeInteractionClientAcquireToken,f,p,i.correlationId)({...i,state:w,prompt:void 0})}async function Jf(i,e,n,r,s,l,d,f,p,m,b,S){if(Un.removeThrottle(d,s.auth.clientId,i),e.accountId)return q(Ov,A.HandleResponsePlatformBroker,m,b,i.correlationId)(i,e.accountId,r,s,d,f,p,m,b,S);const w={...i,code:e.code||"",codeVerifier:n},U=new xv(l,d,w,m,b);return await q(U.handleCodeResponse.bind(U),A.HandleCodeResponse,m,b,i.correlationId)(e,i)}async function Xf(i,e,n,r,s,l,d,f,p,m,b){if(Un.removeThrottle(l,r.auth.clientId,i),MS(e,i.state),!e.ear_jwe)throw Z(PS);if(!i.earJwk)throw Z(Of);const S=JSON.parse(await q(Z_,A.DecryptEarResponse,p,m,i.correlationId)(i.earJwk,e.ear_jwe));if(S.accountId)return q(Ov,A.HandleResponsePlatformBroker,p,m,i.correlationId)(i,S.accountId,n,r,l,d,f,p,m,b);const w=new pr(r.auth.clientId,l,new io(p,m),p,null,null,m);w.validateTokenResponse(S);const U={code:"",state:i.state,nonce:i.nonce,client_info:S.client_info,cloud_graph_host_name:S.cloud_graph_host_name,cloud_instance_host_name:S.cloud_instance_host_name,cloud_instance_name:S.cloud_instance_name,msgraph_host:S.msgraph_host};return await q(w.handleServerTokenResponse.bind(w),A.HandleServerTokenResponse,p,m,i.correlationId)(S,s,zt(),i,U,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.15.0 2025-07-08 */const Kx=32;async function yl(i,e,n){i.addQueueMeasurement(A.GeneratePkceCodes,n);const r=fn(Gx,A.GenerateCodeVerifier,e,i,n)(i,e,n),s=await q(Vx,A.GenerateCodeChallengeFromVerifier,e,i,n)(r,i,e,n);return{verifier:r,challenge:s}}function Gx(i,e,n){try{const r=new Uint8Array(Kx);return fn(Y_,A.GetRandomValues,e,i,n)(r),zo(r)}catch{throw Z(If)}}async function Vx(i,e,n,r){e.addQueueMeasurement(A.GenerateCodeChallengeFromVerifier,r);try{const s=await q(mv,A.Sha256Digest,n,e,r)(i,e,r);return zo(new Uint8Array(s))}catch{throw Z(If)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class Xc{constructor(e,n,r,s){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=s,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(A.NativeMessageHandlerHandshake),this.platformAuthType=dn.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:Aa.GetToken,request:e},r={channel:dn.CHANNEL_ID,extensionId:this.extensionId,responseId:An(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const s=await new Promise((d,f)=>{this.resolvers.set(r.responseId,{resolve:d,reject:f})});return this.validatePlatformBrokerResponse(s)}static async createProvider(e,n,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const s=new Xc(e,n,r,dn.PREFERRED_EXTENSION_ID);return await s.sendHandshakeRequest(),s}catch{const l=new Xc(e,n,r);return await l.sendHandshakeRequest(),l}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:dn.CHANNEL_ID,extensionId:this.extensionId,responseId:An(),body:{method:Aa.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(Z(iv)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==dn.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Aa.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(Z(av))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),s=this.handshakeResolvers.get(n.responseId);try{const l=n.body.method;if(l===Aa.Response){if(!r)return;const d=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(d)}`),d.status!=="Success")r.reject(Jc(d.code,d.description,d.ext));else if(d.result)d.result.code&&d.result.description?r.reject(Jc(d.result.code,d.result.description,d.result.ext)):r.resolve(d.result);else throw mh(Uc,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(l===Aa.HandshakeResponse){if(!s){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),s.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(l){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${l}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(l):s&&s.reject(l)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw mh(Uc,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===dn.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class Zf{constructor(e,n,r){this.logger=e,this.performanceClient=n,this.correlationId=r,this.platformAuthType=dn.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,r){if(e.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(dn.MICROSOFT_ENTRA_BROKERID))?.includes(dn.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Zf(e,n,r)}getExtensionId(){return dn.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return dn.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(r)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:r,authority:s,scope:l,redirectUri:d,correlationId:f,state:p,storeInCache:m,embeddedClientId:b,extraParameters:S,...w}=e,U=this.getDOMExtraParams(w);return{accountId:n,brokerId:this.getExtensionId(),authority:s,clientId:r,correlationId:f||this.correlationId,extraParameters:{...S,...U},isSecurityTokenService:!1,redirectUri:d,scope:l,state:p,storeInCache:m,embeddedClientId:b}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Jc(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw mh(Uc,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((s,[l,d])=>(s[l]=String(d),s),{})}}}/*! @azure/msal-browser v4.15.0 2025-07-08 */async function Yx(i,e,n,r){i.trace("getPlatformAuthProvider called",n);const s=Qx();i.trace("Has client allowed platform auth via DOM API: "+s);let l;try{s&&(l=await Zf.createProvider(i,e,n)),l||(i.trace("Platform auth via DOM API not available, checking for extension"),l=await Xc.createProvider(i,r||Av,e))}catch(d){i.trace("Platform auth not available",d)}return l}function Qx(){let i;try{return i=window[lt.SessionStorage],i?.getItem(z_)==="true"}catch{return!1}}function ja(i,e,n,r){if(e.trace("isPlatformAuthAllowed called"),!i.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case _e.BEARER:case _e.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.15.0 2025-07-08 */class $x extends Ti{constructor(e,n,r,s,l,d,f,p,m,b){super(e,n,r,s,l,d,f,m,b),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=p,this.eventHandler=l}acquireToken(e,n){try{const s={popupName:this.generatePopupName(e.scopes||qa,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,s,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),s.popup=this.openSizedPopup("about:blank",s),this.acquireTokenPopupAsync(e,s,n))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},s=e&&e.authority,l=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,s,l)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,s,l))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const s=await q(this.initializeAuthorizationRequest.bind(this),A.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ie.Popup);n.popup&&Ev(s.authority);const l=ja(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return s.platformBroker=l,this.config.auth.protocolMode===Zt.EAR?this.executeEarFlow(s,n):this.executeCodeFlow(s,n,r)}async executeCodeFlow(e,n,r){const s=e.correlationId,l=this.initializeServerTelemetryManager(De.acquireTokenPopup),d=r||await q(yl,A.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),f={...e,codeChallenge:d.challenge};try{const p=await q(this.createAuthCodeClient.bind(this),A.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,s)({serverTelemetryManager:l,requestAuthority:f.authority,requestAzureCloudOptions:f.azureCloudOptions,requestExtraQueryParameters:f.extraQueryParameters,account:f.account}),m=await q(Qf,A.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,p.authority,f,this.logger,this.performanceClient),b=this.initiateAuthRequest(m,n);this.eventHandler.emitEvent(te.POPUP_OPENED,ie.Popup,{popupWindow:b},null);const S=await this.monitorPopupForHash(b,n.popupWindowParent),w=fn($c,A.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(S,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await q(Jf,A.HandleResponseCode,this.logger,this.performanceClient,s)(e,w,d.verifier,De.acquireTokenPopup,this.config,p,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}catch(p){throw n.popup?.close(),p instanceof Ne&&(p.setCorrelationId(this.correlationId),l.cacheFailedRequest(p)),p}}async executeEarFlow(e,n){const r=e.correlationId,s=await q(this.getDiscoveredAuthority.bind(this),A.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),l=await q(jf,A.GenerateEarKey,this.logger,this.performanceClient,r)(),d={...e,earJwk:l},f=n.popup||this.openPopup("about:blank",n);(await $f(f.document,this.config,s,d,this.logger,this.performanceClient)).submit();const m=await q(this.monitorPopupForHash.bind(this),A.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(f,n.popupWindowParent),b=fn($c,A.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return q(Xf,A.HandleResponseEar,this.logger,this.performanceClient,r)(d,b,De.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,r,s){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(te.LOGOUT_START,ie.Popup,e);const l=this.initializeServerTelemetryManager(De.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const d=await q(this.createAuthCodeClient.bind(this),A.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:l,requestAuthority:r,account:e.account||void 0});try{d.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&d.authority.protocolMode===Zt.OIDC){if(this.browserStorage.removeAccount(e.account?.homeAccountId,this.correlationId),this.eventHandler.emitEvent(te.LOGOUT_SUCCESS,ie.Popup,e),s){const m={apiId:De.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},b=Ce.getAbsoluteUrl(s,oo());await this.navigationClient.navigateInternal(b,m)}n.popup?.close();return}}const f=d.getLogoutUri(e);this.eventHandler.emitEvent(te.LOGOUT_SUCCESS,ie.Popup,e);const p=this.openPopup(f,n);if(this.eventHandler.emitEvent(te.POPUP_OPENED,ie.Popup,{popupWindow:p},null),await this.monitorPopupForHash(p,n.popupWindowParent).catch(()=>{}),s){const m={apiId:De.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},b=Ce.getAbsoluteUrl(s,oo());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${b}`),await this.navigationClient.navigateInternal(b,m)}else this.logger.verbose("No main window navigation requested")}catch(d){throw n.popup?.close(),d instanceof Ne&&(d.setCorrelationId(this.correlationId),l.cacheFailedRequest(d)),this.eventHandler.emitEvent(te.LOGOUT_FAILURE,ie.Popup,null,d),this.eventHandler.emitEvent(te.LOGOUT_END,ie.Popup),d}this.eventHandler.emitEvent(te.LOGOUT_END,ie.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),Z(hl)}monitorPopupForHash(e,n){return new Promise((r,s)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const l=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(l),s(Z(Ha));return}let d="";try{d=e.location.href}catch{}if(!d||d==="about:blank")return;clearInterval(l);let f="";const p=this.config.auth.OIDCOptions.serverResponseType;e&&(p===nl.QUERY?f=e.location.search:f=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(f)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw Z(KS);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),Z(qS)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:s}){const l=s.screenLeft?s.screenLeft:s.screenX,d=s.screenTop?s.screenTop:s.screenY,f=s.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=s.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let m=r.popupSize?.width,b=r.popupSize?.height,S=r.popupPosition?.top,w=r.popupPosition?.left;return(!m||m<0||m>f)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),m=Pt.POPUP_WIDTH),(!b||b<0||b>p)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),b=Pt.POPUP_HEIGHT),(!S||S<0||S>p)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),S=Math.max(0,p/2-Pt.POPUP_HEIGHT/2+d)),(!w||w<0||w>f)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),w=Math.max(0,f/2-Pt.POPUP_WIDTH/2+l)),s.open(e,n,`width=${m}, height=${b}, top=${S}, left=${w}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${Pt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${Pt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.15.0 2025-07-08 */function Jx(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const i=window.performance.getEntriesByType("navigation");return(i.length?i[0]:void 0)?.type}class Xx extends Ti{constructor(e,n,r,s,l,d,f,p,m,b){super(e,n,r,s,l,d,f,m,b),this.nativeStorage=p}async acquireToken(e){const n=await q(this.initializeAuthorizationRequest.bind(this),A.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ie.Redirect);n.platformBroker=ja(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=l=>{l.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(te.RESTORE_FROM_BFCACHE,ie.Redirect))},s=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${s}`),this.browserStorage.setTemporaryCache(Ze.ORIGIN_URI,s,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===Zt.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(l){throw l instanceof Ne&&l.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),l}}async executeCodeFlow(e,n){const r=e.correlationId,s=this.initializeServerTelemetryManager(De.acquireTokenRedirect),l=await q(yl,A.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),d={...e,codeChallenge:l.challenge};this.browserStorage.cacheAuthorizeRequest(d,l.verifier);try{const f=await q(this.createAuthCodeClient.bind(this),A.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:d.authority,requestAzureCloudOptions:d.azureCloudOptions,requestExtraQueryParameters:d.extraQueryParameters,account:d.account}),p=await q(Qf,A.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,f.authority,d,this.logger,this.performanceClient);return await this.initiateAuthRequest(p,n)}catch(f){throw f instanceof Ne&&(f.setCorrelationId(this.correlationId),s.cacheFailedRequest(f)),f}}async executeEarFlow(e){const n=e.correlationId,r=await q(this.getDiscoveredAuthority.bind(this),A.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await q(jf,A.GenerateEarKey,this.logger,this.performanceClient,n)(),l={...e,earJwk:s};return this.browserStorage.cacheAuthorizeRequest(l),(await $f(document,this.config,r,l,this.logger,this.performanceClient)).submit(),new Promise((f,p)=>{setTimeout(()=>{p(Z(Lf,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,r,s){const l=this.initializeServerTelemetryManager(De.handleRedirectPromise);try{const[d,f]=this.getRedirectResponse(e||"");if(!d)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),Jx()!=="back_forward"?s.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const p=this.browserStorage.getTemporaryCache(Ze.ORIGIN_URI,!0)||H.EMPTY_STRING,m=Ce.removeHashFromUrl(p),b=Ce.removeHashFromUrl(window.location.href);if(m===b&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),p.indexOf("#")>-1&&tx(p),await this.handleResponse(d,n,r,l);if(this.config.auth.navigateToLoginRequestUrl){if(!Kf()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Ze.URL_HASH,f,!0);const S={apiId:De.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let w=!0;if(!p||p==="null"){const U=ox();this.browserStorage.setTemporaryCache(Ze.ORIGIN_URI,U,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),w=await this.navigationClient.navigateInternal(U,S)}else this.logger.verbose(`Navigating to loginRequestUrl: ${p}`),w=await this.navigationClient.navigateInternal(p,S);if(!w)return await this.handleResponse(d,n,r,l)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(d,n,r,l);return null}catch(d){throw d instanceof Ne&&(d.setCorrelationId(this.correlationId),l.cacheFailedRequest(d)),d}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===nl.QUERY?n=window.location.search:n=window.location.hash);let r=Bc(n);if(r){try{Nx(r,this.browserCrypto,ie.Redirect)}catch(l){return l instanceof Ne&&this.logger.error(`Interaction type validation failed due to ${l.errorCode}: ${l.errorMessage}`),[null,""]}return Sv(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const s=this.browserStorage.getTemporaryCache(Ze.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ze.URL_HASH)),s&&(r=Bc(s),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,s]):[null,""]}async handleResponse(e,n,r,s){if(!e.state)throw Z(Nf);if(e.ear_jwe){const f=await q(this.getDiscoveredAuthority.bind(this),A.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return q(Xf,A.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,De.acquireTokenRedirect,this.config,f,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const d=await q(this.createAuthCodeClient.bind(this),A.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:n.authority});return q(Jf,A.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,De.acquireTokenRedirect,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:De.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=n||this.config.auth.onRedirectNavigate;if(typeof s=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),s(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Z(hl)}async logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(De.logout);try{this.eventHandler.emitEvent(te.LOGOUT_START,ie.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const s={apiId:De.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=await q(this.createAuthCodeClient.bind(this),A.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(l.authority.protocolMode===Zt.OIDC)try{l.authority.endSessionEndpoint}catch{if(n.account?.homeAccountId){this.browserStorage.removeAccount(n.account?.homeAccountId,this.correlationId),this.eventHandler.emitEvent(te.LOGOUT_SUCCESS,ie.Redirect,n);return}}const d=l.getLogoutUri(n);if(this.eventHandler.emitEvent(te.LOGOUT_SUCCESS,ie.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(d)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Mo.SIGNOUT),await this.navigationClient.navigateExternal(d,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Mo.SIGNOUT),await this.navigationClient.navigateExternal(d,s);return}}catch(s){throw s instanceof Ne&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(te.LOGOUT_FAILURE,ie.Redirect,null,s),this.eventHandler.emitEvent(te.LOGOUT_END,ie.Redirect),s}this.eventHandler.emitEvent(te.LOGOUT_END,ie.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return Ce.getAbsoluteUrl(n,oo())}}/*! @azure/msal-browser v4.15.0 2025-07-08 */async function Zx(i,e,n,r,s){if(e.addQueueMeasurement(A.SilentHandlerInitiateAuthRequest,r),!i)throw n.info("Navigate url is empty"),Z(hl);return s?q(e1,A.SilentHandlerLoadFrame,n,e,r)(i,s,e,r):fn(t1,A.SilentHandlerLoadFrameSync,n,e,r)(i)}async function Wx(i,e,n,r,s){const l=Wf();if(!l.contentDocument)throw"No document associated with iframe!";return(await $f(l.contentDocument,i,e,n,r,s)).submit(),l}async function jb(i,e,n,r,s,l,d){return r.addQueueMeasurement(A.SilentHandlerMonitorIframeForHash,l),new Promise((f,p)=>{e<Rh&&s.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Rh}ms). This may result in timeouts.`);const m=window.setTimeout(()=>{window.clearInterval(b),p(Z(GS))},e),b=window.setInterval(()=>{let S="";const w=i.contentWindow;try{S=w?w.location.href:""}catch{}if(!S||S==="about:blank")return;let U="";w&&(d===nl.QUERY?U=w.location.search:U=w.location.hash),window.clearTimeout(m),window.clearInterval(b),f(U)},n)}).finally(()=>{fn(n1,A.RemoveHiddenIframe,s,r,l)(i)})}function e1(i,e,n,r){return n.addQueueMeasurement(A.SilentHandlerLoadFrame,r),new Promise((s,l)=>{const d=Wf();window.setTimeout(()=>{if(!d){l("Unable to load iframe");return}d.src=i,s(d)},e)})}function t1(i){const e=Wf();return e.src=i,e}function Wf(){const i=document.createElement("iframe");return i.className="msalSilentIframe",i.style.visibility="hidden",i.style.position="absolute",i.style.width=i.style.height="0",i.style.border="0",i.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(i),i}function n1(i){document.body===i.parentNode&&document.body.removeChild(i)}/*! @azure/msal-browser v4.15.0 2025-07-08 */class o1 extends Ti{constructor(e,n,r,s,l,d,f,p,m,b,S){super(e,n,r,s,l,d,p,b,S),this.apiId=f,this.nativeStorage=m}async acquireToken(e){this.performanceClient.addQueueMeasurement(A.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==Rt.NONE&&n.prompt!==Rt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${Rt.NONE}`),n.prompt=Rt.NONE):n.prompt=Rt.NONE;const r=await q(this.initializeAuthorizationRequest.bind(this),A.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,ie.Silent);return r.platformBroker=ja(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),Ev(r.authority),this.config.auth.protocolMode===Zt.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await q(this.createAuthCodeClient.bind(this),A.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await q(this.silentTokenHelper.bind(this),A.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(s){if(s instanceof Ne&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),!n||!(s instanceof Ne)||s.errorCode!==Pt.INVALID_GRANT_ERROR)throw s;return this.performanceClient.addFields({retryError:s.errorCode},this.correlationId),await q(this.silentTokenHelper.bind(this),A.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await q(this.getDiscoveredAuthority.bind(this),A.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await q(jf,A.GenerateEarKey,this.logger,this.performanceClient,n)(),l={...e,earJwk:s},d=await q(Wx,A.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,l,this.logger,this.performanceClient),f=this.config.auth.OIDCOptions.serverResponseType,p=await q(jb,A.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(d,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,f),m=fn($c,A.DeserializeResponse,this.logger,this.performanceClient,n)(p,f,this.logger);return q(Xf,A.HandleResponseEar,this.logger,this.performanceClient,n)(l,m,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Z(fl))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(A.SilentIframeClientTokenHelper,r);const s=await q(yl,A.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),l={...n,codeChallenge:s.challenge},d=await q(Qf,A.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,l,this.logger,this.performanceClient),f=await q(Zx,A.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(d,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),p=this.config.auth.OIDCOptions.serverResponseType,m=await q(jb,A.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(f,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,p),b=fn($c,A.DeserializeResponse,this.logger,this.performanceClient,r)(m,p,this.logger);return q(Jf,A.HandleResponseCode,this.logger,this.performanceClient,r)(n,b,s.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class r1 extends Ti{async acquireToken(e){this.performanceClient.addQueueMeasurement(A.SilentRefreshClientAcquireToken,e.correlationId);const n=await q(Yf,A.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const s=this.initializeServerTelemetryManager(De.acquireTokenSilent_silentFlow),l=await this.createRefreshTokenClient({serverTelemetryManager:s,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return q(l.acquireTokenByRefreshToken.bind(l),A.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(d=>{throw d.setCorrelationId(this.correlationId),s.cacheFailedRequest(d),d})}logout(){return Promise.reject(Z(fl))}async createRefreshTokenClient(e){const n=await q(this.getClientConfiguration.bind(this),A.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new y_(n,this.performanceClient)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class i1{constructor(e,n,r,s){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=s}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw Z(pl);const s=e.correlationId||An(),l=n.id_token?Ci(n.id_token,Tn):void 0,d={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},f=e.authority?new Ct(Ct.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,d,this.logger,e.correlationId||An()):void 0,p=await this.loadAccount(e,r.clientInfo||n.client_info||"",s,l,f),m=await this.loadIdToken(n,p.homeAccountId,p.environment,p.realm,s),b=await this.loadAccessToken(e,n,p.homeAccountId,p.environment,p.realm,r,s),S=await this.loadRefreshToken(n,p.homeAccountId,p.environment,s);return this.generateAuthenticationResult(e,{account:p,idToken:m,accessToken:b,refreshToken:S},l,f)}async loadAccount(e,n,r,s,l){if(this.logger.verbose("TokenCache - loading account"),e.account){const m=kt.createFromAccountInfo(e.account);return await this.storage.setAccount(m,r),m}else if(!l||!n&&!s)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Z(ev);const d=kt.generateHomeAccountId(n,l.authorityType,this.logger,this.cryptoObj,s),f=s?.tid,p=xf(this.storage,l,d,Tn,r,s,n,l.hostnameAndPort,f,void 0,void 0,this.logger);return await this.storage.setAccount(p,r),p}async loadIdToken(e,n,r,s,l){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const d=ol(n,r,e.id_token,this.config.auth.clientId,s);return await this.storage.setIdTokenCredential(d,l),d}async loadAccessToken(e,n,r,s,l,d,f){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const p=n.scope?rt.fromString(n.scope):new rt(e.scopes),m=d.expiresOn||n.expires_in+zt(),b=d.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+zt(),S=rl(r,s,n.access_token,this.config.auth.clientId,l,p.printScopes(),m,b,Tn);return await this.storage.setAccessTokenCredential(S,f),S}async loadRefreshToken(e,n,r,s){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const l=YC(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(l,s),l}generateAuthenticationResult(e,n,r,s){let l="",d=[],f=null,p;n?.accessToken&&(l=n.accessToken.secret,d=rt.fromString(n.accessToken.target).asArray(),f=hi(n.accessToken.expiresOn),p=hi(n.accessToken.extendedExpiresOn));const m=n.account;return{authority:s?s.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:d,account:m.getAccountInfo(),idToken:n.idToken?.secret||"",idTokenClaims:r||{},accessToken:l,fromCache:!0,expiresOn:f,correlationId:e.correlationId||"",requestId:"",extExpiresOn:p,familyId:n.refreshToken?.familyId||"",tokenType:n?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:m.cloudGraphHostName||"",msGraphHost:m.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class a1 extends OS{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.15.0 2025-07-08 */class s1 extends Ti{constructor(e,n,r,s,l,d,f,p,m,b){super(e,n,r,s,l,d,p,m,b),this.apiId=f}async acquireToken(e){if(!e.code)throw Z(tv);const n=await q(this.initializeAuthorizationRequest.bind(this),A.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ie.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const s={...n,code:e.code},l=await q(this.getClientConfiguration.bind(this),A.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),d=new a1(l);this.logger.verbose("Auth code client created");const f=new xv(d,this.browserStorage,s,this.logger,this.performanceClient);return await q(f.handleCodeResponseFromServer.bind(f),A.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(s){throw s instanceof Ne&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}logout(){return Promise.reject(Z(fl))}}/*! @azure/msal-browser v4.15.0 2025-07-08 */function c1(i,e,n){const r=window.msal?.clientIds||[],s=r.length,l=r.filter(d=>d===i).length;l>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:s,sameClientIdInstanceCount:l})}/*! @azure/msal-browser v4.15.0 2025-07-08 */function Mn(i){const e=i?.idTokenClaims;if(e?.tfp||e?.acr)return"B2C";if(e?.tid){if(e?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function yc(i,e){try{Gf(i)}catch(n){throw e.end({success:!1},n),n}}class bl{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new io(this.logger,this.performanceClient):Lc,this.eventHandler=new kx(this.logger),this.browserStorage=this.isBrowserEnvironment?new Nh(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,c_(this.config.auth)):Sx(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:lt.MemoryStorage,temporaryCacheLocation:lt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Nh(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new i1(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new bl(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(te.INITIALIZE_END);return}const r=e?.correlationId||this.getRequestCorrelationId(),s=this.config.system.allowPlatformBroker,l=this.performanceClient.startMeasurement(A.InitializeClientApplication,r);if(this.eventHandler.emitEvent(te.INITIALIZE_START),!n)try{this.logMultipleInstances(l)}catch{}if(await q(this.browserStorage.initialize.bind(this.browserStorage),A.InitializeCache,this.logger,this.performanceClient,r)(r),s)try{this.platformAuthProvider=await Yx(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(d){this.logger.verbose(d)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),fn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),A.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(te.INITIALIZE_END),l.end({allowPlatformBroker:s,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Tv(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===Mo.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),s=this.browserStorage.getCachedNativeRequest(),l=s&&this.platformAuthProvider&&!e;let d;this.eventHandler.emitEvent(te.HANDLE_REDIRECT_START,ie.Redirect);let f;try{if(l&&this.platformAuthProvider){d=this.performanceClient.startMeasurement(A.AcquireTokenRedirect,s?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const p=new wc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,De.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,s.accountId,this.nativeInternalStorage,s.correlationId);f=q(p.handleRedirectPromise.bind(p),A.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,d.event.correlationId)(this.performanceClient,d.event.correlationId)}else{const[p,m]=this.browserStorage.getCachedRequest(),b=p.correlationId;d=this.performanceClient.startMeasurement(A.AcquireTokenRedirect,b),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const S=this.createRedirectClient(b);f=q(S.handleRedirectPromise.bind(S),A.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,d.event.correlationId)(e,p,m,d)}}catch(p){throw this.browserStorage.resetRequestCache(),p}return f.then(p=>(p?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(te.LOGIN_SUCCESS,ie.Redirect,p),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_SUCCESS,ie.Redirect,p),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),d.end({success:!0,accountType:Mn(p.account)})):d.event.errorCode?d.end({success:!1}):d.discard(),this.eventHandler.emitEvent(te.HANDLE_REDIRECT_END,ie.Redirect),p)).catch(p=>{this.browserStorage.resetRequestCache();const m=p;throw r.length>0?this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_FAILURE,ie.Redirect,null,m):this.eventHandler.emitEvent(te.LOGIN_FAILURE,ie.Redirect,null,m),this.eventHandler.emitEvent(te.HANDLE_REDIRECT_END,ie.Redirect),d.end({success:!1},m),p})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(A.AcquireTokenPreRedirect,n);r.add({accountType:Mn(e.account),scenarioId:e.scenarioId});const s=e.onRedirectNavigate;if(s)e.onRedirectNavigate=d=>{const f=typeof s=="function"?s(d):void 0;return f!==!1?r.end({success:!0}):r.discard(),f};else{const d=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=f=>{const p=typeof d=="function"?d(f):void 0;return p!==!1?r.end({success:!0}):r.discard(),p}}const l=this.getAllAccounts().length>0;try{Ub(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Mo.SIGNIN),l?this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_START,ie.Redirect,e):this.eventHandler.emitEvent(te.LOGIN_START,ie.Redirect,e);let d;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?d=new wc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,De.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(p=>{if(p instanceof Ln&&li(p))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(p instanceof En)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw p}):d=this.createRedirectClient(n).acquireToken(e),await d}catch(d){throw this.browserStorage.resetRequestCache(),r.end({success:!1},d),l?this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_FAILURE,ie.Redirect,null,d):this.eventHandler.emitEvent(te.LOGIN_FAILURE,ie.Redirect,null,d),d}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(A.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:Mn(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),yc(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Mo.SIGNIN)}catch(f){return Promise.reject(f)}const s=this.getAllAccounts();s.length>0?this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_START,ie.Popup,e):this.eventHandler.emitEvent(te.LOGIN_START,ie.Popup,e);let l;const d=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?l=this.acquireTokenNative({...e,correlationId:n},De.acquireTokenPopup).then(f=>(r.end({success:!0,isNativeBroker:!0,accountType:Mn(f.account)}),f)).catch(f=>{if(f instanceof Ln&&li(f))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,d);if(f instanceof En)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,d);throw f}):l=this.createPopupClient(n).acquireToken(e,d),l.then(f=>(s.length<this.getAllAccounts().length?this.eventHandler.emitEvent(te.LOGIN_SUCCESS,ie.Popup,f):this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_SUCCESS,ie.Popup,f),r.end({success:!0,accessTokenSize:f.accessToken.length,idTokenSize:f.idToken.length,accountType:Mn(f.account)}),f)).catch(f=>(s.length>0?this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_FAILURE,ie.Popup,null,f):this.eventHandler.emitEvent(te.LOGIN_FAILURE,ie.Popup,null,f),r.end({success:!1},f),Promise.reject(f))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(A.SsoSilent,n),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Mn(e.account)}),yc(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(te.SSO_SILENT_START,ie.Silent,r);let s;return this.canUsePlatformBroker(r)?s=this.acquireTokenNative(r,De.ssoSilent).catch(l=>{if(l instanceof Ln&&li(l))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw l}):s=this.createSilentIframeClient(r.correlationId).acquireToken(r),s.then(l=>(this.eventHandler.emitEvent(te.SSO_SILENT_SUCCESS,ie.Silent,l),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:l.fromNativeBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:Mn(l.account)}),l)).catch(l=>{throw this.eventHandler.emitEvent(te.SSO_SILENT_FAILURE,ie.Silent,null,l),this.ssoSilentMeasurement?.end({success:!1},l),l}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(A.AcquireTokenByCode,n);yc(this.initialized,r),this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_BY_CODE_START,ie.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Z(ov);if(e.code){const s=e.code;let l=this.hybridAuthCodeResponses.get(s);return l?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),l=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(d=>(this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ie.Silent,d),this.hybridAuthCodeResponses.delete(s),r.end({success:!0,isNativeBroker:d.fromNativeBroker,accessTokenSize:d.accessToken.length,idTokenSize:d.idToken.length,accountType:Mn(d.account)}),d)).catch(d=>{throw this.hybridAuthCodeResponses.delete(s),this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_BY_CODE_FAILURE,ie.Silent,null,d),r.end({success:!1},d),d}),this.hybridAuthCodeResponses.set(s,l)),await l}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const s=await this.acquireTokenNative({...e,correlationId:n},De.acquireTokenByCode,e.nativeAccountId).catch(l=>{throw l instanceof Ln&&li(l)&&(this.platformAuthProvider=void 0),l});return r.end({accountType:Mn(s.account),success:!0}),s}else throw Z(rv);else throw Z(nv)}catch(s){throw this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_BY_CODE_FAILURE,ie.Silent,null,s),r.end({success:!1},s),s}}async acquireTokenByCodeAsync(e){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(A.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(s=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker}),s)).catch(s=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(A.AcquireTokenFromCache,e.correlationId),n){case _t.Default:case _t.AccessToken:case _t.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return q(r.acquireToken.bind(r),A.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw $(Lo)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(A.AcquireTokenByRefreshToken,e.correlationId),n){case _t.Default:case _t.AccessTokenAndRefreshToken:case _t.RefreshToken:case _t.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return q(r.acquireToken.bind(r),A.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw $(Lo)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(A.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return q(n.acquireToken.bind(n),A.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return Ub(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Mo.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return Gf(this.initialized),this.browserStorage.setInteractionInProgress(!0,Mo.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return vx(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return Tx(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return Ex(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return Ax(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return wx(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();_x(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return xx(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=kt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,s){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw Z(Uf);return new wc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,s)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!ja(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Rt.NONE:case Rt.CONSENT:case Rt.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new $x(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new Xx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new o1(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,De.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new kv(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new r1(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new s1(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,De.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return vv(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==lt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==lt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?An():H.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Ob})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Ob})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(A.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),yc(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const s=e.account||this.getActiveAccount();if(!s)throw Z($S);return r.add({accountType:Mn(s)}),this.acquireTokenSilentDeduped(e,s,n).then(l=>(r.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),{...l,state:e.state,correlationId:n})).catch(l=>{throw l instanceof Ne&&l.setCorrelationId(n),r.end({success:!1},l),l})}async acquireTokenSilentDeduped(e,n,r){const s=ll(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),l=JSON.stringify(s),d=this.activeSilentTokenRequests.get(l);if(typeof d>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const f=q(this.acquireTokenSilentAsync.bind(this),A.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(l,f),f.finally(()=>{this.activeSilentTokenRequests.delete(l)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),d}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(A.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_START,ie.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const s=await q(Ix,A.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),l=e.cacheLookupPolicy||_t.Default;return this.acquireTokenSilentNoIframe(s,l).catch(async f=>{if(l1(f,l))if(this.activeIframeRequest)if(l!==_t.Skip){const[m,b]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${b}`,s.correlationId);const S=this.performanceClient.startMeasurement(A.AwaitConcurrentIframe,s.correlationId);S.add({awaitIframeCorrelationId:b});const w=await m;if(S.end({success:w}),w)return this.logger.verbose(`Parallel iframe request with correlationId: ${b} succeeded. Retrying cache and/or RT redemption`,s.correlationId),this.acquireTokenSilentNoIframe(s,l);throw this.logger.info(`Iframe request with correlationId: ${b} failed. Interaction is required.`),f}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",s.correlationId),q(this.acquireTokenBySilentIframe.bind(this),A.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s);else{let m;return this.activeIframeRequest=[new Promise(b=>{m=b}),s.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",s.correlationId),q(this.acquireTokenBySilentIframe.bind(this),A.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s).then(b=>(m(!0),b)).catch(b=>{throw m(!1),b}).finally(()=>{this.activeIframeRequest=void 0})}else throw f}).then(f=>(this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_SUCCESS,ie.Silent,f),e.correlationId&&this.performanceClient.addFields({fromCache:f.fromCache,isNativeBroker:f.fromNativeBroker},e.correlationId),f)).catch(f=>{throw this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_FAILURE,ie.Silent,null,f),f}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return ja(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,De.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw r instanceof Ln&&li(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,$(Lo)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===_t.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),q(this.acquireTokenFromCache.bind(this),A.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===_t.AccessToken)throw r;return this.eventHandler.emitEvent(te.ACQUIRE_TOKEN_NETWORK_START,ie.Silent,e),q(this.acquireTokenByRefreshToken.bind(this),A.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await q(yl,A.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),c1(n,e,this.logger)}}function l1(i,e){const n=!(i instanceof En&&i.subError!==dl),r=i.errorCode===Pt.INVALID_GRANT_ERROR||i.errorCode===Lo,s=n&&r||i.errorCode===Kc||i.errorCode===wf,l=P_.includes(e);return s&&l}/*! @azure/msal-browser v4.15.0 2025-07-08 */async function u1(i,e){const n=new mr(i);return await n.initialize(),bl.createController(n,e)}/*! @azure/msal-browser v4.15.0 2025-07-08 */class Cl{static async createPublicClientApplication(e){const n=await u1(e);return new Cl(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new bl(new mr(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.15.0 2025-07-08 */const d1={initialize:()=>Promise.reject(Je(ot)),acquireTokenPopup:()=>Promise.reject(Je(ot)),acquireTokenRedirect:()=>Promise.reject(Je(ot)),acquireTokenSilent:()=>Promise.reject(Je(ot)),acquireTokenByCode:()=>Promise.reject(Je(ot)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Je(ot)),loginPopup:()=>Promise.reject(Je(ot)),loginRedirect:()=>Promise.reject(Je(ot)),logout:()=>Promise.reject(Je(ot)),logoutRedirect:()=>Promise.reject(Je(ot)),logoutPopup:()=>Promise.reject(Je(ot)),ssoSilent:()=>Promise.reject(Je(ot)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Je(ot)},getLogger:()=>{throw Je(ot)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Je(ot)},hydrateCache:()=>Promise.reject(Je(ot)),clearCache:()=>Promise.reject(Je(ot))};/*! @azure/msal-browser v4.15.0 2025-07-08 */class h1{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case te.LOGIN_START:return Xe.Login;case te.SSO_SILENT_START:return Xe.SsoSilent;case te.ACQUIRE_TOKEN_START:if(e.interactionType===ie.Redirect||e.interactionType===ie.Popup)return Xe.AcquireToken;break;case te.HANDLE_REDIRECT_START:return Xe.HandleRedirect;case te.LOGOUT_START:return Xe.Logout;case te.SSO_SILENT_SUCCESS:case te.SSO_SILENT_FAILURE:if(n&&n!==Xe.SsoSilent)break;return Xe.None;case te.LOGOUT_END:if(n&&n!==Xe.Logout)break;return Xe.None;case te.HANDLE_REDIRECT_END:if(n&&n!==Xe.HandleRedirect)break;return Xe.None;case te.LOGIN_SUCCESS:case te.LOGIN_FAILURE:case te.ACQUIRE_TOKEN_SUCCESS:case te.ACQUIRE_TOKEN_FAILURE:case te.RESTORE_FROM_BFCACHE:if(e.interactionType===ie.Redirect||e.interactionType===ie.Popup){if(n&&n!==Xe.Login&&n!==Xe.AcquireToken)break;return Xe.None}break}return null}}const f1="modulepreload",p1=function(i){return"/"+i},Fb={},bc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let p=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=p(n.map(m=>{if(m=p1(m),m in Fb)return;Fb[m]=!0;const b=m.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${S}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":f1,b||(w.as="script"),w.crossOrigin="",w.href=m,f&&w.setAttribute("nonce",f),document.head.appendChild(w),b)return new Promise((U,D)=>{w.addEventListener("load",U),w.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return s.then(d=>{for(const f of d||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/*! @azure/msal-react v3.0.15 2025-07-08 */const g1={instance:d1,inProgress:Xe.None,accounts:[],logger:new ro({})},ep=N.createContext(g1);ep.Consumer;/*! @azure/msal-react v3.0.15 2025-07-08 */function qb(i,e){if(i.length!==e.length)return!1;const n=[...e];return i.every(r=>{const s=n.shift();return!r||!s?!1:r.homeAccountId===s.homeAccountId&&r.localAccountId===s.localAccountId&&r.username===s.username})}/*! @azure/msal-react v3.0.15 2025-07-08 */const m1="@azure/msal-react",Kb="3.0.15";/*! @azure/msal-react v3.0.15 2025-07-08 */const Zc={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},y1=(i,e)=>{const{type:n,payload:r}=e;let s=i.inProgress;switch(n){case Zc.UNBLOCK_INPROGRESS:i.inProgress===Xe.Startup&&(s=Xe.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Zc.EVENT:const d=r.message,f=h1.getInteractionStatusFromEvent(d,i.inProgress);f&&(r.logger.info(`MsalProvider - ${d.eventType} results in setting inProgress from ${i.inProgress} to ${f}`),s=f);break;default:throw new Error(`Unknown action type: ${n}`)}if(s===Xe.Startup)return i;const l=r.instance.getAllAccounts();return s!==i.inProgress&&!qb(l,i.accounts)?{...i,inProgress:s,accounts:l}:s!==i.inProgress?{...i,inProgress:s}:qb(l,i.accounts)?i:{...i,accounts:l}};function b1({instance:i,children:e}){N.useEffect(()=>{i.initializeWrapperLibrary(D_.React,Kb)},[i]);const n=N.useMemo(()=>i.getLogger().clone(m1,Kb),[i]),[r,s]=N.useReducer(y1,void 0,()=>({inProgress:Xe.Startup,accounts:[]}));N.useEffect(()=>{const d=i.addEventCallback(f=>{s({payload:{instance:i,logger:n,message:f},type:Zc.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${d}`),i.initialize().then(()=>{i.handleRedirectPromise().catch(()=>{}).finally(()=>{s({payload:{instance:i,logger:n},type:Zc.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{d&&(n.verbose(`MsalProvider - Removing event callback ${d}`),i.removeEventCallback(d))}},[i,n]);const l={instance:i,inProgress:r.inProgress,accounts:r.accounts,logger:n};return wC.createElement(ep.Provider,{value:l},e)}/*! @azure/msal-react v3.0.15 2025-07-08 */const Sl=()=>N.useContext(ep);/*! @azure/msal-react v3.0.15 2025-07-08 */function C1(i,e){return i.length>0}function tp(i){const{accounts:e,inProgress:n}=Sl();return N.useMemo(()=>n===Xe.Startup?!1:C1(e),[e,n,i])}const S1="a873f2d7-2ab9-4d59-a54c-90859226bf2e",v1="8274c97d-de9d-4328-98cf-2d4ee94bf104",T1=`https://login.microsoftonline.com/${v1}`,Nv={auth:{clientId:S1,authority:T1,redirectUri:"/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(i,e,n)=>{if(!n)switch(i){case Oe.Error:console.error(e);break;case Oe.Info:console.info(e);break;case Oe.Verbose:console.debug(e);break;case Oe.Warning:console.warn(e);break}}}}},dr={scopes:["User.Read"]},E1=new Cl(Nv),Gb={id:"professional",name:"Professional",description:"Clean, modern theme for professional trading environments",category:"professional",colors:{primary:"#2563eb",secondary:"#64748b",accent:"#0ea5e9",background:"#ffffff",surface:"#f8fafc",text:"#1e293b",textSecondary:"#64748b",border:"#e2e8f0",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"},typography:{fontFamily:'"Inter", "Segoe UI", sans-serif',fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700}},spacing:{xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{none:"0",sm:"0.25rem",base:"0.375rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},animations:{transition:"all 0.2s ease-in-out",duration:{fast:"0.1s",normal:"0.2s",slow:"0.3s"}}},Vb={id:"institutional",name:"Institutional",description:"Sophisticated theme for institutional trading platforms",category:"institutional",colors:{primary:"#1e40af",secondary:"#374151",accent:"#059669",background:"#f9fafb",surface:"#ffffff",text:"#111827",textSecondary:"#6b7280",border:"#d1d5db",success:"#059669",warning:"#d97706",error:"#dc2626",info:"#2563eb"},typography:{fontFamily:'"Source Sans Pro", "Helvetica Neue", sans-serif',fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700}},spacing:{xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},animations:{transition:"all 0.15s ease-in-out",duration:{fast:"0.1s",normal:"0.15s",slow:"0.25s"}}},Yb={id:"enterprise",name:"Enterprise",description:"Premium theme for enterprise financial platforms",category:"enterprise",colors:{primary:"#7c3aed",secondary:"#4b5563",accent:"#06b6d4",background:"#fefefe",surface:"#f8fafc",text:"#0f172a",textSecondary:"#475569",border:"#e2e8f0",success:"#059669",warning:"#ea580c",error:"#dc2626",info:"#0ea5e9"},typography:{fontFamily:'"IBM Plex Sans", "SF Pro Display", sans-serif',fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700}},spacing:{xs:"0.5rem",sm:"0.75rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{none:"0",sm:"0.25rem",base:"0.5rem",md:"0.75rem",lg:"1rem",xl:"1.25rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)"},animations:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",duration:{fast:"0.15s",normal:"0.3s",slow:"0.45s"}}},Mh=new Map([[Gb.id,Gb],[Vb.id,Vb],[Yb.id,Yb]]),A1=(i,e)=>{switch(e.type){case"SET_THEME":return{...i,currentTheme:e.payload};case"UPDATE_PREFERENCES":return{...i,preferences:{...i.preferences,...e.payload}};case"REGISTER_THEME":const n=new Map(i.availableThemes);return n.set(e.payload.id,e.payload),{...i,availableThemes:n};case"UNREGISTER_THEME":const r=new Map(i.availableThemes);return r.delete(e.payload),{...i,availableThemes:r,currentTheme:i.currentTheme===e.payload?"professional":i.currentTheme};case"LOAD_PERSISTED_STATE":return{...i,...e.payload};default:return i}},w1={currentTheme:"professional",availableThemes:Mh,customThemes:new Map,preferences:{autoSwitch:!1,darkMode:!1,colorBlindMode:!1,highContrast:!1,compactMode:!1,customProperties:{}}},_1=N.createContext(void 0);function x1({children:i,defaultTheme:e="professional",persistenceKey:n="gzc-enhanced-theme-state"}){const[r,s]=N.useReducer(A1,{...w1,currentTheme:e});N.useEffect(()=>{try{const d=localStorage.getItem(n);if(d)if(typeof d=="string"&&!d.startsWith("{")){const f={currentTheme:d,preferences:{},customThemes:[]};localStorage.setItem(n,JSON.stringify(f)),s({type:"LOAD_PERSISTED_STATE",payload:f})}else{const f=JSON.parse(d);s({type:"LOAD_PERSISTED_STATE",payload:f})}}catch(d){console.warn("Failed to load persisted theme state:",d),localStorage.removeItem(n)}},[n]),N.useEffect(()=>{try{const d={currentTheme:r.currentTheme,preferences:r.preferences,customThemes:Array.from(r.customThemes.entries())};localStorage.setItem(n,JSON.stringify(d))}catch(d){console.warn("Failed to persist theme state:",d)}},[r.currentTheme,r.preferences,r.customThemes,n]),N.useEffect(()=>{const d=r.availableThemes.get(r.currentTheme);if(!d)return;const f=document.documentElement;Object.entries(d.colors).forEach(([p,m])=>{f.style.setProperty(`--gzc-${p}`,m)}),Object.entries(d.typography.fontSize).forEach(([p,m])=>{f.style.setProperty(`--gzc-text-${p}`,m)}),Object.entries(d.spacing).forEach(([p,m])=>{f.style.setProperty(`--gzc-space-${p}`,m)}),Object.entries(d.borderRadius).forEach(([p,m])=>{f.style.setProperty(`--gzc-radius-${p}`,m)}),Object.entries(d.shadows).forEach(([p,m])=>{f.style.setProperty(`--gzc-shadow-${p}`,m)}),f.style.setProperty("--gzc-font-family",d.typography.fontFamily),f.style.setProperty("--gzc-transition",d.animations.transition),r.preferences.compactMode?f.classList.add("gzc-compact"):f.classList.remove("gzc-compact"),r.preferences.highContrast?f.classList.add("gzc-high-contrast"):f.classList.remove("gzc-high-contrast"),r.preferences.customProperties&&Object.entries(r.preferences.customProperties).forEach(([p,m])=>{f.style.setProperty(p,m)}),f.setAttribute("data-theme",r.currentTheme)},[r.currentTheme,r.availableThemes,r.preferences]);const l={theme:r.availableThemes.get(r.currentTheme)||Mh.get("professional"),themeId:r.currentTheme,setTheme:d=>{s({type:"SET_THEME",payload:d})},preferences:r.preferences,updatePreferences:d=>{s({type:"UPDATE_PREFERENCES",payload:d})},registerTheme:d=>{s({type:"REGISTER_THEME",payload:d})},unregisterTheme:d=>{s({type:"UNREGISTER_THEME",payload:d})},getAvailableThemes:()=>Array.from(r.availableThemes.values()),createCustomTheme:(d,f)=>{const m={...r.availableThemes.get(d)||Mh.get("professional"),...f,id:f.id||`custom-${Date.now()}`,category:"custom"};return s({type:"REGISTER_THEME",payload:m}),m}};return y.jsx(_1.Provider,{value:l,children:i})}const R1=N.createContext(void 0);N.createContext({theme:"light",toggleTheme:()=>{}});const Mv=N.createContext(void 0),k1=({children:i})=>{const[e,n]=N.useState(()=>new Date);return y.jsx(Mv.Provider,{value:{currentDate:e,setCurrentDate:n},children:i})},QO=()=>{const i=N.useContext(Mv);if(!i)throw new Error("useDateContext must be used within a DateProvider");return i},I1=N.createContext(void 0),O1=({children:i})=>{const[e,n]=N.useState({}),r=N.useCallback(s=>{if(s.type==="status")console.log("Status message received:",s.message);else{const l=`${s.symbol}_${s.entry_type==0?"ask":"bid"}`;n(d=>({...d,[l]:s}))}},[]);return y.jsx(I1.Provider,{value:{latestQuotes:e,updateQuote:r},children:i})};function Dv(i,e){return function(){return i.apply(e,arguments)}}const{toString:N1}=Object.prototype,{getPrototypeOf:np}=Object,{iterator:vl,toStringTag:Uv}=Symbol,Tl=(i=>e=>{const n=N1.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wn=i=>(i=i.toLowerCase(),e=>Tl(e)===i),El=i=>e=>typeof e===i,{isArray:Ei}=Array,Fa=El("undefined");function M1(i){return i!==null&&!Fa(i)&&i.constructor!==null&&!Fa(i.constructor)&&Bt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Lv=wn("ArrayBuffer");function D1(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&Lv(i.buffer),e}const U1=El("string"),Bt=El("function"),Pv=El("number"),Al=i=>i!==null&&typeof i=="object",L1=i=>i===!0||i===!1,_c=i=>{if(Tl(i)!=="object")return!1;const e=np(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Uv in i)&&!(vl in i)},P1=wn("Date"),B1=wn("File"),H1=wn("Blob"),z1=wn("FileList"),j1=i=>Al(i)&&Bt(i.pipe),F1=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Bt(i.append)&&((e=Tl(i))==="formdata"||e==="object"&&Bt(i.toString)&&i.toString()==="[object FormData]"))},q1=wn("URLSearchParams"),[K1,G1,V1,Y1]=["ReadableStream","Request","Response","Headers"].map(wn),Q1=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ga(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let r,s;if(typeof i!="object"&&(i=[i]),Ei(i))for(r=0,s=i.length;r<s;r++)e.call(null,i[r],r,i);else{const l=n?Object.getOwnPropertyNames(i):Object.keys(i),d=l.length;let f;for(r=0;r<d;r++)f=l[r],e.call(null,i[f],f,i)}}function Bv(i,e){e=e.toLowerCase();const n=Object.keys(i);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hv=i=>!Fa(i)&&i!==lr;function Dh(){const{caseless:i}=Hv(this)&&this||{},e={},n=(r,s)=>{const l=i&&Bv(e,s)||s;_c(e[l])&&_c(r)?e[l]=Dh(e[l],r):_c(r)?e[l]=Dh({},r):Ei(r)?e[l]=r.slice():e[l]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ga(arguments[r],n);return e}const $1=(i,e,n,{allOwnKeys:r}={})=>(Ga(e,(s,l)=>{n&&Bt(s)?i[l]=Dv(s,n):i[l]=s},{allOwnKeys:r}),i),J1=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),X1=(i,e,n,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},Z1=(i,e,n,r)=>{let s,l,d;const f={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),l=s.length;l-- >0;)d=s[l],(!r||r(d,i,e))&&!f[d]&&(e[d]=i[d],f[d]=!0);i=n!==!1&&np(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},W1=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const r=i.indexOf(e,n);return r!==-1&&r===n},eR=i=>{if(!i)return null;if(Ei(i))return i;let e=i.length;if(!Pv(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},tR=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&np(Uint8Array)),nR=(i,e)=>{const r=(i&&i[vl]).call(i);let s;for(;(s=r.next())&&!s.done;){const l=s.value;e.call(i,l[0],l[1])}},oR=(i,e)=>{let n;const r=[];for(;(n=i.exec(e))!==null;)r.push(n);return r},rR=wn("HTMLFormElement"),iR=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Qb=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),aR=wn("RegExp"),zv=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),r={};Ga(n,(s,l)=>{let d;(d=e(s,l,i))!==!1&&(r[l]=d||s)}),Object.defineProperties(i,r)},sR=i=>{zv(i,(e,n)=>{if(Bt(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=i[n];if(Bt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cR=(i,e)=>{const n={},r=s=>{s.forEach(l=>{n[l]=!0})};return Ei(i)?r(i):r(String(i).split(e)),n},lR=()=>{},uR=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function dR(i){return!!(i&&Bt(i.append)&&i[Uv]==="FormData"&&i[vl])}const hR=i=>{const e=new Array(10),n=(r,s)=>{if(Al(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const l=Ei(r)?[]:{};return Ga(r,(d,f)=>{const p=n(d,s+1);!Fa(p)&&(l[f]=p)}),e[s]=void 0,l}}return r};return n(i,0)},fR=wn("AsyncFunction"),pR=i=>i&&(Al(i)||Bt(i))&&Bt(i.then)&&Bt(i.catch),jv=((i,e)=>i?setImmediate:e?((n,r)=>(lr.addEventListener("message",({source:s,data:l})=>{s===lr&&l===n&&r.length&&r.shift()()},!1),s=>{r.push(s),lr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bt(lr.postMessage)),gR=typeof queueMicrotask<"u"?queueMicrotask.bind(lr):typeof process<"u"&&process.nextTick||jv,mR=i=>i!=null&&Bt(i[vl]),M={isArray:Ei,isArrayBuffer:Lv,isBuffer:M1,isFormData:F1,isArrayBufferView:D1,isString:U1,isNumber:Pv,isBoolean:L1,isObject:Al,isPlainObject:_c,isReadableStream:K1,isRequest:G1,isResponse:V1,isHeaders:Y1,isUndefined:Fa,isDate:P1,isFile:B1,isBlob:H1,isRegExp:aR,isFunction:Bt,isStream:j1,isURLSearchParams:q1,isTypedArray:tR,isFileList:z1,forEach:Ga,merge:Dh,extend:$1,trim:Q1,stripBOM:J1,inherits:X1,toFlatObject:Z1,kindOf:Tl,kindOfTest:wn,endsWith:W1,toArray:eR,forEachEntry:nR,matchAll:oR,isHTMLForm:rR,hasOwnProperty:Qb,hasOwnProp:Qb,reduceDescriptors:zv,freezeMethods:sR,toObjectSet:cR,toCamelCase:iR,noop:lR,toFiniteNumber:uR,findKey:Bv,global:lr,isContextDefined:Hv,isSpecCompliantForm:dR,toJSONObject:hR,isAsyncFn:fR,isThenable:pR,setImmediate:jv,asap:gR,isIterable:mR};function le(i,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}M.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Fv=le.prototype,qv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{qv[i]={value:i}});Object.defineProperties(le,qv);Object.defineProperty(Fv,"isAxiosError",{value:!0});le.from=(i,e,n,r,s,l)=>{const d=Object.create(Fv);return M.toFlatObject(i,d,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),le.call(d,i.message,e,n,r,s),d.cause=i,d.name=i.name,l&&Object.assign(d,l),d};const yR=null;function Uh(i){return M.isPlainObject(i)||M.isArray(i)}function Kv(i){return M.endsWith(i,"[]")?i.slice(0,-2):i}function $b(i,e,n){return i?i.concat(e).map(function(s,l){return s=Kv(s),!n&&l?"["+s+"]":s}).join(n?".":""):e}function bR(i){return M.isArray(i)&&!i.some(Uh)}const CR=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function wl(i,e,n){if(!M.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(K,V){return!M.isUndefined(V[K])});const r=n.metaTokens,s=n.visitor||b,l=n.dots,d=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(s))throw new TypeError("visitor must be a function");function m(D){if(D===null)return"";if(M.isDate(D))return D.toISOString();if(M.isBoolean(D))return D.toString();if(!p&&M.isBlob(D))throw new le("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(D)||M.isTypedArray(D)?p&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function b(D,K,V){let Y=D;if(D&&!V&&typeof D=="object"){if(M.endsWith(K,"{}"))K=r?K:K.slice(0,-2),D=JSON.stringify(D);else if(M.isArray(D)&&bR(D)||(M.isFileList(D)||M.endsWith(K,"[]"))&&(Y=M.toArray(D)))return K=Kv(K),Y.forEach(function(J,W){!(M.isUndefined(J)||J===null)&&e.append(d===!0?$b([K],W,l):d===null?K:K+"[]",m(J))}),!1}return Uh(D)?!0:(e.append($b(V,K,l),m(D)),!1)}const S=[],w=Object.assign(CR,{defaultVisitor:b,convertValue:m,isVisitable:Uh});function U(D,K){if(!M.isUndefined(D)){if(S.indexOf(D)!==-1)throw Error("Circular reference detected in "+K.join("."));S.push(D),M.forEach(D,function(Y,B){(!(M.isUndefined(Y)||Y===null)&&s.call(e,Y,M.isString(B)?B.trim():B,K,w))===!0&&U(Y,K?K.concat(B):[B])}),S.pop()}}if(!M.isObject(i))throw new TypeError("data must be an object");return U(i),e}function Jb(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function op(i,e){this._pairs=[],i&&wl(i,this,e)}const Gv=op.prototype;Gv.append=function(e,n){this._pairs.push([e,n])};Gv.toString=function(e){const n=e?function(r){return e.call(this,r,Jb)}:Jb;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function SR(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vv(i,e,n){if(!e)return i;const r=n&&n.encode||SR;M.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(e,n):l=M.isURLSearchParams(e)?e.toString():new op(e,n).toString(r),l){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class Xb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Yv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vR=typeof URLSearchParams<"u"?URLSearchParams:op,TR=typeof FormData<"u"?FormData:null,ER=typeof Blob<"u"?Blob:null,AR={isBrowser:!0,classes:{URLSearchParams:vR,FormData:TR,Blob:ER},protocols:["http","https","file","blob","url","data"]},rp=typeof window<"u"&&typeof document<"u",Lh=typeof navigator=="object"&&navigator||void 0,wR=rp&&(!Lh||["ReactNative","NativeScript","NS"].indexOf(Lh.product)<0),_R=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xR=rp&&window.location.href||"http://localhost",RR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rp,hasStandardBrowserEnv:wR,hasStandardBrowserWebWorkerEnv:_R,navigator:Lh,origin:xR},Symbol.toStringTag,{value:"Module"})),vt={...RR,...AR};function kR(i,e){return wl(i,new vt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,l){return vt.isNode&&M.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function IR(i){return M.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function OR(i){const e={},n=Object.keys(i);let r;const s=n.length;let l;for(r=0;r<s;r++)l=n[r],e[l]=i[l];return e}function Qv(i){function e(n,r,s,l){let d=n[l++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),p=l>=n.length;return d=!d&&M.isArray(s)?s.length:d,p?(M.hasOwnProp(s,d)?s[d]=[s[d],r]:s[d]=r,!f):((!s[d]||!M.isObject(s[d]))&&(s[d]=[]),e(n,r,s[d],l)&&M.isArray(s[d])&&(s[d]=OR(s[d])),!f)}if(M.isFormData(i)&&M.isFunction(i.entries)){const n={};return M.forEachEntry(i,(r,s)=>{e(IR(r),s,n,0)}),n}return null}function NR(i,e,n){if(M.isString(i))try{return(e||JSON.parse)(i),M.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(i)}const Va={transitional:Yv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,l=M.isObject(e);if(l&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return s?JSON.stringify(Qv(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kR(e,this.formSerializer).toString();if((f=M.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return wl(f?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),NR(e)):e}],transformResponse:[function(e){const n=this.transitional||Va.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(r&&!this.responseType||s)){const d=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(f){if(d)throw f.name==="SyntaxError"?le.from(f,le.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vt.classes.FormData,Blob:vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],i=>{Va.headers[i]={}});const MR=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DR=i=>{const e={};let n,r,s;return i&&i.split(`
`).forEach(function(d){s=d.indexOf(":"),n=d.substring(0,s).trim().toLowerCase(),r=d.substring(s+1).trim(),!(!n||e[n]&&MR[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Zb=Symbol("internals");function wa(i){return i&&String(i).trim().toLowerCase()}function xc(i){return i===!1||i==null?i:M.isArray(i)?i.map(xc):String(i)}function UR(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(i);)e[r[1]]=r[2];return e}const LR=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function th(i,e,n,r,s){if(M.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!M.isString(e)){if(M.isString(r))return e.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(e)}}function PR(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function BR(i,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+n,{value:function(s,l,d){return this[r].call(this,e,s,l,d)},configurable:!0})})}let Ht=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function l(f,p,m){const b=wa(p);if(!b)throw new Error("header name must be a non-empty string");const S=M.findKey(s,b);(!S||s[S]===void 0||m===!0||m===void 0&&s[S]!==!1)&&(s[S||p]=xc(f))}const d=(f,p)=>M.forEach(f,(m,b)=>l(m,b,p));if(M.isPlainObject(e)||e instanceof this.constructor)d(e,n);else if(M.isString(e)&&(e=e.trim())&&!LR(e))d(DR(e),n);else if(M.isObject(e)&&M.isIterable(e)){let f={},p,m;for(const b of e){if(!M.isArray(b))throw TypeError("Object iterator must return a key-value pair");f[m=b[0]]=(p=f[m])?M.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}d(f,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=wa(e),e){const r=M.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return UR(s);if(M.isFunction(n))return n.call(this,s,r);if(M.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=wa(e),e){const r=M.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||th(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function l(d){if(d=wa(d),d){const f=M.findKey(r,d);f&&(!n||th(r,r[f],f,n))&&(delete r[f],s=!0)}}return M.isArray(e)?e.forEach(l):l(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const l=n[r];(!e||th(this,this[l],l,e,!0))&&(delete this[l],s=!0)}return s}normalize(e){const n=this,r={};return M.forEach(this,(s,l)=>{const d=M.findKey(r,l);if(d){n[d]=xc(s),delete n[l];return}const f=e?PR(l):String(l).trim();f!==l&&delete n[l],n[f]=xc(s),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&M.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Zb]=this[Zb]={accessors:{}}).accessors,s=this.prototype;function l(d){const f=wa(d);r[f]||(BR(s,d),r[f]=!0)}return M.isArray(e)?e.forEach(l):l(e),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Ht.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[n]=r}}});M.freezeMethods(Ht);function nh(i,e){const n=this||Va,r=e||n,s=Ht.from(r.headers);let l=r.data;return M.forEach(i,function(f){l=f.call(n,l,s.normalize(),e?e.status:void 0)}),s.normalize(),l}function $v(i){return!!(i&&i.__CANCEL__)}function Ai(i,e,n){le.call(this,i??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits(Ai,le,{__CANCEL__:!0});function Jv(i,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?i(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HR(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function zR(i,e){i=i||10;const n=new Array(i),r=new Array(i);let s=0,l=0,d;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),b=r[l];d||(d=m),n[s]=p,r[s]=m;let S=l,w=0;for(;S!==s;)w+=n[S++],S=S%i;if(s=(s+1)%i,s===l&&(l=(l+1)%i),m-d<e)return;const U=b&&m-b;return U?Math.round(w*1e3/U):void 0}}function jR(i,e){let n=0,r=1e3/e,s,l;const d=(m,b=Date.now())=>{n=b,s=null,l&&(clearTimeout(l),l=null),i.apply(null,m)};return[(...m)=>{const b=Date.now(),S=b-n;S>=r?d(m,b):(s=m,l||(l=setTimeout(()=>{l=null,d(s)},r-S)))},()=>s&&d(s)]}const Wc=(i,e,n=3)=>{let r=0;const s=zR(50,250);return jR(l=>{const d=l.loaded,f=l.lengthComputable?l.total:void 0,p=d-r,m=s(p),b=d<=f;r=d;const S={loaded:d,total:f,progress:f?d/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&b?(f-d)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};i(S)},n)},Wb=(i,e)=>{const n=i!=null;return[r=>e[0]({lengthComputable:n,total:i,loaded:r}),e[1]]},eC=i=>(...e)=>M.asap(()=>i(...e)),FR=vt.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,vt.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(vt.origin),vt.navigator&&/(msie|trident)/i.test(vt.navigator.userAgent)):()=>!0,qR=vt.hasStandardBrowserEnv?{write(i,e,n,r,s,l){const d=[i+"="+encodeURIComponent(e)];M.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),M.isString(r)&&d.push("path="+r),M.isString(s)&&d.push("domain="+s),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KR(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function GR(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function Xv(i,e,n){let r=!KR(e);return i&&(r||n==!1)?GR(i,e):e}const tC=i=>i instanceof Ht?{...i}:i;function yr(i,e){e=e||{};const n={};function r(m,b,S,w){return M.isPlainObject(m)&&M.isPlainObject(b)?M.merge.call({caseless:w},m,b):M.isPlainObject(b)?M.merge({},b):M.isArray(b)?b.slice():b}function s(m,b,S,w){if(M.isUndefined(b)){if(!M.isUndefined(m))return r(void 0,m,S,w)}else return r(m,b,S,w)}function l(m,b){if(!M.isUndefined(b))return r(void 0,b)}function d(m,b){if(M.isUndefined(b)){if(!M.isUndefined(m))return r(void 0,m)}else return r(void 0,b)}function f(m,b,S){if(S in e)return r(m,b);if(S in i)return r(void 0,m)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(m,b,S)=>s(tC(m),tC(b),S,!0)};return M.forEach(Object.keys(Object.assign({},i,e)),function(b){const S=p[b]||s,w=S(i[b],e[b],b);M.isUndefined(w)&&S!==f||(n[b]=w)}),n}const Zv=i=>{const e=yr({},i);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:d,auth:f}=e;e.headers=d=Ht.from(d),e.url=Vv(Xv(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(M.isFormData(n)){if(vt.hasStandardBrowserEnv||vt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[m,...b]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];d.setContentType([m||"multipart/form-data",...b].join("; "))}}if(vt.hasStandardBrowserEnv&&(r&&M.isFunction(r)&&(r=r(e)),r||r!==!1&&FR(e.url))){const m=s&&l&&qR.read(l);m&&d.set(s,m)}return e},VR=typeof XMLHttpRequest<"u",YR=VR&&function(i){return new Promise(function(n,r){const s=Zv(i);let l=s.data;const d=Ht.from(s.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=s,b,S,w,U,D;function K(){U&&U(),D&&D(),s.cancelToken&&s.cancelToken.unsubscribe(b),s.signal&&s.signal.removeEventListener("abort",b)}let V=new XMLHttpRequest;V.open(s.method.toUpperCase(),s.url,!0),V.timeout=s.timeout;function Y(){if(!V)return;const J=Ht.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),ee={data:!f||f==="text"||f==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:J,config:i,request:V};Jv(function(xe){n(xe),K()},function(xe){r(xe),K()},ee),V=null}"onloadend"in V?V.onloadend=Y:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(Y)},V.onabort=function(){V&&(r(new le("Request aborted",le.ECONNABORTED,i,V)),V=null)},V.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,i,V)),V=null},V.ontimeout=function(){let W=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ee=s.transitional||Yv;s.timeoutErrorMessage&&(W=s.timeoutErrorMessage),r(new le(W,ee.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,i,V)),V=null},l===void 0&&d.setContentType(null),"setRequestHeader"in V&&M.forEach(d.toJSON(),function(W,ee){V.setRequestHeader(ee,W)}),M.isUndefined(s.withCredentials)||(V.withCredentials=!!s.withCredentials),f&&f!=="json"&&(V.responseType=s.responseType),m&&([w,D]=Wc(m,!0),V.addEventListener("progress",w)),p&&V.upload&&([S,U]=Wc(p),V.upload.addEventListener("progress",S),V.upload.addEventListener("loadend",U)),(s.cancelToken||s.signal)&&(b=J=>{V&&(r(!J||J.type?new Ai(null,i,V):J),V.abort(),V=null)},s.cancelToken&&s.cancelToken.subscribe(b),s.signal&&(s.signal.aborted?b():s.signal.addEventListener("abort",b)));const B=HR(s.url);if(B&&vt.protocols.indexOf(B)===-1){r(new le("Unsupported protocol "+B+":",le.ERR_BAD_REQUEST,i));return}V.send(l||null)})},QR=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let r=new AbortController,s;const l=function(m){if(!s){s=!0,f();const b=m instanceof Error?m:this.reason;r.abort(b instanceof le?b:new Ai(b instanceof Error?b.message:b))}};let d=e&&setTimeout(()=>{d=null,l(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const f=()=>{i&&(d&&clearTimeout(d),d=null,i.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),i=null)};i.forEach(m=>m.addEventListener("abort",l));const{signal:p}=r;return p.unsubscribe=()=>M.asap(f),p}},$R=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let r=0,s;for(;r<n;)s=r+e,yield i.slice(r,s),r=s},JR=async function*(i,e){for await(const n of XR(i))yield*$R(n,e)},XR=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},nC=(i,e,n,r)=>{const s=JR(i,e);let l=0,d,f=p=>{d||(d=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:m,value:b}=await s.next();if(m){f(),p.close();return}let S=b.byteLength;if(n){let w=l+=S;n(w)}p.enqueue(new Uint8Array(b))}catch(m){throw f(m),m}},cancel(p){return f(p),s.return()}},{highWaterMark:2})},_l=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Wv=_l&&typeof ReadableStream=="function",ZR=_l&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),eT=(i,...e)=>{try{return!!i(...e)}catch{return!1}},WR=Wv&&eT(()=>{let i=!1;const e=new Request(vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),oC=64*1024,Ph=Wv&&eT(()=>M.isReadableStream(new Response("").body)),el={stream:Ph&&(i=>i.body)};_l&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!el[e]&&(el[e]=M.isFunction(i[e])?n=>n[e]():(n,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const ek=async i=>{if(i==null)return 0;if(M.isBlob(i))return i.size;if(M.isSpecCompliantForm(i))return(await new Request(vt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(M.isArrayBufferView(i)||M.isArrayBuffer(i))return i.byteLength;if(M.isURLSearchParams(i)&&(i=i+""),M.isString(i))return(await ZR(i)).byteLength},tk=async(i,e)=>{const n=M.toFiniteNumber(i.getContentLength());return n??ek(e)},nk=_l&&(async i=>{let{url:e,method:n,data:r,signal:s,cancelToken:l,timeout:d,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:b,withCredentials:S="same-origin",fetchOptions:w}=Zv(i);m=m?(m+"").toLowerCase():"text";let U=QR([s,l&&l.toAbortSignal()],d),D;const K=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let V;try{if(p&&WR&&n!=="get"&&n!=="head"&&(V=await tk(b,r))!==0){let ee=new Request(e,{method:"POST",body:r,duplex:"half"}),Ee;if(M.isFormData(r)&&(Ee=ee.headers.get("content-type"))&&b.setContentType(Ee),ee.body){const[xe,Ue]=Wb(V,Wc(eC(p)));r=nC(ee.body,oC,xe,Ue)}}M.isString(S)||(S=S?"include":"omit");const Y="credentials"in Request.prototype;D=new Request(e,{...w,signal:U,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",credentials:Y?S:void 0});let B=await fetch(D,w);const J=Ph&&(m==="stream"||m==="response");if(Ph&&(f||J&&K)){const ee={};["status","statusText","headers"].forEach(Et=>{ee[Et]=B[Et]});const Ee=M.toFiniteNumber(B.headers.get("content-length")),[xe,Ue]=f&&Wb(Ee,Wc(eC(f),!0))||[];B=new Response(nC(B.body,oC,xe,()=>{Ue&&Ue(),K&&K()}),ee)}m=m||"text";let W=await el[M.findKey(el,m)||"text"](B,i);return!J&&K&&K(),await new Promise((ee,Ee)=>{Jv(ee,Ee,{data:W,headers:Ht.from(B.headers),status:B.status,statusText:B.statusText,config:i,request:D})})}catch(Y){throw K&&K(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,i,D),{cause:Y.cause||Y}):le.from(Y,Y&&Y.code,i,D)}}),Bh={http:yR,xhr:YR,fetch:nk};M.forEach(Bh,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const rC=i=>`- ${i}`,ok=i=>M.isFunction(i)||i===null||i===!1,tT={getAdapter:i=>{i=M.isArray(i)?i:[i];const{length:e}=i;let n,r;const s={};for(let l=0;l<e;l++){n=i[l];let d;if(r=n,!ok(n)&&(r=Bh[(d=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${d}'`);if(r)break;s[d||"#"+l]=r}if(!r){const l=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=e?l.length>1?`since :
`+l.map(rC).join(`
`):" "+rC(l[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:Bh};function oh(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Ai(null,i)}function iC(i){return oh(i),i.headers=Ht.from(i.headers),i.data=nh.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),tT.getAdapter(i.adapter||Va.adapter)(i).then(function(r){return oh(i),r.data=nh.call(i,i.transformResponse,r),r.headers=Ht.from(r.headers),r},function(r){return $v(r)||(oh(i),r&&r.response&&(r.response.data=nh.call(i,i.transformResponse,r.response),r.response.headers=Ht.from(r.response.headers))),Promise.reject(r)})}const nT="1.10.0",xl={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{xl[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const aC={};xl.transitional=function(e,n,r){function s(l,d){return"[Axios v"+nT+"] Transitional option '"+l+"'"+d+(r?". "+r:"")}return(l,d,f)=>{if(e===!1)throw new le(s(d," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!aC[d]&&(aC[d]=!0,console.warn(s(d," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,d,f):!0}};xl.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function rk(i,e,n){if(typeof i!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let s=r.length;for(;s-- >0;){const l=r[s],d=e[l];if(d){const f=i[l],p=f===void 0||d(f,l,i);if(p!==!0)throw new le("option "+l+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+l,le.ERR_BAD_OPTION)}}const Rc={assertOptions:rk,validators:xl},Dn=Rc.validators;let hr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Xb,response:new Xb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=yr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:l}=n;r!==void 0&&Rc.assertOptions(r,{silentJSONParsing:Dn.transitional(Dn.boolean),forcedJSONParsing:Dn.transitional(Dn.boolean),clarifyTimeoutError:Dn.transitional(Dn.boolean)},!1),s!=null&&(M.isFunction(s)?n.paramsSerializer={serialize:s}:Rc.assertOptions(s,{encode:Dn.function,serialize:Dn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rc.assertOptions(n,{baseUrl:Dn.spelling("baseURL"),withXsrfToken:Dn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&M.merge(l.common,l[n.method]);l&&M.forEach(["delete","get","head","post","put","patch","common"],D=>{delete l[D]}),n.headers=Ht.concat(d,l);const f=[];let p=!0;this.interceptors.request.forEach(function(K){typeof K.runWhen=="function"&&K.runWhen(n)===!1||(p=p&&K.synchronous,f.unshift(K.fulfilled,K.rejected))});const m=[];this.interceptors.response.forEach(function(K){m.push(K.fulfilled,K.rejected)});let b,S=0,w;if(!p){const D=[iC.bind(this),void 0];for(D.unshift.apply(D,f),D.push.apply(D,m),w=D.length,b=Promise.resolve(n);S<w;)b=b.then(D[S++],D[S++]);return b}w=f.length;let U=n;for(S=0;S<w;){const D=f[S++],K=f[S++];try{U=D(U)}catch(V){K.call(this,V);break}}try{b=iC.call(this,U)}catch(D){return Promise.reject(D)}for(S=0,w=m.length;S<w;)b=b.then(m[S++],m[S++]);return b}getUri(e){e=yr(this.defaults,e);const n=Xv(e.baseURL,e.url,e.allowAbsoluteUrls);return Vv(n,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){hr.prototype[e]=function(n,r){return this.request(yr(r||{},{method:e,url:n,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(r){return function(l,d,f){return this.request(yr(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}hr.prototype[e]=n(),hr.prototype[e+"Form"]=n(!0)});let ik=class oT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(s=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](s);r._listeners=null}),this.promise.then=s=>{let l;const d=new Promise(f=>{r.subscribe(f),l=f}).then(s);return d.cancel=function(){r.unsubscribe(l)},d},e(function(l,d,f){r.reason||(r.reason=new Ai(l,d,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new oT(function(s){e=s}),cancel:e}}};function ak(i){return function(n){return i.apply(null,n)}}function sk(i){return M.isObject(i)&&i.isAxiosError===!0}const Hh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hh).forEach(([i,e])=>{Hh[e]=i});function rT(i){const e=new hr(i),n=Dv(hr.prototype.request,e);return M.extend(n,hr.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return rT(yr(i,s))},n}const Ge=rT(Va);Ge.Axios=hr;Ge.CanceledError=Ai;Ge.CancelToken=ik;Ge.isCancel=$v;Ge.VERSION=nT;Ge.toFormData=wl;Ge.AxiosError=le;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=ak;Ge.isAxiosError=sk;Ge.mergeConfig=yr;Ge.AxiosHeaders=Ht;Ge.formToJSON=i=>Qv(M.isHTMLForm(i)?new FormData(i):i);Ge.getAdapter=tT.getAdapter;Ge.HttpStatusCode=Hh;Ge.default=Ge;const{Axios:XO,AxiosError:ZO,CanceledError:WO,isCancel:e2,CancelToken:t2,VERSION:n2,all:o2,Cancel:r2,isAxiosError:i2,spread:a2,toFormData:s2,AxiosHeaders:c2,HttpStatusCode:l2,formToJSON:u2,getAdapter:d2,mergeConfig:h2}=Ge,Bn=Object.create(null);Bn.open="0";Bn.close="1";Bn.ping="2";Bn.pong="3";Bn.message="4";Bn.upgrade="5";Bn.noop="6";const kc=Object.create(null);Object.keys(Bn).forEach(i=>{kc[Bn[i]]=i});const zh={type:"error",data:"parser error"},iT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",aT=typeof ArrayBuffer=="function",sT=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,ip=({type:i,data:e},n,r)=>iT&&e instanceof Blob?n?r(e):sC(e,r):aT&&(e instanceof ArrayBuffer||sT(e))?n?r(e):sC(new Blob([e]),r):r(Bn[i]+(e||"")),sC=(i,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(i)};function cC(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let rh;function ck(i,e){if(iT&&i.data instanceof Blob)return i.data.arrayBuffer().then(cC).then(e);if(aT&&(i.data instanceof ArrayBuffer||sT(i.data)))return e(cC(i.data));ip(i,!1,n=>{rh||(rh=new TextEncoder),e(rh.encode(n))})}const lC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ia=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<lC.length;i++)Ia[lC.charCodeAt(i)]=i;const lk=i=>{let e=i.length*.75,n=i.length,r,s=0,l,d,f,p;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);const m=new ArrayBuffer(e),b=new Uint8Array(m);for(r=0;r<n;r+=4)l=Ia[i.charCodeAt(r)],d=Ia[i.charCodeAt(r+1)],f=Ia[i.charCodeAt(r+2)],p=Ia[i.charCodeAt(r+3)],b[s++]=l<<2|d>>4,b[s++]=(d&15)<<4|f>>2,b[s++]=(f&3)<<6|p&63;return m},uk=typeof ArrayBuffer=="function",ap=(i,e)=>{if(typeof i!="string")return{type:"message",data:cT(i,e)};const n=i.charAt(0);return n==="b"?{type:"message",data:dk(i.substring(1),e)}:kc[n]?i.length>1?{type:kc[n],data:i.substring(1)}:{type:kc[n]}:zh},dk=(i,e)=>{if(uk){const n=lk(i);return cT(n,e)}else return{base64:!0,data:i}},cT=(i,e)=>{switch(e){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},lT="",hk=(i,e)=>{const n=i.length,r=new Array(n);let s=0;i.forEach((l,d)=>{ip(l,!1,f=>{r[d]=f,++s===n&&e(r.join(lT))})})},fk=(i,e)=>{const n=i.split(lT),r=[];for(let s=0;s<n.length;s++){const l=ap(n[s],e);if(r.push(l),l.type==="error")break}return r};function pk(){return new TransformStream({transform(i,e){ck(i,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,r)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(r))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let ih;function Cc(i){return i.reduce((e,n)=>e+n.length,0)}function Sc(i,e){if(i[0].length===e)return i.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=i[0][r++],r===i[0].length&&(i.shift(),r=0);return i.length&&r<i[0].length&&(i[0]=i[0].slice(r)),n}function gk(i,e){ih||(ih=new TextDecoder);const n=[];let r=0,s=-1,l=!1;return new TransformStream({transform(d,f){for(n.push(d);;){if(r===0){if(Cc(n)<1)break;const p=Sc(n,1);l=(p[0]&128)===128,s=p[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Cc(n)<2)break;const p=Sc(n,2);s=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),r=3}else if(r===2){if(Cc(n)<8)break;const p=Sc(n,8),m=new DataView(p.buffer,p.byteOffset,p.length),b=m.getUint32(0);if(b>Math.pow(2,21)-1){f.enqueue(zh);break}s=b*Math.pow(2,32)+m.getUint32(4),r=3}else{if(Cc(n)<s)break;const p=Sc(n,s);f.enqueue(ap(l?p:ih.decode(p),e)),r=0}if(s===0||s>i){f.enqueue(zh);break}}}})}const uT=4;function We(i){if(i)return mk(i)}function mk(i){for(var e in We.prototype)i[e]=We.prototype[e];return i}We.prototype.on=We.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};We.prototype.once=function(i,e){function n(){this.off(i,n),e.apply(this,arguments)}return n.fn=e,this.on(i,n),this};We.prototype.off=We.prototype.removeListener=We.prototype.removeAllListeners=We.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+i];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+i],this};We.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+i],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};We.prototype.emitReserved=We.prototype.emit;We.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};We.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Rl=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),hn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),yk="arraybuffer";function dT(i,...e){return e.reduce((n,r)=>(i.hasOwnProperty(r)&&(n[r]=i[r]),n),{})}const bk=hn.setTimeout,Ck=hn.clearTimeout;function kl(i,e){e.useNativeTimers?(i.setTimeoutFn=bk.bind(hn),i.clearTimeoutFn=Ck.bind(hn)):(i.setTimeoutFn=hn.setTimeout.bind(hn),i.clearTimeoutFn=hn.clearTimeout.bind(hn))}const Sk=1.33;function vk(i){return typeof i=="string"?Tk(i):Math.ceil((i.byteLength||i.size)*Sk)}function Tk(i){let e=0,n=0;for(let r=0,s=i.length;r<s;r++)e=i.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function hT(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ek(i){let e="";for(let n in i)i.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(i[n]));return e}function Ak(i){let e={},n=i.split("&");for(let r=0,s=n.length;r<s;r++){let l=n[r].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}class wk extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class sp extends We{constructor(e){super(),this.writable=!1,kl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new wk(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ap(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ek(e);return n.length?"?"+n:""}}class _k extends sp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fk(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,hk(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=hT()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let fT=!1;try{fT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xk=fT;function Rk(){}class kk extends _k{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let gi=class Ic extends We{constructor(e,n,r){super(),this.createRequest=e,kl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=dT(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ic.requestsCount++,Ic.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Rk,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ic.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};gi.requestsCount=0;gi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",uC);else if(typeof addEventListener=="function"){const i="onpagehide"in hn?"pagehide":"unload";addEventListener(i,uC,!1)}}function uC(){for(let i in gi.requests)gi.requests.hasOwnProperty(i)&&gi.requests[i].abort()}const Ik=function(){const i=pT({xdomain:!1});return i&&i.responseType!==null}();class Ok extends kk{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Ik&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new gi(pT,this.uri(),e)}}function pT(i){const e=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xk))return new XMLHttpRequest}catch{}if(!e)try{return new hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const gT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Nk extends sp{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=gT?{}:dT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;ip(r,this.supportsBinary,l=>{try{this.doWrite(r,l)}catch{}s&&Rl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=hT()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const ah=hn.WebSocket||hn.MozWebSocket;class Mk extends Nk{createSocket(e,n,r){return gT?new ah(e,n,r):n?new ah(e,n):new ah(e)}doWrite(e,n){this.ws.send(n)}}class Dk extends sp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=gk(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=pk();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const l=()=>{r.read().then(({done:f,value:p})=>{f||(this.onPacket(p),l())}).catch(f=>{})};l();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Rl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Uk={websocket:Mk,webtransport:Dk,polling:Ok},Lk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function jh(i){if(i.length>8e3)throw"URI too long";const e=i,n=i.indexOf("["),r=i.indexOf("]");n!=-1&&r!=-1&&(i=i.substring(0,n)+i.substring(n,r).replace(/:/g,";")+i.substring(r,i.length));let s=Lk.exec(i||""),l={},d=14;for(;d--;)l[Pk[d]]=s[d]||"";return n!=-1&&r!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Bk(l,l.path),l.queryKey=Hk(l,l.query),l}function Bk(i,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Hk(i,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,l){s&&(n[s]=l)}),n}const Fh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Oc=[];Fh&&addEventListener("offline",()=>{Oc.forEach(i=>i())},!1);class Bo extends We{constructor(e,n){if(super(),this.binaryType=yk,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=jh(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=jh(n.host).host);kl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ak(this.opts.query)),Fh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Oc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=uT,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Bo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Bo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=vk(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Rl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const l={type:e,data:n,options:r};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Bo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Oc.indexOf(this._offlineEventListener);r!==-1&&Oc.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Bo.protocol=uT;class zk extends Bo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Bo.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",S=>{if(!r)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Bo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(b(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=n.name,this.emitReserved("upgradeError",w)}}))};function l(){r||(r=!0,b(),n.close(),n=null)}const d=S=>{const w=new Error("probe error: "+S);w.transport=n.name,l(),this.emitReserved("upgradeError",w)};function f(){d("transport closed")}function p(){d("socket closed")}function m(S){n&&S.name!==n.name&&l()}const b=()=>{n.removeListener("open",s),n.removeListener("error",d),n.removeListener("close",f),this.off("close",p),this.off("upgrading",m)};n.once("open",s),n.once("error",d),n.once("close",f),this.once("close",p),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let jk=class extends zk{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Uk[s]).filter(s=>!!s)),super(e,r)}};function Fk(i,e="",n){let r=i;n=n||typeof location<"u"&&location,i==null&&(i=n.protocol+"//"+n.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=n.protocol+i:i=n.host+i),/^(https?|wss?):\/\//.test(i)||(typeof n<"u"?i=n.protocol+"//"+i:i="https://"+i),r=jh(i)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const l=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+l+":"+r.port+e,r.href=r.protocol+"://"+l+(n&&n.port===r.port?"":":"+r.port),r}const qk=typeof ArrayBuffer=="function",Kk=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,mT=Object.prototype.toString,Gk=typeof Blob=="function"||typeof Blob<"u"&&mT.call(Blob)==="[object BlobConstructor]",Vk=typeof File=="function"||typeof File<"u"&&mT.call(File)==="[object FileConstructor]";function cp(i){return qk&&(i instanceof ArrayBuffer||Kk(i))||Gk&&i instanceof Blob||Vk&&i instanceof File}function Nc(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let n=0,r=i.length;n<r;n++)if(Nc(i[n]))return!0;return!1}if(cp(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Nc(i.toJSON(),!0);for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&Nc(i[n]))return!0;return!1}function Yk(i){const e=[],n=i.data,r=i;return r.data=qh(n,e),r.attachments=e.length,{packet:r,buffers:e}}function qh(i,e){if(!i)return i;if(cp(i)){const n={_placeholder:!0,num:e.length};return e.push(i),n}else if(Array.isArray(i)){const n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=qh(i[r],e);return n}else if(typeof i=="object"&&!(i instanceof Date)){const n={};for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=qh(i[r],e));return n}return i}function Qk(i,e){return i.data=Kh(i.data,e),delete i.attachments,i}function Kh(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let n=0;n<i.length;n++)i[n]=Kh(i[n],e);else if(typeof i=="object")for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(i[n]=Kh(i[n],e));return i}const $k=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Jk=5;var me;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(me||(me={}));class Xk{constructor(e){this.replacer=e}encode(e){return(e.type===me.EVENT||e.type===me.ACK)&&Nc(e)?this.encodeAsBinary({type:e.type===me.EVENT?me.BINARY_EVENT:me.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===me.BINARY_EVENT||e.type===me.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Yk(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function dC(i){return Object.prototype.toString.call(i)==="[object Object]"}class lp extends We{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===me.BINARY_EVENT;r||n.type===me.BINARY_ACK?(n.type=r?me.EVENT:me.ACK,this.reconstructor=new Zk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(cp(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(me[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===me.BINARY_EVENT||r.type===me.BINARY_ACK){const l=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const d=e.substring(l,n);if(d!=Number(d)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(d)}if(e.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(l,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const l=n+1;for(;++n;){const d=e.charAt(n);if(d==null||Number(d)!=d){--n;break}if(n===e.length)break}r.id=Number(e.substring(l,n+1))}if(e.charAt(++n)){const l=this.tryParse(e.substr(n));if(lp.isPayloadValid(r.type,l))r.data=l;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case me.CONNECT:return dC(n);case me.DISCONNECT:return n===void 0;case me.CONNECT_ERROR:return typeof n=="string"||dC(n);case me.EVENT:case me.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&$k.indexOf(n[0])===-1);case me.ACK:case me.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Qk(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lp,Encoder:Xk,get PacketType(){return me},protocol:Jk},Symbol.toStringTag,{value:"Module"}));function Cn(i,e,n){return i.on(e,n),function(){i.off(e,n)}}const eI=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yT extends We{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Cn(e,"open",this.onopen.bind(this)),Cn(e,"packet",this.onpacket.bind(this)),Cn(e,"error",this.onerror.bind(this)),Cn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,l;if(eI.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const d={type:me.EVENT,data:n};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const b=this.ids++,S=n.pop();this._registerAckCallback(b,S),d.id=b}const f=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,p=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!f||(p?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},s),d=(...f)=>{this.io.clearTimeoutFn(l),n.apply(this,f)};d.withError=!0,this.acks[e]=d}emitWithAck(e,...n){return new Promise((r,s)=>{const l=(d,f)=>d?s(d):r(f);l.withError=!0,n.push(l),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...l)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...l)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:me.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case me.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case me.EVENT:case me.BINARY_EVENT:this.onevent(e);break;case me.ACK:case me.BINARY_ACK:this.onack(e);break;case me.DISCONNECT:this.ondisconnect();break;case me.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:me.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:me.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function wi(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}wi.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*i);i=(Math.floor(e*10)&1)==0?i-n:i+n}return Math.min(i,this.max)|0};wi.prototype.reset=function(){this.attempts=0};wi.prototype.setMin=function(i){this.ms=i};wi.prototype.setMax=function(i){this.max=i};wi.prototype.setJitter=function(i){this.jitter=i};class Gh extends We{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,kl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new wi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||Wk;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new jk(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Cn(n,"open",function(){r.onopen(),e&&e()}),l=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},d=Cn(n,"error",l);if(this._timeout!==!1){const f=this._timeout,p=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),n.close()},f);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(s),this.subs.push(d),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Cn(e,"ping",this.onping.bind(this)),Cn(e,"data",this.ondata.bind(this)),Cn(e,"error",this.onerror.bind(this)),Cn(e,"close",this.onclose.bind(this)),Cn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Rl(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new yT(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _a={};function sh(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};const n=Fk(i,e.path||"/socket.io"),r=n.source,s=n.id,l=n.path,d=_a[s]&&l in _a[s].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||d;let p;return f?p=new Gh(r,e):(_a[s]||(_a[s]=new Gh(r,e)),p=_a[s]),n.query&&!e.query&&(e.query=n.queryKey),p.socket(n.path,e)}Object.assign(sh,{Manager:Gh,Socket:yT,io:sh,connect:sh});const tI="http://localhost:4000";let Vh=null;const nI=i=>{Vh=i},bT=Ge.create({baseURL:tI,timeout:1e4,headers:{"Content-Type":"application/json"}});bT.interceptors.request.use(async i=>{try{if(Vh){const e=await Vh();e&&(i.headers.Authorization=`Bearer ${e}`)}else console.warn("No authentication token provider configured")}catch(e){console.error("Failed to get authentication token:",e)}return i},i=>Promise.reject(i));bT.interceptors.response.use(i=>i,i=>(i.response?.status===401&&(console.warn("Authentication error - redirecting to login"),window.dispatchEvent(new CustomEvent("auth-error",{detail:i}))),Promise.reject(i)));const oI="https://portfolio-backend.agreeablepond-1a74a92d.eastus.azurecontainerapps.io",rI=parseInt("30000");let Yh=null;const iI=i=>{Yh=i},CT=Ge.create({baseURL:oI,timeout:rI,headers:{"Content-Type":"application/json"}});CT.interceptors.request.use(async i=>{try{if(Yh){const e=await Yh();e&&(i.headers.Authorization=`Bearer ${e}`)}else console.warn("No authentication token provider configured for portfolio API")}catch(e){console.error("Failed to get authentication token for portfolio API:",e)}return i},i=>Promise.reject(i));CT.interceptors.response.use(i=>i,i=>(i.response?.status===401&&(console.warn("Authentication error in portfolio API"),window.dispatchEvent(new CustomEvent("portfolio-auth-error",{detail:i}))),Promise.reject(i)));const aI=({children:i})=>{const{instance:e,accounts:n}=Sl(),r=tp(),s=async()=>{if(!r||n.length===0)throw new Error("User not authenticated");try{return(await e.acquireTokenSilent({...dr,account:n[0]})).accessToken}catch(d){console.error("Failed to acquire token silently:",d);try{return(await e.acquireTokenPopup(dr)).accessToken}catch(f){throw console.error("Failed to acquire token interactively:",f),new Error("Unable to acquire authentication token")}}},l={getToken:s};return N.useEffect(()=>{r&&(nI(s),iI(s))},[r,s]),y.jsx(x1,{children:y.jsx(R1.Provider,{value:l,children:y.jsx(k1,{children:y.jsx(O1,{children:i})})})})},sI={xxl:1400,xl:1200,lg:992,md:768,sm:576,xs:480},cI={xxl:12,xl:12,lg:12,md:10,sm:6,xs:4},lI=(i,e)=>{switch(e.type){case"SET_LAYOUT":return{...i,currentLayout:e.payload};case"CREATE_LAYOUT":const n=new Map(i.layouts);return n.set(e.payload.id,e.payload),{...i,layouts:n,currentLayout:e.payload.id};case"UPDATE_LAYOUT":const r=new Map(i.layouts),s=r.get(e.payload.id);return s&&r.set(e.payload.id,{...s,...e.payload.updates,updatedAt:new Date}),{...i,layouts:r};case"DELETE_LAYOUT":const l=new Map(i.layouts);return l.delete(e.payload),{...i,layouts:l,currentLayout:i.currentLayout===e.payload?Array.from(l.keys())[0]||"":i.currentLayout};case"ADD_ITEM":const d=i.layouts.get(i.currentLayout);if(!d)return i;const f={...d,items:[...d.items,e.payload],updatedAt:new Date},p=new Map(i.layouts);return p.set(i.currentLayout,f),{...i,layouts:p};case"UPDATE_ITEM":const m=i.layouts.get(i.currentLayout);if(!m)return i;const b=m.items.map(Y=>Y.id===e.payload.id?{...Y,...e.payload.updates}:Y),S={...m,items:b,updatedAt:new Date},w=new Map(i.layouts);return w.set(i.currentLayout,S),{...i,layouts:w};case"REMOVE_ITEM":const U=i.layouts.get(i.currentLayout);if(!U)return i;const D=U.items.filter(Y=>Y.id!==e.payload),K={...U,items:D,updatedAt:new Date},V=new Map(i.layouts);return V.set(i.currentLayout,K),{...i,layouts:V};case"SET_BREAKPOINT":return{...i,breakpoint:e.payload};case"SET_DRAGGING":return{...i,isDragging:e.payload};case"SET_RESIZING":return{...i,isResizing:e.payload};case"TOGGLE_EDIT_MODE":return{...i,editMode:!i.editMode};case"TOGGLE_PREVIEW_MODE":return{...i,previewMode:!i.previewMode};case"LOAD_PERSISTED_STATE":return{...i,...e.payload};default:return i}},uI=()=>({id:"default",name:"Default Layout",description:"Default dashboard layout",items:[],breakpoints:sI,cols:cI,rowHeight:60,margin:[10,10],containerPadding:[10,10],compactType:"vertical",preventCollision:!1,isDraggable:!0,isResizable:!0,useCSSTransforms:!0,createdAt:new Date,updatedAt:new Date,isDefault:!0}),dI={layouts:new Map([["default",uI()]]),currentLayout:"default",breakpoint:"lg",isDragging:!1,isResizing:!1,editMode:!1,previewMode:!1},hI=N.createContext(void 0);function fI({children:i,persistenceKey:e="gzc-intel-grid"}){const[n,r]=N.useReducer(lI,dI);N.useEffect(()=>{try{const l=localStorage.getItem(e);if(l){const d=JSON.parse(l);d.layouts&&(d.layouts=new Map(d.layouts)),r({type:"LOAD_PERSISTED_STATE",payload:d})}}catch(l){console.warn("Failed to load persisted grid state:",l)}},[e]),N.useEffect(()=>{try{const l={...n,layouts:Array.from(n.layouts.entries())};localStorage.setItem(e,JSON.stringify(l))}catch(l){console.warn("Failed to persist grid state:",l)}},[n,e]);const s={state:n,currentLayout:n.layouts.get(n.currentLayout)||null,setLayout:l=>{r({type:"SET_LAYOUT",payload:l})},createLayout:l=>{const d=`layout-${Date.now()}`,f={...l,id:d,createdAt:new Date,updatedAt:new Date};return r({type:"CREATE_LAYOUT",payload:f}),d},updateLayout:(l,d)=>{r({type:"UPDATE_LAYOUT",payload:{id:l,updates:d}})},deleteLayout:l=>{r({type:"DELETE_LAYOUT",payload:l})},duplicateLayout:(l,d)=>{const f=n.layouts.get(l);if(!f)return"";const p=`layout-${Date.now()}`,m={...f,id:p,name:d,createdAt:new Date,updatedAt:new Date,isDefault:!1};return r({type:"CREATE_LAYOUT",payload:m}),p},addItem:l=>{const d=`item-${Date.now()}`,f={...l,id:d};r({type:"ADD_ITEM",payload:f})},updateItem:(l,d)=>{r({type:"UPDATE_ITEM",payload:{id:l,updates:d}})},removeItem:l=>{r({type:"REMOVE_ITEM",payload:l})},moveItem:(l,d,f)=>{r({type:"UPDATE_ITEM",payload:{id:l,updates:{x:d,y:f}}})},resizeItem:(l,d,f)=>{r({type:"UPDATE_ITEM",payload:{id:l,updates:{w:d,h:f}}})},toggleEditMode:()=>{r({type:"TOGGLE_EDIT_MODE"})},togglePreviewMode:()=>{r({type:"TOGGLE_PREVIEW_MODE"})},saveLayout:l=>{console.log("Saving layout:",l)},loadLayout:l=>{console.log("Loading layout:",l)},exportLayout:l=>{const d=n.layouts.get(l);return d?JSON.stringify(d,null,2):""},importLayout:l=>{try{const d=JSON.parse(l),f=`imported-${Date.now()}`,p={...d,id:f,createdAt:new Date,updatedAt:new Date};return r({type:"CREATE_LAYOUT",payload:p}),f}catch(d){return console.error("Failed to import layout:",d),""}},resetLayout:l=>{const d=n.layouts.get(l);if(!d)return;const f={...d,items:[],updatedAt:new Date};r({type:"UPDATE_LAYOUT",payload:{id:l,updates:f}})},getAvailableLayouts:()=>Array.from(n.layouts.values()),getLayoutsByCategory:l=>Array.from(n.layouts.values()).filter(d=>d.category===l)};return y.jsx(hI.Provider,{value:s,children:i})}const gt=[];for(let i=0;i<256;++i)gt.push((i+256).toString(16).slice(1));function pI(i,e=0){return(gt[i[e+0]]+gt[i[e+1]]+gt[i[e+2]]+gt[i[e+3]]+"-"+gt[i[e+4]]+gt[i[e+5]]+"-"+gt[i[e+6]]+gt[i[e+7]]+"-"+gt[i[e+8]]+gt[i[e+9]]+"-"+gt[i[e+10]]+gt[i[e+11]]+gt[i[e+12]]+gt[i[e+13]]+gt[i[e+14]]+gt[i[e+15]]).toLowerCase()}let ch;const gI=new Uint8Array(16);function mI(){if(!ch){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ch=crypto.getRandomValues.bind(crypto)}return ch(gI)}const yI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hC={randomUUID:yI};function fC(i,e,n){if(hC.randomUUID&&!i)return hC.randomUUID();i=i||{};const r=i.random??i.rng?.()??mI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pI(r)}class Ut{static addTabFunction=null;static setAddTabFunction(e){this.addTabFunction=e}static addComponent(e,n){if(!this.addTabFunction)return{success:!1,message:"Tab system not initialized. Please wait for the application to load."};const r=["Portfolio","TradingApp","Analytics","Documentation"];if(!r.includes(e))return{success:!1,message:`Component '${e}' not available. Available: ${r.join(", ")}`};const s={name:n?.tabName||e,component:e,type:"static",icon:n?.icon||this.getDefaultIcon(e),closable:!0,gridLayoutEnabled:!1,props:n?.props||{}};try{return this.addTabFunction(s),{success:!0,message:`✅ ${e} tab added successfully!`}}catch(l){return{success:!1,message:`Failed to add ${e}: ${l instanceof Error?l.message:"Unknown error"}`}}}static getDefaultIcon(e){return{Portfolio:"briefcase",TradingApp:"trending-up",Analytics:"bar-chart-2",Documentation:"book-open"}[e]||"file"}static listAvailableComponents(){return["Portfolio","TradingApp","Analytics","Documentation"]}static getComponentsByCategory(e){return e==="portfolio"?["Portfolio"]:[]}static getComponentInfo(e){const n=e.toLowerCase().includes("portfolio")?{name:"Portfolio",category:"portfolio",description:"Portfolio management component",tags:["finance","portfolio"],icon:"briefcase"}:null;return n?{name:n.name,description:n.description,category:n.category,tags:n.tags,icon:n.icon}:null}}function bI(){typeof window<"u"&&(window.addTab=(i,e)=>{const n=Ut.addComponent(i,e);return console.log(n.success?"✅":"❌",n.message),n},window.listComponents=()=>{const i=Ut.listAvailableComponents();return console.log("📦 Available Components:"),i.forEach((e,n)=>{console.log(`  ${n+1}. ${e}`)}),i},window.componentInfo=i=>{const e=Ut.getComponentInfo(i);return e?(console.log(`📋 ${e.name}`),console.log(`   ${e.description}`),console.log(`   Category: ${e.category}`),console.log(`   Tags: ${e.tags?.join(", ")||"none"}`),console.log(`   Icon: ${e.icon}`)):console.log(`❌ Component not found: ${i}`),e},window.tabHelp=()=>{console.log("🚀 Tab Management Console Commands:"),console.log('  addTab("component name")           - Add a new tab'),console.log('  addTab("name", {tabName: "..."})   - Add with custom name'),console.log('  addTab("name", {icon: "🚀"})       - Add with custom icon'),console.log("  listComponents()                   - Show all available components"),console.log('  componentInfo("name")              - Get component details'),console.log("  tabHelp()                          - Show this help"),console.log(""),console.log("Examples:"),console.log('  addTab("Portfolio")'),console.log('  addTab("FRED Dashboard", {tabName: "Economics", icon: "📊"})'),console.log('  addTab("Knowledge Graph")')},console.log("🚀 Tab management console helpers loaded!"),console.log("Type tabHelp() for available commands"))}const CI={portfolio:()=>Ut.addComponent("Portfolio"),trading:()=>Ut.addComponent("Trading Terminal"),dashboard:()=>Ut.addComponent("Main Dashboard"),fred:()=>Ut.addComponent("FRED Economic Data"),knowledge:()=>Ut.addComponent("Knowledge Graph Explorer"),housing:()=>Ut.addComponent("Housing Market Monitor"),yield:()=>Ut.addComponent("G10 Yield Curve Animator"),volatility:()=>Ut.addComponent("FX Volatility Surface"),components:()=>Ut.addComponent("Component Library"),docs:()=>Ut.addComponent("Documentation")};typeof window<"u"&&(window.quickTab=CI);const lh="gzc-platform-view-memory",vc=[{id:"default",name:"Default View",filters:{timeRange:"1D",currencies:["EUR","USD"],aggregation:"5m"}},{id:"intraday",name:"Intraday Trading",filters:{timeRange:"1H",currencies:["EUR","USD","GBP","JPY"],aggregation:"1m"}},{id:"weekly",name:"Weekly Analysis",filters:{timeRange:"1W",currencies:["EUR","USD"],aggregation:"1h"}}],ST=()=>{const[i,e]=N.useState(()=>{try{const Y=localStorage.getItem(lh);if(Y){const B=JSON.parse(Y);return{layouts:B.layouts||{},filterPresets:B.filterPresets||vc,activeFilterPreset:B.activeFilterPreset,componentStates:B.componentStates||{},tabOrder:B.tabOrder,activeTab:B.activeTab,theme:B.theme}}}catch(Y){console.error("Failed to load view memory:",Y)}return{layouts:{},filterPresets:vc,componentStates:{}}});N.useEffect(()=>{try{localStorage.setItem(lh,JSON.stringify(i))}catch(Y){console.error("Failed to save view memory:",Y)}},[i]);const n=N.useCallback((Y,B)=>{e(J=>({...J,layouts:{...J.layouts,[Y]:B}}))},[]),r=N.useCallback(Y=>i.layouts[Y],[i.layouts]),s=N.useCallback(Y=>{e(B=>{const J=B.filterPresets.findIndex(ee=>ee.id===Y.id),W=[...B.filterPresets];return J>=0?W[J]=Y:W.push(Y),{...B,filterPresets:W}})},[]),l=N.useCallback(Y=>{e(B=>({...B,filterPresets:B.filterPresets.filter(J=>J.id!==Y),activeFilterPreset:B.activeFilterPreset===Y?void 0:B.activeFilterPreset}))},[]),d=N.useCallback(Y=>{e(B=>({...B,activeFilterPreset:Y}))},[]),f=N.useCallback((Y,B)=>{e(J=>({...J,componentStates:{...J.componentStates,[Y]:{...J.componentStates[Y],...B}}}))},[]),p=N.useCallback(Y=>i.componentStates[Y]||{},[i.componentStates]),m=N.useCallback(Y=>{e(B=>({...B,tabOrder:Y}))},[]),b=N.useCallback(Y=>{e(B=>({...B,activeTab:Y}))},[]),S=N.useCallback(Y=>{e(B=>({...B,theme:{...B.theme,...Y}}))},[]),w=N.useCallback(()=>{S({currentTheme:"gzc-dark",themeSystem:{availableThemes:["gzc-dark","analytics-dark","terminal-green","trading-ops","midnight-trading","quantum-analytics","professional","institutional","arctic","parchment","pearl"],gzcGreenSystem:{base:"#7A9E65",light:"#95BD78",dark:"#5B7C4B",opacityVariants:["E6","CC","99","66","33","1A"]},lightThemeDetection:["institutional","arctic","parchment","pearl"],componentStyling:{logoColorLogic:"Light themes: theme.text | Dark themes: #E0E0E0",tabBackgroundLogic:"Arctic: rgba(0,0,0,0.05) | Others: theme.primary + 20",arcticMonochromaticApproach:"Selected: rgba(0,0,0,0.05) | Hover: rgba(0,0,0,0.02)"},designPrinciples:{singleGreenPhilosophy:"Use GZC green base with opacity variations, not multiple greens",institutionalIdentity:"All themes maintain GZC green #7A9E65 for success states",monochromaticInteractions:"Prefer brightness/opacity over color changes for interactions"},fileLocations:{themeDefinitions:"/src/theme/themes.ts",themeContext:"/src/contexts/ThemeContext.tsx",themeSelector:"/src/components/ThemeSelector.tsx",styleGuide:"/STYLE_GUIDE.md"}}}),console.log("Theme system initialized in view memory with comprehensive style references")},[S]),U=N.useCallback(()=>{e(Y=>({...Y,layouts:{}}))},[]),D=N.useCallback(()=>{localStorage.removeItem(lh),e({layouts:{},filterPresets:vc,componentStates:{}})},[]),K=N.useCallback(()=>{const Y=JSON.stringify(i,null,2),B="data:application/json;charset=utf-8,"+encodeURIComponent(Y),J=`gzc-view-memory-${new Date().toISOString().split("T")[0]}.json`,W=document.createElement("a");W.setAttribute("href",B),W.setAttribute("download",J),W.click()},[i]),V=N.useCallback(Y=>{const B=new FileReader;B.onload=J=>{try{const W=JSON.parse(J.target?.result);e({layouts:W.layouts||{},filterPresets:W.filterPresets||vc,activeFilterPreset:W.activeFilterPreset,componentStates:W.componentStates||{},tabOrder:W.tabOrder,activeTab:W.activeTab,theme:W.theme})}catch(W){console.error("Failed to import view memory:",W)}},B.readAsText(Y)},[]);return{viewMemory:i,saveLayout:n,getLayout:r,filterPresets:i.filterPresets,activeFilterPreset:i.activeFilterPreset,saveFilterPreset:s,deleteFilterPreset:l,setActiveFilterPreset:d,saveComponentState:f,getComponentState:p,tabOrder:i.tabOrder,activeTab:i.activeTab,saveTabOrder:m,saveActiveTab:b,theme:i.theme,saveThemeSettings:S,initializeThemeSystem:w,resetLayouts:U,resetAll:D,exportMemory:K,importMemory:V}},He={base:"#7A9E65",light:"#95BD78",lighter:"#ABD38F",dark:"#5B7C4B",opacity40:"66"},yn={typography:{fontFamily:'Inter, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',h1:{fontSize:"18px",fontWeight:"600",lineHeight:"24px"},h2:{fontSize:"14px",fontWeight:"600",lineHeight:"20px"},h3:{fontSize:"12px",fontWeight:"500",lineHeight:"16px"},h4:{fontSize:"11px",fontWeight:"500",lineHeight:"14px"},body:{fontSize:"11px",fontWeight:"400",lineHeight:"16px"},bodySmall:{fontSize:"10px",fontWeight:"400",lineHeight:"14px"},bodyTiny:{fontSize:"9px",fontWeight:"400",lineHeight:"12px"},label:{fontSize:"9px",fontWeight:"500",lineHeight:"12px",textTransform:"uppercase",letterSpacing:"0.5px"}},spacing:{xs:"6px",sm:"8px",md:"12px",lg:"16px",xl:"20px",xxl:"24px"},borderRadius:{sm:"4px",md:"6px",lg:"8px",xl:"12px"},transitions:{fast:"all 0.15s ease",default:"all 0.2s ease",slow:"all 0.3s ease"}},xa={"gzc-dark":{name:"GZC Dark",primary:He.base,secondary:He.light,accent:He.lighter,background:"#1A1A1A",surface:"#2A2A2A",surfaceAlt:"#3A3A3A",text:"#f8f6f0",textSecondary:"#c8c0b0",textTertiary:"#9a9488",border:"#3a3632",borderLight:"#3a3632"+He.opacity40,success:He.light,danger:"#D69A82",warning:"#E6D690",info:"#8BB4DD",muted:"#9a9488",gradient:`linear-gradient(135deg, ${He.base} 0%, ${He.light} 100%)`,headerColor:He.base,shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},...yn},"analytics-dark":{name:"Analytics Dark",primary:"#7A9E65",secondary:"#95BD78",accent:"#ABD38F",background:"#181A1B",surface:"#23272E",surfaceAlt:"#2F3136",text:"#FFFFFF",textSecondary:"#B9BFC7",textTertiary:"#8E9297",border:"#3A3A3A",borderLight:"#3A3A3A80",success:"#C6F4D6",danger:"#F87171",warning:"#FCD34D",info:"#60A5FA",muted:"#6B7280",gradient:"linear-gradient(135deg, #7A9E65 0%, #95BD78 100%)",headerColor:"#7A9E65",shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.3)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.4)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.5)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.6)"},...yn},"terminal-green":{name:"Terminal Green",primary:"#00FF41",secondary:"#95BD78",accent:"#ABD38F",background:"#0A0A0A",surface:"#141414",surfaceAlt:"#1F1F1F",text:"#E0E0E0",textSecondary:"#B0B0B0",textTertiary:"#808080",border:"#00FF4133",borderLight:"#00FF411A",success:"#00FF41",danger:"#FF0033",warning:"#FFB800",info:"#00B8FF",muted:"#666666",gradient:"linear-gradient(135deg, #00FF41 0%, #95BD78 100%)",headerColor:"#00FF41",shadows:{sm:"0 1px 2px 0 rgba(0, 255, 65, 0.1)",md:"0 4px 6px -1px rgba(0, 255, 65, 0.15)",lg:"0 10px 15px -3px rgba(0, 255, 65, 0.2)",xl:"0 20px 25px -5px rgba(0, 255, 65, 0.25)"},...yn},"trading-ops":{name:"Trading Operations",primary:"#95BD78",secondary:"#95BD78CC",accent:"#95BD7866",background:"#0a0a0a",surface:"#1a1a1a",surfaceAlt:"#2a2a2a",text:"#ffffff",textSecondary:"#b0b0b0",textTertiary:"#808080",border:"#3a3a3a",borderLight:"#3a3a3a80",success:"#ABD38F",danger:"#DD8B8B",warning:"#95BD7866",info:"#0288d1",muted:"#666666",gradient:"linear-gradient(135deg, #95BD78CC 0%, #95BD7866 100%)",headerColor:"#8FB377",shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},...yn},professional:{name:"Professional",primary:"#95BD78",secondary:"#95BD78CC",accent:"#95BD7866",background:"#0a1421",surface:"#142236",surfaceAlt:"#1c3048",text:"#ffffff",textSecondary:"#a8c5d8",textTertiary:"#7a97b0",border:"#2a4058",borderLight:"#2a405880",success:"#ABD38F",danger:"#DD8B8B",warning:"#95BD7866",info:"#4db8e8",muted:"#5a7a90",gradient:"linear-gradient(135deg, #95BD78CC 0%, #95BD7866 100%)",headerColor:"#4db8e8",shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},...yn},"midnight-trading":{name:"Midnight Trading",primary:"#8FB377",secondary:"#7A9E65",accent:"#C6F4D6",background:"#0D0D0D",surface:"#1A1A1A",surfaceAlt:"#262626",text:"#E5E5E5",textSecondary:"#A3A3A3",textTertiary:"#737373",border:"#404040",borderLight:"#40404080",success:"#4ADE80",danger:"#EF4444",warning:"#F59E0B",info:"#3B82F6",muted:"#525252",gradient:"linear-gradient(135deg, #8FB377 0%, #7A9E65 100%)",headerColor:"#8FB377",shadows:{sm:"0 1px 3px 0 rgba(0, 0, 0, 0.5)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.6)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.7)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.8)"},...yn},"quantum-analytics":{name:"Quantum Analytics",primary:"#95BD78",secondary:"#7A9E65",accent:"#ABD38F",background:"#12141A",surface:"#1C1E26",surfaceAlt:"#262833",text:"#F0F0F0",textSecondary:"#B8BCC8",textTertiary:"#8B91A1",border:"#2E3141",borderLight:"#2E314180",success:"#95BD78",danger:"#FF6B6B",warning:"#FFD93D",info:"#4ECDC4",muted:"#5C6370",gradient:"linear-gradient(135deg, #95BD78 0%, #4ECDC4 50%, #7A9E65 100%)",headerColor:"#95BD78",shadows:{sm:"0 2px 4px 0 rgba(0, 0, 0, 0.3)",md:"0 6px 8px -1px rgba(0, 0, 0, 0.4)",lg:"0 12px 16px -3px rgba(0, 0, 0, 0.5)",xl:"0 24px 32px -5px rgba(0, 0, 0, 0.6)"},...yn},institutional:{name:"GZC Light",primary:He.dark,secondary:He.base,accent:He.light,background:"#FAFAFA",surface:"#FFFFFF",surfaceAlt:"#F5F5F5",text:"#1F2937",textSecondary:"#4B5563",textTertiary:"#6B7280",border:"#E5E7EB",borderLight:"#F3F4F6",success:He.dark,danger:"#DC2626",warning:"#D97706",info:"#2563EB",muted:"#9CA3AF",gradient:`linear-gradient(135deg, ${He.dark} 0%, ${He.base} 100%)`,headerColor:He.dark,shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.08)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.10)"},...yn},arctic:{name:"Arctic",primary:He.dark,secondary:He.base,accent:He.light,background:"#F0F4F8",surface:"#FFFFFF",surfaceAlt:"#E2E8F0",text:"#1A202C",textSecondary:"#4A5568",textTertiary:"#718096",border:"#CBD5E0",borderLight:"#E2E8F0",success:He.base,danger:"#F56565",warning:"#ED8936",info:"#4299E1",muted:"#A0AEC0",gradient:`linear-gradient(135deg, ${He.dark} 0%, ${He.base} 100%)`,headerColor:He.dark,shadows:{sm:"0 1px 3px rgba(0, 0, 0, 0.12)",md:"0 4px 6px rgba(0, 0, 0, 0.15)",lg:"0 10px 20px rgba(0, 0, 0, 0.15)",xl:"0 25px 50px rgba(0, 0, 0, 0.15)"},...yn},parchment:{name:"Parchment",primary:"#6B7280",secondary:"#8B95A6",accent:"#A5AFBF",background:"#FAF9F7",surface:"#FFFFFF",surfaceAlt:"#F5F4F2",text:"#2D3436",textSecondary:"#4A5255",textTertiary:"#636E72",border:"#DDD9D5",borderLight:"#EDEBE8",success:He.base,danger:"#E17055",warning:"#FDCB6E",info:"#74B9FF",muted:"#95A3A6",gradient:"linear-gradient(135deg, #6B7280 0%, #A5AFBF 100%)",headerColor:"#6B7280",shadows:{sm:"0 1px 2px rgba(45, 52, 54, 0.06)",md:"0 3px 6px rgba(45, 52, 54, 0.10)",lg:"0 8px 16px rgba(45, 52, 54, 0.12)",xl:"0 16px 32px rgba(45, 52, 54, 0.15)"},...yn},pearl:{name:"Pearl",primary:"#4A6FA5",secondary:"#6B8EBF",accent:"#8BA6D0",background:"#FAFBFC",surface:"#FFFFFF",surfaceAlt:"#F0F3F7",text:"#1E3A5F",textSecondary:"#3D5875",textTertiary:"#5C7089",border:"#D6E0E9",borderLight:"#E7EEF4",success:He.base,danger:"#E57373",warning:"#FFB74D",info:"#64B5F6",muted:"#90A4AE",gradient:"linear-gradient(135deg, #4A6FA5 0%, #8BA6D0 100%)",headerColor:"#4A6FA5",shadows:{sm:"0 2px 4px rgba(74, 111, 165, 0.08)",md:"0 4px 8px rgba(74, 111, 165, 0.12)",lg:"0 12px 24px rgba(74, 111, 165, 0.16)",xl:"0 24px 48px rgba(74, 111, 165, 0.20)"},...yn}},vT=N.createContext(void 0),mt=()=>{const i=N.useContext(vT);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i},SI=({children:i,defaultTheme:e="gzc-dark"})=>{const{initializeThemeSystem:n,saveThemeSettings:r}=ST(),[s,l]=N.useState(()=>{try{const p=localStorage.getItem("gzc-intel-theme");return p&&xa[p]?p:e}catch(p){console.warn("Failed to load persisted theme state:",p);try{localStorage.removeItem("gzc-intel-theme")}catch{}return e}}),d=p=>{if(xa[p]){l(p),localStorage.setItem("gzc-intel-theme",p),r({currentTheme:p});const m=document.documentElement,b=xa[p];m.style.setProperty("--theme-primary",b.primary),m.style.setProperty("--theme-secondary",b.secondary),m.style.setProperty("--theme-accent",b.accent),m.style.setProperty("--theme-background",b.background),m.style.setProperty("--theme-surface",b.surface),m.style.setProperty("--theme-surface-alt",b.surfaceAlt),m.style.setProperty("--theme-text",b.text),m.style.setProperty("--theme-text-secondary",b.textSecondary),m.style.setProperty("--theme-text-tertiary",b.textTertiary),m.style.setProperty("--theme-border",b.border),m.style.setProperty("--theme-border-light",b.borderLight),m.style.setProperty("--theme-success",b.success),m.style.setProperty("--theme-danger",b.danger),m.style.setProperty("--theme-warning",b.warning),m.style.setProperty("--theme-info",b.info),m.setAttribute("data-theme",p)}};N.useEffect(()=>{d(s)},[s]),N.useEffect(()=>{n()},[n]);const f={currentTheme:xa[s],themeName:s,setTheme:d,availableThemes:Object.keys(xa)};return y.jsx(vT.Provider,{value:f,children:i})},vI=({isOpen:i,onClose:e,onConfirm:n,defaultName:r="New Tab 1"})=>{const{currentTheme:s}=mt(),[l,d]=N.useState(r);N.useEffect(()=>{i&&d(r)},[i,r]);const f=m=>{m.preventDefault(),l.trim()&&(n(l.trim()),e())},p=m=>{m.key==="Escape"&&e()};return y.jsx(Ho,{children:i&&y.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:e,onKeyDown:p,children:y.jsx(Ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.15},onClick:m=>m.stopPropagation(),style:{backgroundColor:s.surface,borderRadius:"12px",padding:"24px",minWidth:"400px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)"},children:y.jsxs("form",{onSubmit:f,children:[y.jsxs("div",{style:{marginBottom:"20px"},children:[y.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:s.textSecondary},children:"Enter tab name:"}),y.jsx("input",{type:"text",value:l,onChange:m=>d(m.target.value),autoFocus:!0,style:{width:"100%",padding:"12px 16px",fontSize:"14px",backgroundColor:s.background,border:`2px solid ${s.primary}`,borderRadius:"8px",color:s.text,outline:"none"}})]}),y.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[y.jsx("button",{type:"button",onClick:e,style:{padding:"10px 24px",fontSize:"14px",fontWeight:"500",backgroundColor:`${s.textSecondary}20`,border:"none",borderRadius:"24px",color:s.text,cursor:"pointer"},children:"Cancel"}),y.jsx("button",{type:"submit",style:{padding:"10px 24px",fontSize:"14px",fontWeight:"500",backgroundColor:s.primary,border:"none",borderRadius:"24px",color:"#ffffff",cursor:"pointer"},children:"OK"})]})]})})})})};class ui{static instance;saveDebounceTimer=null;static getInstance(){return ui.instance||(ui.instance=new ui),ui.instance}async saveState(){try{const e={version:"1.0.0",timestamp:new Date().toISOString(),tabs:this.getTabState(),components:this.getComponentState(),viewMemory:this.getViewMemory(),userSettings:this.getUserSettings()},n=JSON.stringify(e);localStorage.setItem("gzc-intel-complete-state",n),localStorage.setItem("gzc-intel-state-backup",n),localStorage.setItem("gzc-intel-state-timestamp",e.timestamp),console.log("State saved successfully",{size:n.length,timestamp:e.timestamp})}catch(e){console.error("Failed to save state:",e)}}async loadState(){try{const e=localStorage.getItem("gzc-intel-complete-state");if(!e)return null;const n=JSON.parse(e);return n.version!=="1.0.0"&&console.warn("State version mismatch, may need migration"),n}catch(e){return console.error("Failed to load state:",e),this.loadBackupState()}}async loadBackupState(){try{const e=localStorage.getItem("gzc-intel-state-backup");return e?JSON.parse(e):null}catch(e){return console.error("Failed to load backup state:",e),null}}getTabState(){const e=JSON.parse(localStorage.getItem("gzc-intel-layouts")||"[]"),n=localStorage.getItem("gzc-intel-active-layout")||"default",r=sessionStorage.getItem("gzc-intel-active-tab")||"";return{layouts:e,activeLayoutId:n,activeTabId:r}}getComponentState(){const e={};for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r?.includes("dynamic-canvas-")||r?.includes("static-canvas-")){const s=r.split("-").pop();if(s){const l=localStorage.getItem(r);if(l)try{e[s]=JSON.parse(l)}catch{console.error(`Failed to parse component data for ${s}`)}}}}return e}getViewMemory(){const e=localStorage.getItem("gzc-platform-view-memory");if(!e)return{};try{return JSON.parse(e)}catch{return{}}}getUserSettings(){const e={},n=["gzc-platform-theme","gzc-platform-user-settings","gzc-platform-widget-settings"];for(const r of n){const s=localStorage.getItem(r);if(s)try{e[r]=JSON.parse(s)}catch{e[r]=s}}return e}async restoreState(e){try{e.tabs.layouts&&localStorage.setItem("gzc-intel-layouts",JSON.stringify(e.tabs.layouts)),e.tabs.activeLayoutId&&localStorage.setItem("gzc-intel-active-layout",e.tabs.activeLayoutId);for(const[n,r]of Object.entries(e.components))r.layouts?localStorage.setItem(`dynamic-canvas-${n}`,JSON.stringify(r)):r.slotLayout&&localStorage.setItem(`static-canvas-${n}`,JSON.stringify(r));e.viewMemory&&localStorage.setItem("gzc-platform-view-memory",JSON.stringify(e.viewMemory));for(const[n,r]of Object.entries(e.userSettings))localStorage.setItem(n,typeof r=="string"?r:JSON.stringify(r));console.log("State restored successfully")}catch(n){console.error("Failed to restore state:",n)}}async exportState(){const e=await this.loadState();if(!e)return;const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`gzc-intel-state-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(r)}async importState(e){try{const n=await e.text(),r=JSON.parse(n);await this.restoreState(r),window.location.reload()}catch(n){throw console.error("Failed to import state:",n),n}}autoSave(){this.saveDebounceTimer&&clearTimeout(this.saveDebounceTimer),this.saveDebounceTimer=setTimeout(()=>{this.saveState()},1e3)}clearState(){const e=["gzc-intel-complete-state","gzc-intel-state-backup","gzc-intel-state-timestamp","gzc-intel-layouts","gzc-intel-active-layout","gzc-platform-view-memory"];for(const n of e)localStorage.removeItem(n);for(let n=localStorage.length-1;n>=0;n--){const r=localStorage.key(n);(r?.includes("canvas-")||r?.includes("component-"))&&localStorage.removeItem(r)}}getStateSize(){let e=0;for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r){const s=localStorage.getItem(r);s&&(e+=r.length+s.length)}}return e}}const tl=ui.getInstance();typeof window<"u"&&(window.addEventListener("beforeunload",()=>{tl.saveState()}),setInterval(()=>{tl.autoSave()},3e4));const TT=N.createContext(void 0);function TI({children:i}){const{instance:e,accounts:n}=Sl(),r=tp(),[s,l]=N.useState(null),d=m=>({id:m.localAccountId||m.homeAccountId,email:m.username,name:m.name||m.username,tenantId:m.tenantId,accountId:m.localAccountId});N.useEffect(()=>{if(r&&n.length>0){const m=n[0],b=d(m);l(b);try{localStorage.setItem("gzc-intel-user",JSON.stringify(b))}catch(S){if(S instanceof Error&&S.name==="QuotaExceededError"){console.error("localStorage quota exceeded. Clearing old data...");const w=["msal","gzc-intel-user"],U=Object.keys(localStorage);for(const D of U)w.some(K=>D.includes(K))||(D.includes("tabLayouts")||D.includes("canvas-state")||D.includes("-old")||D.includes("backup"))&&localStorage.removeItem(D);try{localStorage.setItem("gzc-intel-user",JSON.stringify(b))}catch(D){console.error("Still cannot save user after cleanup:",D),sessionStorage.setItem("gzc-intel-user",JSON.stringify(b))}}else console.error("Error saving user to localStorage:",S)}}else l(null),localStorage.removeItem("gzc-intel-user")},[r,n]),N.useEffect(()=>{if(!r){const m=localStorage.getItem("gzc-intel-user");if(m)try{l(JSON.parse(m))}catch(b){console.error("Failed to parse stored user:",b),localStorage.removeItem("gzc-intel-user")}}},[r]);const f=async()=>{try{await e.loginPopup({scopes:["api://a873f2d7-2ab9-4d59-a54c-90859226bf2e/.default"]})}catch(m){throw console.error("Login failed:",m),m}},p=async()=>{try{await e.logoutPopup(),l(null),localStorage.removeItem("gzc-intel-user")}catch(m){throw console.error("Logout failed:",m),m}};return y.jsx(TT.Provider,{value:{user:s,isAuthenticated:r,login:f,logout:p,msalAccount:n.length>0?n[0]:null},children:i})}function ET(){const i=N.useContext(TT);if(!i)throw new Error("useUser must be used within UserProvider");return i}const ai="https://portfolio-backend.agreeablepond-1a74a92d.eastus.azurecontainerapps.io";class EI{msalInstance;constructor(){this.msalInstance=new Cl(Nv)}async getAuthHeaders(){try{const e=this.msalInstance.getAllAccounts();if(e.length>0)return{"Content-Type":"application/json",Authorization:`Bearer ${(await this.msalInstance.acquireTokenSilent({...dr,account:e[0]})).accessToken}`}}catch(e){console.warn("Failed to acquire MSAL token:",e);try{return{"Content-Type":"application/json",Authorization:`Bearer ${(await this.msalInstance.acquireTokenPopup(dr)).accessToken}`}}catch(n){console.error("Interactive auth failed:",n)}}return{"Content-Type":"application/json"}}async getUserPreferences(e){try{const n=await fetch(`${ai}/api/preferences/user`,{headers:await this.getAuthHeaders()});return n.ok?await n.json():(console.warn("Failed to fetch user preferences:",n.status),null)}catch(n){return console.error("Error fetching user preferences:",n),null}}async saveUserPreferences(e,n){try{return(await fetch(`${ai}/api/preferences/user`,{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify(n)})).ok}catch(r){return console.error("Error saving user preferences:",r),!1}}async getUserTabs(e){try{const n=await fetch(`${ai}/api/preferences/tabs`,{headers:await this.getAuthHeaders()});return n.ok?(await n.json()).tabs||[]:(console.warn("Failed to fetch user tabs:",n.status),[])}catch(n){return console.error("Error fetching user tabs:",n),[]}}async saveTab(e,n){try{const r=await fetch(`${ai}/api/preferences/tabs`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(n)});return r.ok?await r.json():(console.warn("Failed to save tab:",r.status),null)}catch(r){return console.error("Error saving tab:",r),null}}async deleteTab(e,n){try{return(await fetch(`${ai}/api/preferences/tabs/${n}`,{method:"DELETE",headers:await this.getAuthHeaders()})).ok}catch(r){return console.error("Error deleting tab:",r),!1}}async saveComponentLayouts(e,n,r){try{return(await fetch(`${ai}/api/preferences/layouts/bulk`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({tab_id:n,layouts:r})})).ok}catch(s){return console.error("Error saving component layouts:",s),!1}}useLocalStorageFallback(){return!1}}const si=new EI,AI=[{id:"analytics",name:"Analytics",component:"Analytics",type:"dynamic",icon:"bar-chart-2",closable:!0,gridLayoutEnabled:!0,components:[],editMode:!1,memoryStrategy:"hybrid"},{id:"documentation",name:"Documentation",component:"Documentation",type:"static",icon:"book-open",closable:!1,gridLayoutEnabled:!1,memoryStrategy:"local"}],wt={id:"default",name:"Default Layout",tabs:AI,isDefault:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},AT=N.createContext(void 0);function Ya(){const i=N.useContext(AT);if(!i)throw new Error("useTabLayout must be used within TabLayoutProvider");return i}function wI({children:i}){const{user:e}=ET(),n=e?.id||"default-user",r=!!e?.id,s=E=>`${E}-${n}`,[l,d]=N.useState([wt]),[f,p]=N.useState(wt),[m,b]=N.useState("analytics"),[S,w]=N.useState(!1),{saveLayout:U}=ST();N.useEffect(()=>{if(!r){console.log("TabLayoutManager: User not authenticated, using default layout"),p(wt),d([wt]),b("analytics");return}console.log(`TabLayoutManager: Loading layouts for user ${n}`),(async()=>{const L=localStorage.getItem(s("gzc-intel-current-layout"));if(L)try{const G=JSON.parse(L);console.log("Loaded layout from localStorage:",G),p(G),d([wt,G]);const j=G.tabs?.[0]?.id||"analytics";b(j);return}catch(G){console.error("Failed to parse localStorage:",G)}try{const G=await si.getUserTabs(n);if(console.log(`TabLayoutManager: Loaded ${G.length} tabs from database`),G.length>0){const j=G.map(Q=>{let Se=[];if(Q.component_ids)try{Se=typeof Q.component_ids=="string"?JSON.parse(Q.component_ids):Q.component_ids}catch(et){console.error("Failed to parse component_ids:",et),Se=[]}return{id:Q.tab_id,name:Q.title,component:"UserTabContainer",type:Q.tab_type,icon:Q.icon,closable:!0,props:Q.custom_settings||{},gridLayoutEnabled:Q.tab_type==="dynamic",components:Se,editMode:!1,memoryStrategy:"hybrid"}}),X={id:`user-${n}`,name:"My Layout",tabs:j,isDefault:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};p(X),d([wt,X]);const re=j.find(Q=>Q.id===sessionStorage.getItem(s("gzc-intel-active-tab")));b(re?.id||j[0]?.id||"analytics")}else{const j=localStorage.getItem(s("gzc-intel-current-layout"));if(j)try{const X=JSON.parse(j);p(X),d([wt,X])}catch{console.log("Using default layout"),p(wt),d([wt])}else p(wt),d([wt]);b("analytics")}}catch(G){console.error("Failed to load user data from database:",G);const j=localStorage.getItem(s("gzc-intel-current-layout"));if(j)try{const X=JSON.parse(j);p(X)}catch{p(wt)}else p(wt);d([wt]),b("analytics")}})()},[n,r]),N.useEffect(()=>{const E=l.filter(L=>!L.isDefault);localStorage.setItem(s("gzc-intel-layouts"),JSON.stringify(E)),tl.autoSave()},[l,n]),N.useEffect(()=>{localStorage.setItem(s("gzc-intel-active-layout"),f.id),localStorage.setItem(s("gzc-intel-current-layout"),JSON.stringify(f)),tl.autoSave()},[f,n]),N.useEffect(()=>{m&&sessionStorage.setItem(s("gzc-intel-active-tab"),m)},[m,n]);const D=l.find(E=>E.isDefault)||wt,K=l.filter(E=>!E.isDefault),V=E=>{const L={...E,id:fC()},G={...f,tabs:[...f.tabs,L],updatedAt:new Date().toISOString()};return p(G),f.isDefault?d(l.map(j=>j.id==="default"?G:j)):d(l.map(j=>j.id===f.id?G:j)),r&&(async()=>{try{await si.saveTab(n,{tab_id:L.id,title:L.name,icon:L.icon,tab_type:L.type,components:L.components||[],custom_settings:L.props}),console.log("New tab saved to database")}catch(X){console.error("Failed to save new tab to database:",X),localStorage.setItem(s("gzc-intel-current-layout"),JSON.stringify(G))}})(),localStorage.setItem(s("gzc-intel-current-layout"),JSON.stringify(G)),b(L.id),L};N.useEffect(()=>{Ut.setAddTabFunction(V),bI()},[V]);const Y=E=>{const L=f.tabs.find(X=>X.id===E);if(!L||L.closable===!1||f.tabs.length===1)return;const G=f.tabs.filter(X=>X.id!==E),j={...f,tabs:G,updatedAt:new Date().toISOString()};p(j),r&&(async()=>{try{await si.deleteTab(n,E),console.log("Tab deleted from database")}catch(re){console.error("Failed to delete tab from database:",re)}})(),f.isDefault||d(l.map(X=>X.id===f.id?j:X)),m===E&&G.length>0&&b(G[0].id)},B=(E,L)=>{console.log("UPDATE TAB CALLED:",{tabId:E,updates:L});const G=f.tabs.find(Q=>Q.id===E),j={...L,editMode:L.editMode!==void 0?L.editMode:G?.editMode},X={...f,tabs:f.tabs.map(Q=>Q.id===E?{...Q,...j}:Q),updatedAt:new Date().toISOString()};console.log("UPDATED LAYOUT:",X),console.log("UPDATED TAB COMPONENTS:",X.tabs.find(Q=>Q.id===E)?.components?.length),p(X),console.log("TabLayoutManager: setCurrentLayout called with",X.tabs.find(Q=>Q.id===E)?.components?.length,"components"),(async()=>{try{const Q=X.tabs.find(Se=>Se.id===E);Q&&(await si.saveTab(n,{tab_id:Q.id,title:Q.name,icon:Q.icon,tab_type:Q.type,components:Q.components,editMode:Q.editMode,custom_settings:Q.props}),console.log("Tab saved to database"))}catch(Q){console.error("Failed to save tab to database:",Q),localStorage.setItem(s("gzc-intel-current-layout"),JSON.stringify(X))}})(),localStorage.setItem(s("gzc-intel-current-layout"),JSON.stringify(X)),f.isDefault||d(l.map(Q=>Q.id===f.id?X:Q))},J=E=>{const L={id:fC(),name:E,tabs:f.tabs,isDefault:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};d([...l,L]),p(L)},W=E=>{const L=l.find(G=>G.id===E);L&&(p(L),L.tabs.length>0&&b(L.tabs[0].id))},ee=E=>{const L=l.find(G=>G.id===E);!L||L.isDefault||(d(l.filter(G=>G.id!==E)),f.id===E&&(p(D),b(D.tabs[0]?.id||"")))},Ee=()=>{p(D),b(D.tabs[0]?.id||"")},xe=E=>{const L={...f,tabs:E,updatedAt:new Date().toISOString()};p(L),f.isDefault||d(l.map(G=>G.id===f.id?L:G))},Ue=(E,L)=>{const G={...f,tabs:f.tabs.map(j=>j.id===E?{...j,gridLayout:L}:j),updatedAt:new Date().toISOString()};p(G),f.isDefault||d(l.map(j=>j.id===f.id?G:j))},Et=(E,L)=>{const G={...f,tabs:f.tabs.map(j=>j.id===E?{...j,gridLayoutEnabled:L}:j),updatedAt:new Date().toISOString()};p(G),f.isDefault||d(l.map(j=>j.id===f.id?G:j))},_n=()=>{w(!0)},Wt=E=>{if(f.tabs.find(j=>j.name.toLowerCase()===E.toLowerCase())){alert(`Tab name "${E}" already exists. Please choose a different name.`);return}V({name:E,component:"UserTabContainer",type:"dynamic",icon:"grid",closable:!0,gridLayoutEnabled:!0,components:[],editMode:!1,memoryStrategy:"hybrid"}),w(!1)},_={currentLayout:f,activeTabId:m,layouts:l,defaultLayout:D,userLayouts:K,setActiveTab:b,addTab:V,removeTab:Y,updateTab:B,reorderTabs:xe,createTabWithPrompt:_n,showTabModal:S,setShowTabModal:w,saveCurrentLayout:J,loadLayout:W,deleteLayout:ee,resetToDefault:Ee,updateTabGridLayout:Ue,toggleTabGridLayout:Et,addComponentToTab:(E,L)=>{const G=f.tabs.find(re=>re.id===E);if(!G||G.type!=="dynamic")return;const j={...f,tabs:f.tabs.map(re=>re.id===E?{...re,components:[...re.components||[],L]}:re),updatedAt:new Date().toISOString()};p(j),(async()=>{try{const re=j.tabs.find(Q=>Q.id===E);re&&(await si.saveComponentLayouts(n,E,re.components||[]),console.log("Component added and saved to database"))}catch(re){console.error("Failed to save component to database:",re)}})(),(G.memoryStrategy==="hybrid"||G.memoryStrategy==="redis")&&U(`tab-${E}`,j.tabs.find(re=>re.id===E)?.components),f.isDefault||d(l.map(re=>re.id===f.id?j:re))},removeComponentFromTab:(E,L)=>{const G=f.tabs.find(X=>X.id===E);if(!G||G.type!=="dynamic")return;const j={...f,tabs:f.tabs.map(X=>X.id===E?{...X,components:(X.components||[]).filter(re=>re.id!==L)}:X),updatedAt:new Date().toISOString()};p(j),(G.memoryStrategy==="hybrid"||G.memoryStrategy==="redis")&&U(`tab-${E}`,j.tabs.find(X=>X.id===E)?.components),f.isDefault||d(l.map(X=>X.id===f.id?j:X))},updateComponentInTab:(E,L,G)=>{const j=f.tabs.find(Q=>Q.id===E);if(!j||j.type!=="dynamic")return;const X={...f,tabs:f.tabs.map(Q=>Q.id===E?{...Q,components:(Q.components||[]).map(Se=>Se.id===L?{...Se,...G}:Se)}:Q),updatedAt:new Date().toISOString()};p(X),(async()=>{try{const Q=X.tabs.find(Se=>Se.id===E);Q&&(await si.saveComponentLayouts(n,E,Q.components||[]),console.log("Component updated and saved to database"))}catch(Q){console.error("Failed to update component in database:",Q)}})(),(j.memoryStrategy==="hybrid"||j.memoryStrategy==="redis")&&U(`tab-${E}`,X.tabs.find(Q=>Q.id===E)?.components),f.isDefault||d(l.map(Q=>Q.id===f.id?X:Q))},toggleTabEditMode:E=>{const L=f.tabs.find(j=>j.id===E);if(!L||!L.closable)return;const G={...f,tabs:f.tabs.map(j=>j.id===E?{...j,editMode:!j.editMode}:j),updatedAt:new Date().toISOString()};p(G),f.isDefault||d(l.map(j=>j.id===f.id?G:j))}};return y.jsxs(AT.Provider,{value:_,children:[i,y.jsx(vI,{isOpen:S,onClose:()=>w(!1),onConfirm:Wt,defaultName:`New Tab ${f.tabs.filter(E=>E.name.startsWith("New Tab")).length+1}`})]})}function Tt({name:i,size:e=16,className:n="",color:r="currentColor",style:s}){const[l,d]=N.useState("");return N.useEffect(()=>{fetch(`/feather/${i}.svg`).then(f=>f.ok?f.text():(console.warn(`Feather icon not found: ${i}`),"")).then(f=>{const p=f.replace(/width="[^"]*"/,`width="${e}"`).replace(/height="[^"]*"/,`height="${e}"`).replace(/stroke="[^"]*"/g,`stroke="${r}"`);d(p)}).catch(f=>{console.error(`Error loading Feather icon: ${i}`,f)})},[i,e,r]),l?y.jsx("div",{className:`inline-flex items-center justify-center ${n}`,style:s,dangerouslySetInnerHTML:{__html:l}}):y.jsx("div",{className:`inline-block ${n}`,style:{width:e,height:e}})}const uh=[{value:"gzc-dark",label:"GZC Dark",description:"Professional dark theme"},{value:"analytics-dark",label:"Analytics Dark",description:"Data visualization optimized"},{value:"terminal-green",label:"Terminal Green",description:"Bloomberg inspired"},{value:"trading-ops",label:"Trading Operations",description:"High contrast trading"},{value:"midnight-trading",label:"Midnight Trading",description:"Ultra dark for long sessions"},{value:"quantum-analytics",label:"Quantum Analytics",description:"Modern gradient theme"},{value:"professional",label:"Professional",description:"Sea blue risk theme"},{value:"institutional",label:"GZC Light",description:"Clean light theme"},{value:"arctic",label:"Arctic",description:"Cool blue-grey theme"},{value:"parchment",label:"Parchment",description:"Warm sepia theme"},{value:"pearl",label:"Pearl",description:"Soft purple theme"}],_I=()=>{const[i,e]=N.useState(!1),n=N.useRef(null),{currentTheme:r,themeName:s,setTheme:l}=mt(),d=r,f=uh.find(p=>p.value===s)||uh[0];return N.useEffect(()=>{const p=m=>{n.current&&!n.current.contains(m.target)&&e(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),y.jsxs("div",{ref:n,style:{position:"relative"},children:[y.jsxs(Ke.button,{whileTap:{scale:.98},onClick:()=>e(!i),style:{display:"flex",alignItems:"center",justifyContent:"space-between",minWidth:"auto",padding:"4px 8px",background:"transparent",border:"none",borderRadius:"4px",color:d.textSecondary,fontSize:"11px",fontWeight:400,cursor:"pointer",outline:"none",transition:"all 0.15s ease",position:"relative",overflow:"hidden"},onMouseEnter:p=>{p.currentTarget.style.color=d.text,p.currentTarget.style.background="rgba(255, 255, 255, 0.05)"},onMouseLeave:p=>{p.currentTarget.style.color=d.textSecondary,p.currentTarget.style.background="transparent"},children:[y.jsx("span",{style:{marginRight:"4px"},children:f.label}),y.jsx(Ke.svg,{animate:{rotate:i?180:0},transition:{duration:.15},width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",children:y.jsx("path",{d:"M7 10l5 5 5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),y.jsx(Ho,{children:i&&y.jsx(Ke.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.1},style:{position:"absolute",top:"calc(100% + 4px)",right:0,minWidth:"140px",background:d.surface,border:`1px solid ${d.border}`,borderRadius:"6px",overflow:"hidden",boxShadow:d.name==="Institutional"?"0 2px 8px rgba(0, 0, 0, 0.08)":"0 4px 12px rgba(0, 0, 0, 0.3)",zIndex:1e3},children:uh.map((p,m)=>y.jsxs("div",{onClick:()=>{l(p.value),e(!1)},style:{padding:"6px 12px",cursor:"pointer",fontSize:"11px",color:f.value===p.value?d.primary:d.text,background:f.value===p.value?d.name==="Institutional"?"rgba(122, 158, 101, 0.08)":"rgba(149, 189, 120, 0.08)":"transparent",transition:"all 0.15s ease",display:"flex",alignItems:"center",justifyContent:"space-between"},onMouseEnter:b=>{f.value!==p.value&&(b.currentTarget.style.background=d.name==="Institutional"?"rgba(0, 0, 0, 0.03)":"rgba(255, 255, 255, 0.03)")},onMouseLeave:b=>{f.value!==p.value&&(b.currentTarget.style.background="transparent")},children:[y.jsx("span",{children:p.label}),f.value===p.value&&y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",children:y.jsx("path",{d:"M20 6L9 17l-5-5",stroke:d.primary,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]},p.value))})})]})},xI=({color:i="currentColor",height:e=36})=>{const n=e/60.37*263.82;return y.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 263.82 60.37",height:e,width:n,style:{color:i},children:[y.jsx("defs",{children:y.jsx("style",{children:`
            .cls-1 {
              fill: #add586;
            }
            .cls-1, .cls-2, .cls-3 {
              stroke-width: 0px;
            }
            .cls-2 {
              fill: currentColor;
              opacity: 0.7;
            }
            .cls-3 {
              fill: currentColor;
            }
          `})}),y.jsxs("g",{id:"Layer_6","data-name":"Layer 6",children:[y.jsx("rect",{className:"cls-2",x:"129.65",y:"14.97",width:"1.2",height:"12.1"}),y.jsx("polygon",{className:"cls-2",points:"136.25 27.17 136.25 14.97 136.45 14.97 144.55 24.27 144.55 14.97 145.75 14.97 145.75 27.17 145.45 27.17 137.45 17.97 137.45 27.17 136.25 27.17"}),y.jsx("polygon",{className:"cls-2",points:"150.35 14.97 151.65 14.97 155.65 24.37 159.75 14.97 161.05 14.97 155.75 27.17 155.55 27.17 150.35 14.97"}),y.jsx("polygon",{className:"cls-2",points:"165.65 14.97 172.65 14.97 172.65 16.17 166.85 16.17 166.85 19.97 172.55 19.97 172.55 21.17 166.85 21.17 166.85 25.97 172.55 25.97 172.55 27.17 165.65 27.17 165.65 14.97"}),y.jsx("path",{className:"cls-2",d:"m177.15,24.87l1-.6c.7,1.3,1.6,2,2.5,2,.4,0,.8-.1,1.1-.3.4-.2.6-.4.8-.8.2-.3.3-.7.3-1,0-.4-.1-.8-.4-1.2-.4-.5-1.1-1.2-2.1-1.9-1-.8-1.6-1.3-1.9-1.7-.4-.6-.6-1.2-.6-1.9,0-.5.1-1,.4-1.4s.6-.8,1.1-1,1-.4,1.5-.4c.6,0,1.1.1,1.6.4s1,.8,1.6,1.6l-1,.7c-.5-.6-.8-1-1.2-1.2-.3-.2-.7-.3-1.1-.3-.5,0-.9.1-1.2.4-.3.3-.5.7-.5,1.1,0,.3.1.5.2.8.1.2.3.5.6.8.2.2.7.6,1.6,1.2,1,.8,1.8,1.5,2.2,2.1.4.6.6,1.2.6,1.8,0,.9-.3,1.6-1,2.3-.7.6-1.5,1-2.4,1-.7,0-1.4-.2-2-.6-.6-.3-1.2-1-1.7-1.9"}),y.jsx("polygon",{className:"cls-2",points:"188.15 16.17 188.15 14.97 194.85 14.97 194.85 16.17 192.15 16.17 192.15 27.17 190.85 27.17 190.85 16.17 188.15 16.17"}),y.jsx("polygon",{className:"cls-2",points:"198.55 27.17 200.35 14.97 200.55 14.97 205.45 24.97 210.35 14.97 210.55 14.97 212.25 27.17 211.05 27.17 209.85 18.47 205.55 27.17 205.25 27.17 200.95 18.37 199.75 27.17 198.55 27.17"}),y.jsx("polygon",{className:"cls-2",points:"217.25 14.97 224.15 14.97 224.15 16.17 218.45 16.17 218.45 19.97 224.15 19.97 224.15 21.17 218.45 21.17 218.45 25.97 224.15 25.97 224.15 27.17 217.25 27.17 217.25 14.97"}),y.jsx("polygon",{className:"cls-2",points:"229.95 27.17 229.95 14.97 230.25 14.97 238.35 24.27 238.35 14.97 239.55 14.97 239.55 27.17 239.25 27.17 231.25 17.97 231.25 27.17 229.95 27.17"}),y.jsx("polygon",{className:"cls-2",points:"244.95 16.17 244.95 14.97 251.65 14.97 251.65 16.17 248.95 16.17 248.95 27.17 247.65 27.17 247.65 16.17 244.95 16.17"})]}),y.jsxs("g",{id:"Layer_7","data-name":"Layer 7",children:[y.jsx("polygon",{className:"cls-2",points:"128.55 45.57 130.25 33.87 130.35 33.87 134.95 43.47 139.55 33.87 139.65 33.87 141.25 45.57 140.15 45.57 139.05 37.27 135.15 45.57 134.85 45.57 130.75 37.17 129.65 45.57 128.55 45.57"}),y.jsx("path",{className:"cls-2",d:"m148.75,34.17l5.2,11.2h-1.2l-1.8-3.7h-4.8l-1.8,3.7h-1.3l5.3-11.2h.4Zm-.2,2.3l-1.9,4.1h3.8l-1.9-4.1Z"}),y.jsx("polygon",{className:"cls-2",points:"155.75 45.37 155.75 34.17 155.95 34.17 163.45 42.77 163.45 34.17 164.55 34.17 164.55 45.37 164.35 45.37 156.85 36.87 156.85 45.37 155.75 45.37"}),y.jsx("path",{className:"cls-2",d:"m172.95,34.17l5.2,11.2h-1.2l-1.8-3.7h-4.8l-1.8,3.7h-1.3l5.3-11.2h.4Zm-.2,2.3l-1.9,4.1h3.8l-1.9-4.1Z"}),y.jsx("path",{className:"cls-2",d:"m190.65,35.97l-.9.8c-.6-.6-1.3-1.1-2.1-1.4-.7-.3-1.5-.5-2.2-.5-.9,0-1.7.2-2.5.6s-1.4,1-1.9,1.8c-.4.7-.7,1.5-.7,2.3s.2,1.6.7,2.4,1.1,1.4,1.9,1.8,1.7.7,2.6.7c1.2,0,2.1-.3,2.9-1s1.3-1.5,1.4-2.5h-3.6v-1.1h4.8c0,1.7-.5,3.1-1.5,4.1s-2.4,1.5-4.1,1.5c-2.1,0-3.7-.7-4.9-2.1-.9-1.1-1.4-2.4-1.4-3.8,0-1.1.3-2.1.8-3s1.3-1.6,2.2-2.1c.9-.5,2-.8,3.2-.8,1,0,1.8.2,2.7.5,1,.5,1.8,1.1,2.6,1.8"}),y.jsx("polygon",{className:"cls-2",points:"205.25 45.37 206.85 34.17 207.05 34.17 211.55 43.37 216.15 34.17 216.25 34.17 217.85 45.37 216.75 45.37 215.65 37.37 211.75 45.37 211.45 45.37 207.45 37.27 206.35 45.37 205.25 45.37"}),y.jsx("polygon",{className:"cls-2",points:"220.95 34.17 227.35 34.17 227.35 35.27 222.05 35.27 222.05 38.77 227.35 38.77 227.35 39.87 222.05 39.87 222.05 44.27 227.35 44.27 227.35 45.37 220.95 45.37 220.95 34.17"}),y.jsx("polygon",{className:"cls-2",points:"232.35 45.37 232.35 34.17 232.55 34.17 240.05 42.77 240.05 34.17 241.15 34.17 241.15 45.37 240.95 45.37 233.55 36.87 233.55 45.37 232.35 45.37"}),y.jsx("polygon",{className:"cls-2",points:"245.25 35.07 245.25 33.87 251.45 33.87 251.45 35.07 248.95 35.07 248.95 45.57 247.75 45.57 247.75 35.07 245.25 35.07"}),y.jsx("polygon",{className:"cls-2",points:"194.75 34.17 201.15 34.17 201.15 35.27 195.85 35.27 195.85 38.77 201.15 38.77 201.15 39.87 195.85 39.87 195.85 44.27 201.15 44.27 201.15 45.37 194.75 45.37 194.75 34.17"})]}),y.jsx("g",{id:"Layer_5","data-name":"Layer 5",children:y.jsx("rect",{className:"cls-1",x:"113.15",y:"7.97",width:"1.6",height:"45.6"})}),y.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:y.jsx("path",{className:"cls-3",d:"m37.85,28.87v16c-.8.5-1.7.9-2.7,1.3s-2.1.7-3.1.9c-1.1.3-2.2.5-3.3.6-1.1.1-2.2.2-3.1.2-2.8,0-5.2-.5-7.4-1.4-2.2-.9-4-2.2-5.5-3.7-1.5-1.6-2.6-3.4-3.4-5.4-.8-2.1-1.2-4.2-1.2-6.5s.4-4.7,1.3-6.8c.8-2.1,2-3.9,3.5-5.4s3.3-2.7,5.4-3.6,4.4-1.3,6.8-1.3c3,0,5.4.4,7.3,1.1,1.9.8,3.5,1.8,4.8,3.1l-3.1,3.4c-1.3-1.3-2.8-2.2-4.3-2.7s-3.1-.8-4.7-.8c-1.9,0-3.6.3-5.1,1s-2.8,1.6-3.9,2.8c-1.1,1.2-1.9,2.5-2.5,4.1s-.9,3.3-.9,5c0,1.8.3,3.5,1,5.1.6,1.6,1.5,2.9,2.7,4.1,1.1,1.2,2.5,2.1,4,2.7,1.5.7,3.2,1,5,1,1.6,0,3-.1,4.4-.4s2.6-.7,3.6-1.3v-9h-7.2v-4.1h11.6Z"})}),y.jsx("g",{id:"Layer_3","data-name":"Layer 3",children:y.jsx("polygon",{className:"cls-3",points:"44.25 42.87 62.75 18.67 44.75 18.67 44.75 14.47 68.25 14.47 68.25 18.67 49.85 42.87 68.55 42.87 68.55 46.97 44.25 46.97 44.25 42.87"})}),y.jsx("g",{id:"Layer_4","data-name":"Layer 4",children:y.jsx("path",{className:"cls-3",d:"m96.65,21.47c-.9-1.2-2.1-2.1-3.5-2.8-1.4-.6-2.9-1-4.4-1-1.8,0-3.5,.3-5,1s-2.8,1.6-3.8,2.8c-1.1,1.2-1.9,2.6-2.5,4.2s-.9,3.3-.9,5.2c0,1.7,.3,3.3,.8,4.9,.6,1.5,1.3,2.9,2.4,4,1,1.2,2.3,2.1,3.8,2.8,1.5,.7,3.2,1,5.1,1s3.5-.4,4.9-1.1c1.4-.8,2.6-1.8,3.6-3.2l3.7,2.8c-.2,.3-.7,.8-1.3,1.4-.6,.6-1.4,1.3-2.4,1.9s-2.2,1.2-3.7,1.7c-1.4,.5-3.1,.7-4.9,.7-2.6,0-4.9-.5-7-1.5s-3.8-2.3-5.3-3.9-2.6-3.4-3.3-5.4c-.8-2-1.1-4-1.1-6.1,0-2.5,.4-4.8,1.2-7,.8-2.1,2-4,3.5-5.5s3.3-2.7,5.3-3.6,2.1-.9,4.4-1.3,2.1,0,4.2,.4,3.8,1.2,5.1,2.1,2.1,2.1,2.1,3.8l-3.5,3Z"})})]})},RI=({tabId:i,isOpen:e,position:n,onClose:r,onRequestAddComponent:s})=>{const{currentTheme:l}=mt(),{currentLayout:d,removeTab:f,updateTab:p}=Ya(),[m,b]=N.useState(!1),[S,w]=N.useState(""),U=d?.tabs.find(ee=>ee.id===i),D=U?.editMode||!1;console.log("TabContextMenu render:",{tabId:i,isOpen:e,tab:U,closable:U?.closable,isEditMode:D}),N.useEffect(()=>{const ee=()=>r();if(e)return document.addEventListener("click",ee),()=>document.removeEventListener("click",ee)},[e,r]),N.useEffect(()=>{const ee=Ee=>{Ee.key==="Escape"&&r()};if(e)return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[e,r]);const K=()=>{w(U.name),b(!0),r()},V=()=>{if(S.trim()&&S!==U.name){if(d?.tabs.find(Ee=>Ee.id!==i&&Ee.name.toLowerCase()===S.toLowerCase())){alert(`Tab name "${S}" already exists. Please choose a different name.`);return}p(i,{name:S.trim()})}b(!1),w("")},Y=()=>{confirm(`Are you sure you want to remove the tab "${U.name}"?`)&&f(i),r()},B=()=>{p(i,{editMode:!D}),r()},J=()=>{console.log("TabContextMenu: handleAddComponent called for tab:",i),s&&s(i),r()};if(!U||!U.closable)return null;const W=D?[{icon:y.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),label:"Add Component",onClick:J},{icon:y.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),label:"Save & Exit Edit",onClick:B},{icon:y.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),label:"Rename Tab",onClick:K}]:[{icon:y.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),label:"Enter Edit Mode",onClick:B},{icon:y.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),label:"Rename",onClick:K},{icon:y.jsx("svg",{width:"14",height:"14",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),label:"Remove",onClick:Y,dangerous:!0}];return y.jsxs(y.Fragment,{children:[y.jsx(Ho,{children:e&&y.jsx(Ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},style:{position:"fixed",top:n.y,left:n.x,zIndex:1e4,backgroundColor:l.surface,border:`1px solid ${l.border}`,borderRadius:"8px",padding:"4px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(8px)"},onClick:ee=>ee.stopPropagation(),children:W.map(ee=>y.jsxs(Ke.button,{onClick:ee.onClick,whileHover:{backgroundColor:ee.dangerous?"#ef444420":`${l.primary}15`},style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",fontSize:"13px",fontWeight:"500",color:ee.dangerous?"#ef4444":l.text,backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.1s ease",textAlign:"left",minWidth:"120px"},children:[ee.icon,ee.label]},ee.label))})}),y.jsx(Ho,{children:m&&y.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,backdropFilter:"blur(8px)"},onClick:()=>b(!1),children:y.jsxs(Ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:ee=>ee.stopPropagation(),style:{backgroundColor:l.surface,border:`1px solid ${l.border}`,borderRadius:"8px",padding:"20px",minWidth:"300px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[y.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"600",color:l.text},children:"Rename Tab"}),y.jsx("input",{type:"text",value:S,onChange:ee=>w(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&V(),ee.key==="Escape"&&b(!1)},autoFocus:!0,style:{width:"100%",padding:"10px",fontSize:"14px",backgroundColor:l.background,border:`1px solid ${l.border}`,borderRadius:"6px",color:l.text,outline:"none",marginBottom:"16px"}}),y.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[y.jsx("button",{onClick:()=>b(!1),style:{padding:"8px 16px",fontSize:"13px",backgroundColor:"transparent",border:`1px solid ${l.border}`,borderRadius:"6px",color:l.textSecondary,cursor:"pointer"},children:"Cancel"}),y.jsx("button",{onClick:V,style:{padding:"8px 16px",fontSize:"13px",backgroundColor:l.primary,border:"none",borderRadius:"6px",color:"#ffffff",cursor:"pointer"},children:"Rename"})]})]})})})]})};class cr{static instance;components=new Map;categories=new Map;searchIndex=new Map;static getInstance(){return cr.instance||(cr.instance=new cr,cr.instance.initializeDefaults()),cr.instance}initializeDefaults(){console.log("ComponentInventory: Initializing defaults..."),this.addCategory({id:"financial",name:"Financial",icon:"trending-up",description:"Trading, portfolio, and market data components",color:"#95BD78",subcategories:[{id:"charts",name:"Charts & Graphs",description:"Financial visualization",tags:["chart","graph","data"]},{id:"portfolio",name:"Portfolio Management",description:"Portfolio tools",tags:["portfolio","holdings","performance"]},{id:"trading",name:"Trading Tools",description:"Order management and execution",tags:["trading","orders","execution"]},{id:"market-data",name:"Market Data",description:"Real-time market feeds",tags:["market","quotes","feeds"]}]}),this.addCategory({id:"visualization",name:"Visualization",icon:"bar-chart-2",description:"Charts, graphs, and data visualization components",color:"#64b5f6",subcategories:[{id:"charts",name:"Charts",description:"Various chart types",tags:["chart","line","bar","pie"]},{id:"tables",name:"Data Tables",description:"Advanced data grids",tags:["table","grid","data"]},{id:"dashboards",name:"Dashboard Widgets",description:"Pre-built dashboard components",tags:["dashboard","widget","kpi"]},{id:"volatility",name:"Volatility Analysis",description:"Options volatility surfaces and analysis",tags:["volatility","options","surface"]}]}),this.addCategory({id:"layout",name:"Layout",icon:"layout",description:"Layout and container components",color:"#ABD38F",subcategories:[{id:"containers",name:"Containers",description:"Panel, card, and container components",tags:["panel","card","container"]},{id:"grids",name:"Grid Systems",description:"Responsive grid layouts",tags:["grid","layout","responsive"]}]}),this.addCategory({id:"data",name:"Data & APIs",icon:"database",description:"Data integration and API components",color:"#DD8B8B",subcategories:[{id:"feeds",name:"Data Feeds",description:"Real-time data connections",tags:["feed","realtime","websocket"]},{id:"forms",name:"Forms & Inputs",description:"Data entry components",tags:["form","input","validation"]}]}),this.addCategory({id:"analytics",name:"Analytics",icon:"activity",description:"Analytics and insights components",color:"#9B59B6",subcategories:[{id:"dashboard",name:"Analytics Dashboards",description:"Comprehensive analytics views",tags:["analytics","dashboard","insights"]},{id:"metrics",name:"Metrics & KPIs",description:"Key performance indicators",tags:["metrics","kpi","performance"]}]}),this.addComponent({id:"gzc-portfolio",name:"GZCPortfolio",displayName:"GZC Portfolio",category:"financial",subcategory:"portfolio",description:"Professional FX portfolio with trades and positions views, fund filtering, and real-time P&L",defaultSize:{w:10,h:8},minSize:{w:8,h:6},maxSize:{w:12,h:12},tags:["portfolio","fx","trading","gcf","gmf","positions","professional","port-3200"],complexity:"complex",quality:"port-3200",source:"port-3200"}),this.addComponent({id:"gzc-analytics",name:"GZCAnalytics",displayName:"GZC Analytics",category:"analytics",subcategory:"dashboard",description:"Real-time market analytics with live prices, order book, performance metrics, and correlations",defaultSize:{w:10,h:8},minSize:{w:8,h:6},maxSize:{w:12,h:12},tags:["analytics","market","real-time","orderbook","performance","professional","port-3200"],complexity:"complex",quality:"port-3200",source:"port-3200"}),this.addComponent({id:"bloomberg-volatility",name:"Bloomberg Volatility Analysis",displayName:"Volatility Analysis",category:"visualization",subcategory:"volatility",description:"Professional FX options volatility surface visualization with smile analysis and term structure. Real-time Bloomberg data.",defaultSize:{w:10,h:8},minSize:{w:8,h:6},maxSize:{w:12,h:12},tags:["volatility","options","bloomberg","fx","surface","3d","smile","term-structure","real-time"],complexity:"complex",quality:"enhanced",source:"internal",dependencies:["plotly.js","d3","axios"],props:{apiEndpoint:"http://20.172.249.92:8080"}}),this.addComponent({id:"portfolio",name:"Portfolio",displayName:"Portfolio Manager",category:"financial",subcategory:"portfolio",description:"Portfolio management component with holdings and performance tracking",defaultSize:{w:8,h:6},minSize:{w:6,h:4},maxSize:{w:12,h:10},tags:["portfolio","holdings","performance","management"],complexity:"medium",quality:"standard",source:"internal"}),this.buildSearchIndex()}addCategory(e){this.categories.set(e.id,e)}addComponent(e){console.log("ComponentInventory: Adding component:",e.id,e.name),this.components.set(e.id,e),this.updateSearchIndex(e),console.log("ComponentInventory: Total components now:",this.components.size)}getCategories(){return Array.from(this.categories.values())}getAllComponents(){const e=Array.from(this.components.values());return console.log("ComponentInventory: getAllComponents returning",e.length,"components"),e}getComponentsByCategory(e,n){return Array.from(this.components.values()).filter(r=>!(r.category!==e||n&&r.subcategory!==n))}searchComponents(e,n){const r=e.toLowerCase().split(" ").filter(l=>l.length>0);let s=Array.from(this.components.values());return r.length>0&&(s=s.filter(l=>{const d=[l.name,l.displayName,l.description,...l.tags].join(" ").toLowerCase();return r.every(f=>d.includes(f))})),n&&(n.category&&(s=s.filter(l=>l.category===n.category)),n.subcategory&&(s=s.filter(l=>l.subcategory===n.subcategory)),n.complexity&&(s=s.filter(l=>l.complexity===n.complexity)),n.quality&&(s=s.filter(l=>l.quality===n.quality)),n.tags&&n.tags.length>0&&(s=s.filter(l=>n.tags.some(d=>l.tags.includes(d))))),s.sort((l,d)=>{const f=l.name.toLowerCase().includes(e.toLowerCase())?1:0,p=d.name.toLowerCase().includes(e.toLowerCase())?1:0;if(f!==p)return p-f;const m=["port-3000","port-3200","enhanced","basic"];return m.indexOf(l.quality)-m.indexOf(d.quality)}),s}getComponent(e){return this.components.get(e)}getFavorites(){return[]}getRecents(){return[]}updateSearchIndex(e){const n=[e.name,e.displayName,e.description,...e.tags,e.category,e.subcategory||""].join(" ").toLowerCase().split(" ");for(const r of n)r.length>2&&(this.searchIndex.has(r)||this.searchIndex.set(r,[]),this.searchIndex.get(r).push(e.id))}buildSearchIndex(){this.searchIndex.clear();for(const e of this.components.values())this.updateSearchIndex(e)}rebuildSearchIndex(){this.buildSearchIndex()}}const Lt=cr.getInstance();Lt.getComponent("portfolio")||(Lt.addComponent({id:"portfolio",name:"Portfolio",displayName:"Portfolio Dashboard",category:"financial",subcategory:"portfolio",description:"Comprehensive portfolio management with real-time P&L, positions table, metrics, and charts",defaultSize:{w:8,h:6},minSize:{w:6,h:4},maxSize:{w:12,h:10},tags:["portfolio","trading","pnl","positions","financial","real-time","dashboard"],complexity:"complex",quality:"enhanced",source:"internal"}),Lt.rebuildSearchIndex());Lt.getComponent("bloomberg-volatility")||(Lt.addComponent({id:"bloomberg-volatility",name:"Bloomberg Volatility Analysis",displayName:"Volatility Analysis",category:"visualization",subcategory:"volatility",description:"Professional FX options volatility surface visualization with smile analysis and term structure. Real-time Bloomberg data.",defaultSize:{w:10,h:8},minSize:{w:8,h:6},maxSize:{w:12,h:12},tags:["volatility","options","bloomberg","fx","surface","3d","smile","term-structure","real-time"],complexity:"complex",quality:"enhanced",source:"internal",dependencies:["plotly.js","d3","axios"],props:{apiEndpoint:"http://bloomberg-gateway.bloomberg-gateway"}}),Lt.rebuildSearchIndex());const kI=({isOpen:i,onClose:e,onComponentSelect:n,mode:r="select"})=>{const{currentTheme:s}=mt(),[l,d]=N.useState("local"),[f,p]=N.useState([]),[m,b]=N.useState([]),[S,w]=N.useState(!1),[U,D]=N.useState(new Map);N.useEffect(()=>{i&&(Lt.getAllComponents().length===0&&(console.error("ComponentInventory not initialized! This is a critical error."),console.log("Forced inventory reference:",Lt)),K())},[i,l]);const K=async()=>{if(l==="local"){Lt.getAllComponents().length===0&&(console.warn("ComponentPortalModal: Inventory empty, forcing rebuild..."),Lt.rebuildSearchIndex());const B=Lt.getAllComponents(),J=Lt.searchComponents("");console.log("ComponentPortalModal: All components from inventory:",B),console.log("ComponentPortalModal: Search components result:",J),console.log("ComponentPortalModal: Portfolio component:",Lt.getComponent("portfolio")),console.log("ComponentPortalModal: Components length:",J?.length);const W=J&&J.length>0?J:B;W&&W.length>0?(console.log("ComponentPortalModal: Using components:",W),b(W)):(console.error("ComponentPortalModal: No components found! Inventory initialization failed"),b([{id:"portfolio",name:"Portfolio",displayName:"Portfolio Dashboard",category:"financial",description:"Comprehensive portfolio management dashboard",defaultSize:{w:8,h:6},minSize:{w:4,h:4},tags:["portfolio","financial"],complexity:"medium",quality:"enhanced"}]))}else{w(!0);try{throw new Error("componentImportService disabled")}catch{p([{id:"advanced-chart",name:"AdvancedChart",description:"Professional trading chart with indicators",quality:"port-3200"},{id:"portfolio-grid",name:"PortfolioGrid",description:"Real-time portfolio holdings grid",quality:"port-3200"},{id:"order-book",name:"OrderBook",description:"Live order book visualization",quality:"port-3200"},{id:"candlestick-chart",name:"CandlestickChart",description:"Advanced candlestick chart with volume",quality:"port-3200"},{id:"market-depth",name:"MarketDepth",description:"Market depth and liquidity analysis",quality:"port-3200"}])}finally{w(!1)}}},V=async B=>{D(J=>new Map(J).set(B,"importing"));try{({success:!0}).success&&(D(W=>new Map(W).set(B,"success")),setTimeout(()=>{n(B),e()},500))}catch{D(W=>new Map(W).set(B,"failed"))}},Y=B=>{console.log("🎯 ComponentPortalModal: handleLocalSelect called with:",B),console.log("🎯 ComponentPortalModal: Available components:",m.map(J=>J.id)),console.log("🎯 ComponentPortalModal: Calling onComponentSelect...");try{n(B),console.log("✅ ComponentPortalModal: onComponentSelect called successfully"),e(),console.log("✅ ComponentPortalModal: Modal closed")}catch(J){console.error("❌ ComponentPortalModal: Error in handleLocalSelect:",J)}};return rA.createPortal(y.jsx(Ho,{mode:"wait",children:i&&y.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},onClick:e,children:y.jsxs(Ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:B=>B.stopPropagation(),style:{width:"80%",maxWidth:"800px",height:"70%",maxHeight:"600px",backgroundColor:s.surface,borderRadius:"12px",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[y.jsxs("div",{style:{padding:"16px 24px",borderBottom:`1px solid ${s.border}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[y.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:s.text},children:"Add Component"}),y.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsx("button",{onClick:()=>d("local"),style:{padding:"6px 12px",backgroundColor:l==="local"?s.primary:"transparent",color:l==="local"?"white":s.text,border:`1px solid ${s.border}`,borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Local Components"}),y.jsx("button",{onClick:()=>d("import"),style:{padding:"6px 12px",backgroundColor:l==="import"?s.primary:"transparent",color:l==="import"?"white":s.text,border:`1px solid ${s.border}`,borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Import from 3200"})]}),y.jsx("button",{onClick:e,style:{background:"none",border:"none",color:s.textSecondary,cursor:"pointer",fontSize:"20px",padding:"4px"},children:"×"})]})]}),y.jsx("div",{style:{flex:1,padding:"16px",overflowY:"auto"},children:S?y.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:s.textSecondary},children:"Loading components..."}):y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},children:[(()=>{const B=l==="local"?m:f;console.log("ComponentPortalModal: Rendering components:",B),console.log("ComponentPortalModal: Number of components to render:",B?.length)})(),(l==="local"?m:f).length===0?y.jsx("div",{style:{color:s.textSecondary,padding:"20px",textAlign:"center"},children:"No components available. Check console for errors."}):null,(l==="local"?m:f).map(B=>{const J=U.get(B.id);return y.jsxs(Ke.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l==="local"?Y(B.id):V(B.id),style:{padding:"12px",backgroundColor:s.background,border:`1px solid ${s.border}`,borderRadius:"6px",cursor:J==="importing"?"wait":"pointer",position:"relative",opacity:J==="importing"?.6:1},children:[y.jsx("h4",{style:{margin:"0 0 6px 0",fontSize:"12px",fontWeight:"600",color:s.text},children:B.displayName||B.name}),y.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"10px",color:s.textSecondary,lineHeight:1.3},children:B.description}),y.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:y.jsx("span",{style:{fontSize:"9px",padding:"2px 6px",backgroundColor:`${s.primary}20`,color:s.primary,borderRadius:"3px"},children:B.quality||B.category||"component"})}),J&&y.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:s.background+"ee",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px"},children:y.jsxs("span",{style:{fontSize:"11px",color:J==="success"?s.success:J==="failed"?s.danger:s.textSecondary},children:[J==="importing"&&"⏳ Importing...",J==="success"&&"✅ Imported!",J==="failed"&&"❌ Failed"]})})]},B.id)})]})})]},"modal-content")},"component-portal-modal")}),document.body)};function Qa(){const{instance:i,accounts:e}=Sl(),n=tp();return{isAuthenticated:n,login:async()=>{try{await i.loginPopup(dr)}catch(f){throw console.error("Login failed:",f),f}},logout:async()=>{try{await i.logoutPopup()}catch(f){throw console.error("Logout failed:",f),f}},getAccessToken:async()=>{if(!n||e.length===0)throw new Error("User not authenticated");try{return(await i.acquireTokenSilent({...dr,account:e[0]})).accessToken}catch{return(await i.acquireTokenPopup(dr)).accessToken}},getAccount:()=>e.length>0?e[0]:null,accounts:e}}const II=i=>i.split(" ").map(e=>e.charAt(0).toUpperCase()).slice(0,2).join(""),OI=(i,e)=>{const n=[e.info||"#3B82F6",e.success||"#10B981",e.secondary||"#8B5CF6",e.warning||"#F59E0B","#EF4444","#06B6D4","#84CC16","#F97316"];let r=0;for(let s=0;s<i.length;s++)r=i.charCodeAt(s)+((r<<5)-r);return n[Math.abs(r)%n.length]},NI=({showSignOut:i=!0})=>{const{user:e,isAuthenticated:n}=ET(),{logout:r}=Qa(),{currentTheme:s}=mt(),[l,d]=N.useState(!1);if(!n||!e)return y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 8px",borderRadius:"20px",fontSize:"12px",color:s.textSecondary},children:"Not signed in"});const f=II(e.name),p=OI(e.name,s),m=async()=>{try{await r(),d(!1)}catch(b){console.error("Sign out failed:",b)}};return y.jsxs("div",{style:{position:"relative"},children:[y.jsxs(Ke.div,{onClick:i?()=>d(!l):void 0,whileHover:i?{scale:1.02}:{},whileTap:i?{scale:.98}:{},style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 8px",borderRadius:"20px",cursor:i?"pointer":"default",transition:"all 0.2s ease",backgroundColor:l?`${s.primary}15`:"transparent",border:`1px solid ${l?s.primary:"transparent"}`},onMouseEnter:b=>{!l&&i&&(b.currentTarget.style.backgroundColor=`${s.primary}08`)},onMouseLeave:b=>{!l&&i&&(b.currentTarget.style.backgroundColor="transparent")},children:[y.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",backgroundColor:p,display:"flex",alignItems:"center",justifyContent:"center",color:s.background,fontSize:"9px",fontWeight:"600"},children:f}),y.jsx("span",{style:{color:s.text,fontSize:"12px",fontWeight:"500",whiteSpace:"nowrap"},children:e.name}),i&&y.jsx(Ke.div,{animate:{rotate:l?180:0},transition:{duration:.2},style:{display:"flex",alignItems:"center",color:s.textSecondary,fontSize:"10px"},children:"▼"})]}),y.jsx(Ho,{children:l&&i&&y.jsx(Ke.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},style:{position:"absolute",top:"100%",right:"0",marginTop:"8px",width:"220px",backgroundColor:s.surface,borderRadius:"8px",border:`1px solid ${s.border}`,overflow:"hidden",zIndex:1e3,backdropFilter:"blur(12px)",boxShadow:s.name.includes("Light")||s.name==="Arctic"||s.name==="Parchment"||s.name==="Pearl"?"0 4px 20px rgba(0,0,0,0.1)":"0 4px 20px rgba(0,0,0,0.3)"},children:y.jsxs("div",{style:{padding:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",marginBottom:"8px",borderBottom:`1px solid ${s.border}`},children:[y.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:p,display:"flex",alignItems:"center",justifyContent:"center",color:s.background,fontSize:"12px",fontWeight:"600"},children:f}),y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:s.text},children:e.name}),y.jsx("div",{style:{fontSize:"12px",color:s.textSecondary},children:e.email})]})]}),y.jsx("button",{onClick:m,style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"none",backgroundColor:"transparent",color:"#EF4444",cursor:"pointer",transition:"all 0.15s ease",fontSize:"12px",fontWeight:"500"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},children:"Sign Out"})]})})}),l&&y.jsx("div",{style:{position:"fixed",inset:0,zIndex:999},onClick:()=>d(!1)})]})},MI=({onOpenAuthDebugger:i,onRequestAddComponent:e})=>{const{currentTheme:n}=mt(),{activeTabId:r}=Ya(),[s,l]=N.useState(!1),d=N.useRef(null);N.useEffect(()=>{const p=m=>{d.current&&!d.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=[...e&&r?[{label:"Add Component",icon:"🧩",onClick:()=>{e(r),l(!1)}}]:[],{label:"Authorization Debug",icon:"🔌",onClick:()=>{i(),l(!1)}},{label:"Bloomberg Volatility Surface",icon:"📊",onClick:()=>{window.open("https://bloomberg-volatility-surface.agreeablepond-1a74a92d.eastus.azurecontainerapps.io/","_blank"),l(!1)}}];return y.jsxs("div",{ref:d,style:{position:"relative"},children:[y.jsxs("button",{onClick:()=>l(!s),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",color:n.textSecondary,transition:"all 0.2s ease"},onMouseEnter:p=>{p.currentTarget.style.backgroundColor=`${n.primary}10`,p.currentTarget.style.color=n.text},onMouseLeave:p=>{s||(p.currentTarget.style.backgroundColor="transparent",p.currentTarget.style.color=n.textSecondary)},children:[y.jsx("span",{children:"Tools"}),y.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:y.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),y.jsx(Ho,{children:s&&y.jsx(Ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},style:{position:"absolute",top:"100%",right:0,marginTop:"4px",minWidth:"220px",backgroundColor:n.surface,border:`1px solid ${n.border}`,borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",padding:"4px",zIndex:1e3},children:f.map((p,m)=>y.jsxs("button",{onClick:p.onClick,style:{display:"flex",alignItems:"center",gap:"8px",width:"100%",padding:"8px 12px",backgroundColor:"transparent",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",color:n.text,textAlign:"left",transition:"all 0.2s ease"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor=`${n.primary}15`},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},children:[y.jsx("span",{style:{fontSize:"16px"},children:p.icon}),y.jsx("span",{children:p.label})]},m))})})]})},DI=({title:i,children:e,isOpen:n,onClose:r,defaultPosition:s={x:100,y:100},width:l=400,height:d=500})=>{const{currentTheme:f}=mt(),[p,m]=N.useState(s),[b,S]=N.useState(!1),[w,U]=N.useState({x:0,y:0}),D=N.useRef(null);N.useEffect(()=>{const V=B=>{b&&m({x:B.clientX-w.x,y:B.clientY-w.y})},Y=()=>{S(!1)};return b&&(document.addEventListener("mousemove",V),document.addEventListener("mouseup",Y)),()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",Y)}},[b,w]);const K=V=>{const Y=D.current?.getBoundingClientRect();Y&&(U({x:V.clientX-Y.left,y:V.clientY-Y.top}),S(!0))};return n?y.jsxs("div",{ref:D,style:{position:"fixed",left:`${p.x}px`,top:`${p.y}px`,width:`${l}px`,height:`${d}px`,backgroundColor:f.surface,border:`2px solid ${f.border}`,borderRadius:"8px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",zIndex:1e4,overflow:"hidden"},children:[y.jsxs("div",{onMouseDown:K,style:{padding:"12px 16px",backgroundColor:f.background,borderBottom:`1px solid ${f.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:b?"grabbing":"grab",userSelect:"none"},children:[y.jsx("h3",{style:{margin:0,fontSize:"14px",fontWeight:600,color:f.text},children:i}),y.jsx("button",{onClick:r,style:{background:"none",border:"none",color:f.textSecondary,cursor:"pointer",fontSize:"20px",padding:"0 4px",lineHeight:1},onMouseEnter:V=>{V.currentTarget.style.color=f.text},onMouseLeave:V=>{V.currentTarget.style.color=f.textSecondary},children:"×"})]}),y.jsx("div",{style:{flex:1,padding:"16px",overflowY:"auto",color:f.text},children:e})]}):null},UI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_VERSION:"1.0.0",VITE_BACKEND_URL:"https://portfolio-backend.agreeablepond-1a74a92d.eastus.azurecontainerapps.io",VITE_CLIENT_ID:"a873f2d7-2ab9-4d59-a54c-90859226bf2e",VITE_ESP_QUOTE_SUBSCRIPTION_URL:"/api/subscribe_quote",VITE_ESP_TRADE_URL:"/api/request_trade_esp",VITE_RFS_QUOTE_REQUEST_URL:"/api/request_quote",VITE_RFS_SWAP_TRADE_URL:"/api/request_swap_trade_rfs",VITE_RFS_TRADE_URL:"/api/request_trade_rfs",VITE_SENTRY_DSN:"",VITE_STREAM_URL:"wss://fxspotstream.agreeablepond-1a74a92d.eastus.azurecontainerapps.io",VITE_TENANT_ID:"8274c97d-de9d-4328-98cf-2d4ee94bf104",VITE_WEBSOCKET_ESP:"/ws_esp",VITE_WEBSOCKET_EXECUTION:"/ws_execution",VITE_WEBSOCKET_RFS:"/ws_rfs"},wT=N.createContext(null),_T=()=>{const i=N.useContext(wT);if(!i)throw new Error("useQuoteContext must be used within a QuoteProvider");return i},LI=({children:i,autoConnect:e=!0,reconnectInterval:n=5e3,mockMode:r=!1,defaultStreamType:s="esp"})=>{const{getAccessToken:l,isAuthenticated:d}=Qa(),[f,p]=N.useState(new Map),[m,b]=N.useState(!1),[S,w]=N.useState("disconnected"),[U,D]=N.useState(s),K=N.useRef(null),V=N.useRef(new Set),Y=N.useRef(void 0),B=N.useRef(void 0),J=N.useCallback(ge=>{const ye=`VITE_WEBSOCKET_${ge.toUpperCase()}`,_=UI[ye];return _?_.startsWith("/")?`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${_}`:_:`wss://fxspotstream.agreeablepond-1a74a92d.eastus.azurecontainerapps.io/ws_${ge}`},[]),W=N.useCallback(ge=>{p(ye=>{const _=new Map(ye);return _.set(ge.symbol,ge),_})},[]),ee=N.useCallback(ge=>{const ye=Math.random()*1e3+100,_=ye*.001,E=(Math.random()-.5)*10;return{symbol:ge,bid:ye-_/2,ask:ye+_/2,last:ye,volume:Math.floor(Math.random()*1e6),timestamp:Date.now(),change:E,changePercent:E/ye*100,open:ye-E,high:ye+Math.abs(E)*1.5,low:ye-Math.abs(E)*1.5,close:ye}},[]),Ee=N.useCallback(()=>{B.current&&clearInterval(B.current),B.current=setInterval(()=>{V.current.forEach(ge=>{const ye=ee(ge);W(ye)})},1e3)},[ee,W]),xe=N.useCallback(async()=>{if(r){b(!0),w("connected"),Ee();return}if(!d){console.log("User not authenticated, cannot connect to quote stream"),w("error");return}if(K.current?.readyState===WebSocket.OPEN||K.current?.readyState===WebSocket.CONNECTING){console.log(`[QuoteContext:${U}] Already connected or connecting, skipping...`);return}w("connecting");try{const ge=await l(),ye=J(U);console.log(`Connecting to quote stream: ${ye}`);const _=`${ye}?access_token=${encodeURIComponent(ge)}`,E=new WebSocket(_);K.current=E,E.onopen=()=>{console.log(`[QuoteContext:${U}] ✅ WebSocket connected to ${ye}`),b(!0),w("connected");const L=setInterval(()=>{E.readyState===WebSocket.OPEN?(console.log(`[QuoteContext:${U}] Sending ping`),E.send(JSON.stringify({type:"ping"}))):clearInterval(L)},3e4);E._pingInterval=L},E.onmessage=L=>{try{let G=L.data;typeof G=="string"&&G.startsWith("Echo: ")&&(G=G.substring(6));const j=JSON.parse(G);if(console.log(`[QuoteContext:${U}] Received message:`,j),j.type==="pong"){console.log(`[QuoteContext:${U}] Received pong`);return}if(U==="esp"&&j.symbol){console.log(`[QuoteContext:esp] ESP quote for ${j.symbol}:`,j);const X=parseFloat(j.price||"0"),re=j.symbol,Q=parseInt(j.quantity||"0",10),Se=j.time_stamp?parseInt(j.time_stamp,10)/1e3:Date.now(),et=f.get(re)||{symbol:re,bid:X,ask:X,last:X,volume:0,timestamp:Se,change:0,changePercent:0,open:X,high:X,low:X,close:X},jt={...et,[j.entry_type==="0"?"bid":"ask"]:X,last:X,volume:Q,timestamp:Se,high:Math.max(et.high,X),low:Math.min(et.low,X)},Fo=X-et.last;jt.change=Fo,jt.changePercent=et.last!==0?Fo/et.last*100:0,console.log(`[QuoteContext:esp] Transformed quote for ${re}:`,jt),W(jt)}else U==="rfs"&&j.quote_data?(console.log("[QuoteContext:rfs] RFS quote:",j.quote_data),W(j.quote_data)):U==="exec"&&j.execution_data&&console.log("[QuoteContext:exec] Execution data received:",j.execution_data)}catch(G){typeof L.data=="string"&&(L.data.includes("WebSocket connected")||L.data.includes("Connected to")||L.data.includes("FIX gateway not available"))?console.log(`[QuoteContext:${U}] Info:`,L.data):(console.error(`[QuoteContext:${U}] Failed to parse quote message:`,G),console.error(`[QuoteContext:${U}] Raw message:`,L.data))}},E.onerror=L=>{console.error(`Quote WebSocket error (${U}):`,L),w("error")},E.onclose=L=>{console.log(`Quote WebSocket disconnected (${U}), code: ${L.code}`),E._pingInterval&&clearInterval(E._pingInterval),b(!1),w("disconnected"),K.current=null,e&&d&&L.code!==1e3&&(console.log(`[QuoteContext:${U}] Scheduling reconnection in ${n}ms`),Y.current=setTimeout(xe,n))}}catch(ge){console.error("Failed to connect to authenticated quote service:",ge),w("error"),e&&d&&(Y.current=setTimeout(xe,n))}},[U,d,e,n,r]),Ue=N.useCallback(()=>{console.log(`[QuoteContext:${U}] Disconnecting...`),Y.current&&(clearTimeout(Y.current),Y.current=void 0),B.current&&(clearInterval(B.current),B.current=void 0),K.current&&(K.current._pingInterval&&clearInterval(K.current._pingInterval),K.current.close(1e3,"Normal closure"),K.current=null),b(!1),w("disconnected")},[U]),Et=N.useCallback(ge=>{if(!V.current.has(ge))if(V.current.add(ge),r){const ye=ee(ge);W(ye)}else K.current?.readyState===WebSocket.OPEN&&K.current.send(JSON.stringify({type:"subscribe",symbol:ge}))},[r,ee,W]),_n=N.useCallback(ge=>{V.current.delete(ge),!r&&K.current?.readyState===WebSocket.OPEN&&K.current.send(JSON.stringify({type:"unsubscribe",symbol:ge}))},[r]),Wt=N.useCallback(ge=>f.get(ge),[f]),ut=N.useCallback(()=>{Ue(),xe()},[Ue,xe]);N.useEffect(()=>{if(m){console.log(`[QuoteContext] Stream type changed to ${U}, reconnecting...`),Ue();const ge=setTimeout(()=>{xe()},1e3);return()=>clearTimeout(ge)}},[U]),N.useEffect(()=>(e&&d?(console.log(`[QuoteContext] Auto-connecting (authenticated=${d}, autoConnect=${e})`),xe()):d||(console.log("[QuoteContext] User not authenticated, disconnecting"),Ue()),()=>{Ue()}),[e,d]);const Hn={quotes:f,subscribeToSymbol:Et,unsubscribeFromSymbol:_n,updateQuote:W,getQuote:Wt,isConnected:m,connectionStatus:S,reconnect:ut,streamType:U,setStreamType:D};return y.jsx(wT.Provider,{value:Hn,children:i})},PI=i=>{const{quotes:e,subscribeToSymbol:n,unsubscribeFromSymbol:r,getQuote:s}=_T(),l=Array.isArray(i)?i:[i];return N.useEffect(()=>(console.log("[useQuote] Subscribing to symbols:",l),l.forEach(f=>n(f)),()=>{console.log("[useQuote] Unsubscribing from symbols:",l),l.forEach(f=>r(f))}),[l.join(","),n,r]),N.useMemo(()=>{if(Array.isArray(i)){const p=l.map(m=>s(m)).filter(Boolean);return console.log(`[useQuote] Retrieved quotes for ${l.join(",")}:`,p),p}const f=s(i);return console.log(`[useQuote] Retrieved quote for ${i}:`,f),f},[i,l,s,e])},BI=()=>{const{currentTheme:i}=mt(),{isAuthenticated:e}=Qa(),{isConnected:n,connectionStatus:r,streamType:s,setStreamType:l}=_T(),d=["EUR/USD","GBP/USD","USD/JPY"],f=PI(d),p=()=>{switch(r){case"connected":return i.success;case"connecting":return i.warning;case"error":return i.danger;case"disconnected":return i.textSecondary;default:return i.textSecondary}},m=()=>{switch(r){case"connected":return"🟢";case"connecting":return"🟡";case"error":return"🔴";case"disconnected":return"⚪";default:return"❓"}};return y.jsxs("div",{style:{fontSize:"13px"},children:[y.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:i.background,borderRadius:"4px"},children:[y.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Authentication:"}),y.jsx("div",{style:{color:e?i.success:i.danger},children:e?"✅ Authenticated":"❌ Not Authenticated"})]}),y.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:i.background,borderRadius:"4px"},children:[y.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Connection:"}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[y.jsx("span",{children:m()}),y.jsx("span",{style:{color:p()},children:r.toUpperCase()})]}),y.jsxs("div",{style:{color:i.textSecondary},children:["Stream: ",s.toUpperCase()]})]}),y.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:i.background,borderRadius:"4px"},children:[y.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Stream Type:"}),y.jsx("div",{style:{display:"flex",gap:"4px"},children:["esp","rfs","exec"].map(b=>y.jsx("button",{onClick:()=>l(b),style:{padding:"4px 8px",fontSize:"10px",border:`1px solid ${i.border}`,borderRadius:"3px",backgroundColor:s===b?i.primary:i.surface,color:s===b?"white":i.text,cursor:"pointer"},children:b.toUpperCase()},b))})]}),y.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:i.background,borderRadius:"4px"},children:[y.jsxs("div",{style:{fontWeight:"600",marginBottom:"8px"},children:["Subscribed Symbols (",f.length,"):"]}),d.map(b=>{const S=f.find(w=>w.symbol===b);return y.jsxs("div",{style:{marginBottom:"6px",padding:"6px",backgroundColor:i.surface,borderRadius:"3px",border:`1px solid ${i.borderLight}`},children:[y.jsx("div",{style:{fontWeight:"600",marginBottom:"2px"},children:b}),S&&S.bid&&S.ask?y.jsxs("div",{style:{fontSize:"10px",color:i.textSecondary},children:[y.jsxs("div",{children:["Bid: ",S.bid.toFixed(5)]}),y.jsxs("div",{children:["Ask: ",S.ask.toFixed(5)]}),y.jsxs("div",{children:["Last: ",S.last.toFixed(5)]}),y.jsxs("div",{children:["Volume: ",S.volume.toLocaleString()]}),y.jsxs("div",{children:["Updated:"," ",new Date(S.timestamp).toLocaleTimeString()]}),y.jsxs("div",{children:["Change: ",S.change>0?"+":"",S.change.toFixed(6),"(",S.changePercent>0?"+":"",S.changePercent.toFixed(4),"%)"]})]}):y.jsx("div",{style:{fontSize:"10px",color:i.textSecondary},children:"No quote data received"})]},b)})]}),y.jsxs("div",{style:{padding:"8px",backgroundColor:i.background,borderRadius:"4px"},children:[y.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Test Symbols:"}),y.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:d.map(b=>y.jsx("button",{disabled:f.some(S=>S.symbol===b),style:{padding:"4px 8px",fontSize:"10px",border:`1px solid ${i.border}`,borderRadius:"3px",backgroundColor:f.some(S=>S.symbol===b)?i.success+"20":i.surface,color:i.text,cursor:f.some(S=>S.symbol===b)?"default":"pointer",opacity:f.some(S=>S.symbol===b)?.6:1},children:b},b))})]})]})},HI=()=>{const{currentLayout:i,activeTabId:e,setActiveTab:n,createTabWithPrompt:r,updateTab:s}=Ya(),{currentTheme:l}=mt(),[d,f]=N.useState([]),[p,m]=N.useState(""),[b,S]=N.useState(null),[w,U]=N.useState(null),[D,K]=N.useState({isOpen:!1,tabId:"",position:{x:0,y:0}}),[V,Y]=N.useState(!1),[B,J]=N.useState(!1),[W,ee]=N.useState("");N.useEffect(()=>{if(i){const _=i.tabs.map(E=>({id:E.id,name:E.name,path:`/${E.id}`}));f(_),m(e||"")}},[i,e]);const Ee=_=>{n(_.id),m(_.id)},xe=(_,E)=>{S(E),_.dataTransfer.effectAllowed="move"},Ue=(_,E)=>{_.preventDefault(),_.dataTransfer.dropEffect="move",b!==null&&b!==E&&U(E)},Et=()=>{U(null)},_n=(_,E)=>{if(_.preventDefault(),b===null||b===E)return;const L=[...d],[G]=L.splice(b,1);L.splice(E,0,G),f(L),S(null),U(null)},Wt=()=>{S(null),U(null)},ut=(_,E)=>{_.preventDefault(),console.log("RIGHT CLICK on tab:",E.id,E.name);const L=i?.tabs.find(G=>G.id===E.id);console.log("Tab config:",L),console.log("Is closable?",L?.closable),L?.closable?(console.log("Setting context menu open for tab:",E.id),K({isOpen:!0,tabId:E.id,position:{x:_.clientX,y:_.clientY}})):console.log("Tab is NOT closable, context menu not shown")},Hn=()=>{K({isOpen:!1,tabId:"",position:{x:0,y:0}})},ge=_=>{console.log("ProfessionalHeader: handleRequestAddComponent called for tab:",_),ee(_),J(!0)},ye=_=>{if(console.log("ProfessionalHeader: Component selected:",_),!W){console.error("No componentPortalTabId set - cannot add component");return}const E=i?.tabs.find(Q=>Q.id===W);if(!E){console.error("Tab not found for ID:",W);return}console.log("Current tab editMode:",E.editMode);const L=E.components||[],G=L.map(Q=>({x:Q.position.x,y:Q.position.y}));let j=0,X=0;for(;G.some(Q=>Q.x===j&&Q.y===X);)j+=2,j>10&&(j=0,X+=2);const re={id:`${_.id}-${Date.now()}`,type:_.id,position:{x:j,y:X,w:_.defaultSize?.w||4,h:_.defaultSize?.h||4},props:_.defaultProps||{}};console.log("Updating tab with:",{tabId:W,componentsCount:L.length+1,currentEditMode:E.editMode,newComponent:re}),console.log("BEFORE UPDATE - Tab state:",E),console.log("BEFORE UPDATE - Components to set:",[...L,re]),s(W,{components:[...L,re],editMode:E.editMode}),console.log("AFTER UPDATE CALL - Modal will close now"),J(!1),ee("")};return y.jsxs(Ke.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},style:{borderBottom:`1px solid ${l.border}`,padding:"6px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",height:"48px",backdropFilter:"blur(12px)",backgroundColor:l.surface,position:"relative",zIndex:1e3},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[y.jsxs(Ke.div,{whileHover:{scale:1.02},style:{fontSize:"20px",fontWeight:"700",color:l.name==="GZC Light"?l.primary:l.text,cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx(xI,{height:36,color:l.name.includes("Light")||l.name==="Arctic"||l.name==="Parchment"||l.name==="Pearl"?l.text:"#E0E0E0"}),y.jsx("div",{style:{width:"20px"}})]}),y.jsxs("nav",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[d.map((_,E)=>{const L=i?.tabs.find(G=>G.id===_.id);return y.jsx("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:y.jsxs(Ke.button,{draggable:!0,onDragStart:G=>xe(G,E),onDragOver:G=>Ue(G,E),onDragLeave:Et,onDrop:G=>_n(G,E),onDragEnd:Wt,initial:{opacity:0,x:-20},animate:{opacity:b===E?.5:1,x:0,scale:w===E?1.05:1},transition:{delay:E*.05},whileHover:{y:-2},whileTap:{scale:.95},onClick:()=>Ee(_),onContextMenu:G=>ut(G,_),style:{background:p===_.id?`${l.primary}20`:"transparent",color:p===_.id?l.primary:l.textSecondary,border:w===E?`2px solid ${l.primary}`:"none",padding:"6px 12px",paddingRight:"20px",fontSize:"12px",fontWeight:"400",borderRadius:"8px",cursor:b!==null?"move":"pointer",transition:"all 0.2s ease",userSelect:"none",position:"relative"},onMouseEnter:G=>{p!==_.id&&(G.currentTarget.style.background=`${l.primary}10`)},onMouseLeave:G=>{p!==_.id&&(G.currentTarget.style.background="transparent")},children:[_.name,y.jsx("div",{style:{position:"absolute",top:"2px",right:"4px",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:L?.type==="dynamic"?"#95BD78":L?.type==="static"?"#64b5f6":"#ABD38F",opacity:.8}})]})},_.id)}),y.jsx(Ke.button,{onClick:r,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",backgroundColor:"transparent",border:`1px dashed ${l.border}`,borderRadius:"6px",cursor:"pointer",color:l.textSecondary,transition:"all 0.2s ease",marginLeft:"8px",fontSize:"16px",lineHeight:1},onMouseEnter:_=>{_.currentTarget.style.borderColor=l.primary,_.currentTarget.style.backgroundColor=`${l.primary}10`,_.currentTarget.style.color=l.primary},onMouseLeave:_=>{_.currentTarget.style.borderColor=l.border,_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color=l.textSecondary},title:"Add New Tab",children:"+"})]})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",fontSize:"13px"},children:[y.jsx(MI,{onOpenAuthDebugger:()=>Y(!0),onRequestAddComponent:ge}),y.jsx(NI,{}),y.jsx(_I,{}),y.jsx("button",{style:{display:"flex",alignItems:"center",padding:"6px",backgroundColor:"transparent",border:"none",cursor:"pointer",color:l.textSecondary,transition:"all 0.2s ease"},onMouseEnter:_=>{_.currentTarget.style.color=l.text},onMouseLeave:_=>{_.currentTarget.style.color=l.textSecondary},children:y.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),y.jsx(RI,{tabId:D.tabId,isOpen:D.isOpen,position:D.position,onClose:Hn,onRequestAddComponent:ge}),B&&y.jsx(kI,{isOpen:B,onClose:()=>{J(!1),ee("")},onComponentSelect:_=>{console.log("Component selected:",_);const E=Lt.getComponent(_);E&&ye(E)}}),y.jsx(DI,{title:"Authorization Debug",isOpen:V,onClose:()=>Y(!1),defaultPosition:{x:window.innerWidth-450,y:100},width:400,height:600,children:y.jsx(BI,{})})]})};let pC=class extends wC.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback||y.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-md",children:[y.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Component Error"}),y.jsx("p",{className:"text-red-600 mb-4",children:"Something went wrong loading this component."}),y.jsxs("details",{className:"text-sm text-red-500",children:[y.jsx("summary",{children:"Error Details"}),y.jsx("pre",{className:"mt-2 whitespace-pre-wrap",children:this.state.error?.message})]}),y.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):this.props.children}};const gC={Analytics:()=>bc(()=>import("./AnalyticsTab-BaoQ_Kd0.js"),__vite__mapDeps([0,1,2,3,4])).then(i=>({default:i.default||i.AnalyticsTab})),Documentation:()=>bc(()=>import("./Documentation-8A6G5Wr9.js"),__vite__mapDeps([5,1,2])).then(i=>({default:i.Documentation})),UserTabContainer:()=>bc(()=>import("./index-DZGo3HN3.js").then(i=>i.i),__vite__mapDeps([3,1,2,4])).then(i=>({default:i.DynamicCanvas})),ComponentPortal:()=>bc(()=>import("./ComponentPortal-BfJTBZYJ.js"),__vite__mapDeps([6,1,2])).then(i=>({default:i.ComponentPortal}))};function zI({componentLink:i,template:e}){const[n,r]=N.useState("loading"),[s,l]=N.useState(""),[d,f]=N.useState("checking");N.useEffect(()=>{const b=async()=>{if(!i.healthCheck?.enabled){f("healthy");return}try{f("checking");const S=`${i.endpoint}${i.healthCheck.endpoint}`,w=new AbortController,U=setTimeout(()=>w.abort(),i.healthCheck.timeout||5e3),D=await fetch(S,{method:"GET",signal:w.signal,headers:{"Content-Type":"application/json",...i.authentication?.headers||{}}});if(clearTimeout(U),D.ok)f("healthy"),r("connected");else throw new Error(`Health check failed: ${D.status} ${D.statusText}`)}catch(S){f("unhealthy"),l(S instanceof Error?S.message:"Health check failed"),r("error")}};if(b(),i.healthCheck?.enabled&&i.healthCheck.interval){const S=setInterval(b,i.healthCheck.interval);return()=>clearInterval(S)}},[i]);const p=()=>{r("loading"),l(""),setTimeout(()=>{window.location.reload()},1e3)};if(n==="loading")return y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-8 h-8 mx-auto mb-4 animate-spin",children:y.jsx(Tt,{name:"refresh-cw",size:32,color:"#3B82F6"})}),y.jsxs("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Connecting to ",e?.name||"External Component"]}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.type==="k8s"?"Connecting to Kubernetes service...":"Connecting to external service..."}),y.jsxs("div",{className:"mt-4 text-xs text-gray-400",children:[y.jsxs("div",{children:["Endpoint: ",i.endpoint]}),i.namespace&&y.jsxs("div",{children:["Namespace: ",i.namespace]}),i.service&&y.jsxs("div",{children:["Service: ",i.service]})]})]})});if(n==="error")return y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center max-w-md",children:[y.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:y.jsx(Tt,{name:"alert-triangle",size:48,color:"#EF4444"})}),y.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-2",children:"Connection Failed"}),y.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Unable to connect to ",e?.name||"external component"]}),y.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 mb-4",children:y.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:s})}),y.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:[y.jsxs("div",{children:["Type: ",i.type]}),y.jsxs("div",{children:["Endpoint: ",i.endpoint]}),i.namespace&&y.jsxs("div",{children:["Namespace: ",i.namespace]})]}),y.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Retry Connection"})]})});const m=i.path?`${i.endpoint}${i.path}`:i.endpoint;return y.jsxs("div",{className:"h-full flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${d==="healthy"?"bg-green-500":d==="checking"?"bg-yellow-500":"bg-red-500"}`}),y.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e?.name||i.componentId}),y.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.type==="k8s"?"Kubernetes":"External"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[d==="checking"&&y.jsx("div",{className:"w-4 h-4 animate-spin",children:y.jsx(Tt,{name:"refresh-cw",size:16,color:"#3B82F6"})}),d==="healthy"&&y.jsx(Tt,{name:"check-circle",size:16,color:"#10B981"}),y.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",title:"Open in new tab",children:y.jsx(Tt,{name:"external-link",size:16,color:"#6B7280"})})]})]}),y.jsx("div",{className:"flex-1 relative",children:y.jsx("iframe",{src:m,className:"w-full h-full border-0",title:e?.name||i.componentId,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-downloads",loading:"lazy",onLoad:()=>r("connected"),onError:()=>r("error")})})]})}const jI=({componentId:i})=>y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:y.jsx(Tt,{name:"server",size:48,color:"#9CA3AF"})}),y.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Component Not Found"}),y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:['Component "',i,'" is not registered in the component registry.']})]})}),FI=({name:i})=>y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-8 h-8 mx-auto mb-4 animate-spin",children:y.jsx(Tt,{name:"refresh-cw",size:32,color:"#3B82F6"})}),y.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Loading ",i,"..."]})]})}),qI=({error:i,componentName:e})=>y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 max-w-md",children:[y.jsx("div",{className:"w-8 h-8 mx-auto mb-4",children:y.jsx(Tt,{name:"alert-triangle",size:32,color:"#EF4444"})}),y.jsxs("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-2",children:["Error Loading ",e]}),y.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-4",children:i.message}),y.jsxs("details",{className:"text-xs text-red-500 dark:text-red-400",children:[y.jsx("summary",{className:"cursor-pointer",children:"Error Details"}),y.jsx("pre",{className:"mt-2 whitespace-pre-wrap",children:i.stack})]})]})});function KI(){const{currentLayout:i,activeTabId:e,updateTab:n,saveCurrentLayout:r,updateTabGridLayout:s,toggleTabGridLayout:l}=Ya();if(console.log("EnhancedComponentLoader: Rendering",{currentLayout:i,activeTabId:e}),!i||!e)return console.log("EnhancedComponentLoader: No layout or activeTabId"),null;const d=i.tabs.find(w=>w.id===e);if(console.log("EnhancedComponentLoader: Active tab",d),!d)return console.log("EnhancedComponentLoader: No active tab found"),null;const f=d.props?.componentLink,p=d.props?.template;if(f&&(f.type==="external"||f.type==="k8s"))return y.jsx(pC,{fallback:y.jsx(qI,{error:new Error("External component crashed"),componentName:d.name}),children:y.jsx(zI,{componentLink:f,template:p})});console.log("EnhancedComponentLoader: Looking for component",d.component),console.log("EnhancedComponentLoader: Full registry:",Object.keys(gC)),console.log("EnhancedComponentLoader: Active tab details:",JSON.stringify(d));let m=d.component;m&&m.startsWith("UserTab_")&&(console.log("EnhancedComponentLoader: Fixing old component ID:",m,"-> UserTabContainer"),m="UserTabContainer",n(e,{component:m}));const b=gC[m];if(!b)return console.log("EnhancedComponentLoader: Component not found in registry",m),y.jsx(jI,{componentId:m});console.log("EnhancedComponentLoader: Component loader found, creating lazy component");const S=N.lazy(async()=>{try{console.log("EnhancedComponentLoader: Loading component:",m);const w=await b();return console.log("EnhancedComponentLoader: Component loaded successfully:",m,w),w}catch(w){throw console.error("EnhancedComponentLoader: Failed to load component module:",m,w),w}});return console.log("EnhancedComponentLoader: Rendering component directly:",m),y.jsx("div",{className:"h-full w-full",children:y.jsx(pC,{children:y.jsx(N.Suspense,{fallback:y.jsx(FI,{name:d.name}),children:y.jsx("div",{className:"h-full w-full relative",style:{height:"100%",width:"100%"},children:y.jsx(S,{...d.props||{},tabId:d.id,type:d.type})})})})},`${d.id}-${m}`)}const dh="v20250809-143545",GI=new Date().toISOString().slice(0,10).replace(/-/g,""),VI=()=>{const i=dh.split("-")[0]?.replace("v","")||GI;return dh.split("-")[1],`Version: ${dh} | Build: ${i}`},YI=()=>{const[i,e]=N.useState(!1),{currentTheme:n}=mt();return y.jsxs("div",{style:{width:i?"60px":"320px",height:"calc(100vh - 88px)",backgroundColor:n.surface,borderRight:`1px solid ${n.border}`,padding:i?"16px 12px":"16px",paddingBottom:"16px",overflowY:"auto",transition:"width 0.3s ease",position:"relative",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",minHeight:"32px"},children:[!i&&y.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:n.primary,opacity:n.name==="GZC Light"||n.name==="Arctic"||n.name==="Parchment"||n.name==="Pearl"?.9:1,margin:0,letterSpacing:"0.5px"},children:"Market Intel"}),y.jsx("button",{onClick:()=>e(!i),style:{background:"none",border:"none",color:n.textSecondary,cursor:"pointer",padding:"6px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",marginLeft:i?0:"auto"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor=n.surface,r.currentTarget.style.color=n.text},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color=n.textSecondary},children:y.jsx(Tt,{name:i?"chevron-right":"chevron-left",size:16})})]}),!i&&y.jsxs(y.Fragment,{children:[y.jsx(QI,{}),y.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:y.jsx($I,{})})]}),i&&y.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[y.jsx("div",{style:{padding:"8px",borderRadius:"6px",backgroundColor:n.surface},title:"AI Agents",children:y.jsx(Tt,{name:"cpu",size:16,color:n.primary})}),y.jsx("div",{style:{padding:"8px",borderRadius:"6px"},title:"Notifications",children:y.jsx(Tt,{name:"bell",size:16,color:n.textSecondary})}),y.jsx("div",{style:{padding:"8px",borderRadius:"6px"},title:"Reports",children:y.jsx(Tt,{name:"file-text",size:16,color:n.textSecondary})}),y.jsx("div",{style:{padding:"8px",borderRadius:"6px"},title:"Azure Jobs",children:y.jsx(Tt,{name:"cloud",size:16,color:n.textSecondary})})]}),!i&&y.jsxs("div",{style:{marginTop:"auto",paddingTop:"16px",borderTop:`1px solid ${n.borderLight}`,fontSize:"10px",color:n.textTertiary},children:[y.jsxs("div",{style:{marginBottom:"6px"},children:[y.jsx("span",{style:{color:n.success},children:"●"})," All Systems Operational"]}),y.jsx("div",{style:{marginBottom:"6px"},children:VI()}),y.jsx("div",{children:"Professional Architecture | Content-Agnostic"})]})]})},QI=()=>{const[i,e]=N.useState("agents"),{currentTheme:n}=mt(),r=[{id:"agents",label:"AI Agents",icon:"cpu"},{id:"notifications",label:"Alerts",icon:"bell"},{id:"reports",label:"Reports",icon:"file-text"},{id:"azure",label:"Azure Jobs",icon:"cloud"}];return y.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${n.borderLight}`,marginBottom:"16px"},children:r.map(s=>y.jsxs("button",{onClick:()=>e(s.id),style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"8px 4px",border:"none",background:"none",cursor:"pointer",borderBottom:i===s.id?`2px solid ${n.primary}`:"2px solid transparent",transition:"all 0.2s ease"},children:[y.jsx(Tt,{name:s.icon,size:14,color:i===s.id?n.primary:n.textSecondary}),y.jsx("span",{style:{fontSize:"10px",color:i===s.id?n.primary:n.textSecondary,marginTop:"2px",fontWeight:i===s.id?600:400},children:s.label})]},s.id))})},$I=()=>{const{currentTheme:i}=mt();return y.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[y.jsxs("div",{style:{marginBottom:"20px"},children:[y.jsx("h4",{style:{fontSize:"11px",fontWeight:600,color:i.textSecondary,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Active AI Agents"}),y.jsx(hh,{name:"Market Sentiment Analyzer",status:"running",lastUpdate:"2 min ago",icon:"brain"}),y.jsx(hh,{name:"Risk Assessment Bot",status:"idle",lastUpdate:"15 min ago",icon:"shield"}),y.jsx(hh,{name:"News Impact Scorer",status:"running",lastUpdate:"1 min ago",icon:"newspaper"})]}),y.jsxs("div",{style:{marginBottom:"20px"},children:[y.jsx("h4",{style:{fontSize:"11px",fontWeight:600,color:i.textSecondary,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Recent Alerts"}),y.jsx(fh,{type:"info",message:"Federal Reserve speech at 2:00 PM EST",time:"10 min ago"}),y.jsx(fh,{type:"warning",message:"Unusual volume spike in EUR/USD",time:"25 min ago"}),y.jsx(fh,{type:"success",message:"Weekly report generated successfully",time:"1 hour ago"})]}),y.jsxs("div",{children:[y.jsx("h4",{style:{fontSize:"11px",fontWeight:600,color:i.textSecondary,marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Azure Job Queue"}),y.jsx(ph,{jobName:"Data Pipeline Sync",status:"completed",progress:100,eta:"Completed"}),y.jsx(ph,{jobName:"ML Model Training",status:"running",progress:67,eta:"8 min remaining"}),y.jsx(ph,{jobName:"Report Distribution",status:"queued",progress:0,eta:"Starting soon"})]})]})},hh=({name:i,status:e,lastUpdate:n,icon:r})=>{const{currentTheme:s}=mt(),l=e==="running"?s.success:e==="idle"?s.textSecondary:s.danger;return y.jsxs("div",{style:{padding:"8px",marginBottom:"6px",backgroundColor:s.surface,borderRadius:"4px",border:`1px solid ${s.borderLight}`},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[y.jsx(Tt,{name:r,size:12,color:s.primary,style:{opacity:s.name.includes("Light")||s.name==="Arctic"||s.name==="Parchment"||s.name==="Pearl"?.7:1}}),y.jsx("span",{style:{fontSize:"10px",fontWeight:500,color:s.text,marginLeft:"6px",flex:1},children:i}),y.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:l,opacity:s.name.includes("Light")||s.name==="Arctic"||s.name==="Parchment"||s.name==="Pearl"?.8:1}})]}),y.jsx("div",{style:{fontSize:"9px",color:s.textTertiary},children:n})]})},fh=({type:i,message:e,time:n})=>{const{currentTheme:r}=mt(),s={info:r.primary,warning:r.warning,success:r.success,error:r.danger},l={info:"info",warning:"alert-triangle",success:"check-circle",error:"x-circle"};return y.jsx("div",{style:{padding:"8px",marginBottom:"6px",backgroundColor:r.background,borderRadius:"4px",borderLeft:`3px solid ${s[i]}`},children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[y.jsx(Tt,{name:l[i],size:10,color:s[i]}),y.jsxs("div",{style:{marginLeft:"6px",flex:1},children:[y.jsx("div",{style:{fontSize:"10px",color:r.text,lineHeight:"12px",marginBottom:"2px"},children:e}),y.jsx("div",{style:{fontSize:"9px",color:r.textTertiary},children:n})]})]})})},ph=({jobName:i,status:e,progress:n,eta:r})=>{const{currentTheme:s}=mt(),l={running:s.primary,completed:s.success,queued:s.textSecondary,error:s.danger};return y.jsxs("div",{style:{padding:"8px",marginBottom:"6px",backgroundColor:s.surface,borderRadius:"4px",border:`1px solid ${s.borderLight}`},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[y.jsx("span",{style:{fontSize:"10px",fontWeight:500,color:s.text},children:i}),y.jsx("span",{style:{fontSize:"9px",color:l[e],textTransform:"uppercase",fontWeight:600},children:e})]}),y.jsx("div",{style:{width:"100%",height:"2px",backgroundColor:s.borderLight,borderRadius:"1px",marginBottom:"4px"},children:y.jsx("div",{style:{width:`${n}%`,height:"100%",backgroundColor:l[e],borderRadius:"1px",transition:"width 0.3s ease"}})}),y.jsx("div",{style:{fontSize:"9px",color:s.textTertiary},children:r})]})},JI=i=>{const{currentTheme:e}=mt();return e?y.jsx(mC,{...i,theme:e}):y.jsx(mC,{...i})};class mC extends N.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null,errorCount:0}}componentDidCatch(e,n){console.error("🚨 Component Error:",{component:this.props.componentName,error:e.message,stack:e.stack,componentStack:n.componentStack}),this.setState(r=>({error:e,errorInfo:n,errorCount:r.errorCount+1}))}render(){const e=this.props.theme;if(this.state.hasError&&this.state.error){const n={container:{padding:"20px",margin:"20px",background:e?.surface||"#2A2A2A",border:`2px solid ${e?.danger||"#D69A82"}`,borderRadius:"8px",color:e?.text||"#f8f6f0"},heading:{color:e?.danger||"#D69A82",marginBottom:"10px"},errorBox:{background:e?.background||"#1A1A1A",padding:"10px",borderRadius:"4px",marginBottom:"10px",fontSize:"14px"},summary:{cursor:"pointer",color:e?.primary||"#95BD78"},pre:{background:e?.background||"#1A1A1A",padding:"10px",borderRadius:"4px",fontSize:"11px",overflow:"auto",maxHeight:"200px"},count:{fontSize:"12px",color:e?.textSecondary||"#c8c0b0CC"},button:{marginTop:"10px",padding:"8px 16px",background:e?.primary||"#95BD78",color:e?.text||"#f8f6f0",border:"none",borderRadius:"4px",cursor:"pointer"}};return y.jsxs("div",{style:n.container,children:[y.jsxs("h2",{style:n.heading,children:["🚨 Component Error",this.props.componentName?`: ${this.props.componentName}`:""]}),y.jsxs("div",{style:n.errorBox,children:[y.jsx("strong",{children:"Error:"})," ",this.state.error.message]}),y.jsxs("details",{style:{marginBottom:"10px"},children:[y.jsx("summary",{style:n.summary,children:"Stack Trace"}),y.jsx("pre",{style:n.pre,children:this.state.error.stack})]}),this.state.errorInfo&&y.jsxs("details",{style:{marginBottom:"10px"},children:[y.jsx("summary",{style:n.summary,children:"Component Stack"}),y.jsx("pre",{style:n.pre,children:this.state.errorInfo.componentStack})]}),y.jsxs("div",{style:n.count,children:["Error count: ",this.state.errorCount]}),y.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},style:n.button,children:"Reload Page"})]})}return this.props.children}}const up=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ao=globalThis,Ua="9.35.0";function Il(){return dp(ao),ao}function dp(i){const e=i.__SENTRY__=i.__SENTRY__||{};return e.version=e.version||Ua,e[Ua]=e[Ua]||{}}function hp(i,e,n=ao){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Ua]=r[Ua]||{};return s[i]||(s[i]=e())}const XI="Sentry Logger ",yC=["debug","info","warn","error","log","assert","trace"],bC={};function fp(i){if(!("console"in ao))return i();const e=ao.console,n={},r=Object.keys(bC);r.forEach(s=>{const l=bC[s];n[s]=e[s],e[s]=l});try{return i()}finally{r.forEach(s=>{e[s]=n[s]})}}function ZI(){let i=!1;const e={enable:()=>{i=!0},disable:()=>{i=!1},isEnabled:()=>i};return up?yC.forEach(n=>{e[n]=(...r)=>{i&&fp(()=>{ao.console[n](`${XI}[${n}]:`,...r)})}}):yC.forEach(n=>{e[n]=()=>{}}),e}const vn=hp("logger",ZI),xT=Object.prototype.toString;function WI(i){switch(xT.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return oO(i,Error)}}function eO(i,e){return xT.call(i)===`[object ${e}]`}function tO(i){return eO(i,"Object")}function nO(i){return!!(i?.then&&typeof i.then=="function")}function oO(i,e){try{return i instanceof e}catch{return!1}}function rO(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.slice(0,e)}...`}function iO(i,e,n){try{Object.defineProperty(i,e,{value:n,writable:!0,configurable:!0})}catch{up&&vn.log(`Failed to add non-enumerable property "${e}" to object`,i)}}function aO(){const i=ao;return i.crypto||i.msCrypto}function La(i=aO()){let e=()=>Math.random()*16;try{if(i?.randomUUID)return i.randomUUID().replace(/-/g,"");i?.getRandomValues&&(e=()=>{const n=new Uint8Array(1);return i.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(e()&15)>>n/4).toString(16))}const RT=1e3;function pp(){return Date.now()/RT}function sO(){const{performance:i}=ao;if(!i?.now)return pp;const e=Date.now()-i.now(),n=i.timeOrigin==null?e:i.timeOrigin;return()=>(n+i.now())/RT}const cO=sO();function lO(i,e={}){if(e.user&&(!i.ipAddress&&e.user.ip_address&&(i.ipAddress=e.user.ip_address),!i.did&&!e.did&&(i.did=e.user.id||e.user.email||e.user.username)),i.timestamp=e.timestamp||cO(),e.abnormal_mechanism&&(i.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(i.ignoreDuration=e.ignoreDuration),e.sid&&(i.sid=e.sid.length===32?e.sid:La()),e.init!==void 0&&(i.init=e.init),!i.did&&e.did&&(i.did=`${e.did}`),typeof e.started=="number"&&(i.started=e.started),i.ignoreDuration)i.duration=void 0;else if(typeof e.duration=="number")i.duration=e.duration;else{const n=i.timestamp-i.started;i.duration=n>=0?n:0}e.release&&(i.release=e.release),e.environment&&(i.environment=e.environment),!i.ipAddress&&e.ipAddress&&(i.ipAddress=e.ipAddress),!i.userAgent&&e.userAgent&&(i.userAgent=e.userAgent),typeof e.errors=="number"&&(i.errors=e.errors),e.status&&(i.status=e.status)}function kT(i,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(i&&Object.keys(e).length===0)return i;const r={...i};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=kT(r[s],e[s],n-1));return r}function CC(){return La()}const Qh="_sentrySpan";function SC(i,e){e?iO(i,Qh,e):delete i[Qh]}function vC(i){return i[Qh]}const uO=100;class jo{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:CC(),sampleRand:Math.random()}}clone(){const e=new jo;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,SC(e,vC(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&lO(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,r=n instanceof jo?n.getScopeData():tO(n)?e:void 0,{tags:s,extra:l,user:d,contexts:f,level:p,fingerprint:m=[],propagationContext:b}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...f},d&&Object.keys(d).length&&(this._user=d),p&&(this._level=p),m.length&&(this._fingerprint=m),b&&(this._propagationContext=b),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,SC(this,void 0),this._attachments=[],this.setPropagationContext({traceId:CC(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:uO;if(r<=0)return this;const s={timestamp:pp(),...e,message:e.message?rO(e.message,2048):e.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:vC(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=kT(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n?.event_id||La();if(!this._client)return vn.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r?.event_id||La();if(!this._client)return vn.warn("No client configured on scope - will not capture message!"),s;const l=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:l,...r,event_id:s},this),s}captureEvent(e,n){const r=n?.event_id||La();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(vn.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function dO(){return hp("defaultCurrentScope",()=>new jo)}function hO(){return hp("defaultIsolationScope",()=>new jo)}class fO{constructor(e,n){let r;e?r=e:r=new jo;let s;n?s=n:s=new jo,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return nO(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function bi(){const i=Il(),e=dp(i);return e.stack=e.stack||new fO(dO(),hO())}function pO(i){return bi().withScope(i)}function gO(i,e){const n=bi();return n.withScope(()=>(n.getStackTop().scope=i,e(i)))}function TC(i){return bi().withScope(()=>i(bi().getIsolationScope()))}function mO(){return{withIsolationScope:TC,withScope:pO,withSetScope:gO,withSetIsolationScope:(i,e)=>TC(e),getCurrentScope:()=>bi().getScope(),getIsolationScope:()=>bi().getIsolationScope()}}function gp(i){const e=dp(i);return e.acs?e.acs:mO()}function Ol(){const i=Il();return gp(i).getCurrentScope()}function IT(){const i=Il();return gp(i).getIsolationScope()}function OT(...i){const e=Il(),n=gp(e);if(i.length===2){const[r,s]=i;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(i[0])}function mp(){return Ol().getClient()}const yO=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function bO(i){return i==="http"||i==="https"}function CO(i,e=!1){const{host:n,path:r,pass:s,port:l,projectId:d,protocol:f,publicKey:p}=i;return`${f}://${p}${e&&s?`:${s}`:""}@${n}${l?`:${l}`:""}/${r&&`${r}/`}${d}`}function SO(i){const e=yO.exec(i);if(!e){fp(()=>{console.error(`Invalid Sentry Dsn: ${i}`)});return}const[n,r,s="",l="",d="",f=""]=e.slice(1);let p="",m=f;const b=m.split("/");if(b.length>1&&(p=b.slice(0,-1).join("/"),m=b.pop()),m){const S=m.match(/^\d+/);S&&(m=S[0])}return NT({host:l,pass:s,path:p,projectId:m,port:d,protocol:n,publicKey:r})}function NT(i){return{protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function vO(i){if(!up)return!0;const{port:e,projectId:n,protocol:r}=i;return["protocol","publicKey","host","projectId"].find(d=>i[d]?!1:(vn.error(`Invalid Sentry Dsn: ${d} missing`),!0))?!1:n.match(/^\d+$/)?bO(r)?e&&isNaN(parseInt(e,10))?(vn.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(vn.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(vn.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function TO(i){const e=typeof i=="string"?SO(i):NT(i);if(!(!e||!vO(e)))return e}function EO(i){if(i)return AO(i)?{captureContext:i}:_O(i)?{captureContext:i}:i}function AO(i){return i instanceof jo||typeof i=="function"}const wO=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function _O(i){return Object.keys(i).some(e=>wO.includes(e))}function MT(i,e){return Ol().captureException(i,EO(e))}function xO(i,e){const n=e;return Ol().captureMessage(i,n,void 0)}function RO(){return IT().lastEventId()}function kO(i){const e=i.protocol?`${i.protocol}:`:"",n=i.port?`:${i.port}`:"";return`${e}//${i.host}${n}${i.path?`/${i.path}`:""}/api/`}function IO(i,e){const n=TO(i);if(!n)return"";const r=`${kO(n)}embed/error-page/`;let s=`dsn=${CO(n)}`;for(const l in e)if(l!=="dsn"&&l!=="onClose")if(l==="user"){const d=e.user;if(!d)continue;d.name&&(s+=`&name=${encodeURIComponent(d.name)}`),d.email&&(s+=`&email=${encodeURIComponent(d.email)}`)}else s+=`&${encodeURIComponent(l)}=${encodeURIComponent(e[l])}`;return`${r}?${s}`}const OO=100;function NO(i,e){const n=mp(),r=IT();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:l=OO}=n.getOptions();if(l<=0)return;const f={timestamp:pp(),...i},p=s?fp(()=>s(f,e)):f;p!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",p,e),r.addBreadcrumb(p,l))}const Tc=ao,EC=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function AC(i={}){const e=Tc.document,n=e?.head||e?.body;if(!n){EC&&vn.error("[showReportDialog] Global document not defined");return}const r=Ol(),l=mp()?.getDsn();if(!l){EC&&vn.error("[showReportDialog] DSN not configured");return}const d={...i,user:{...r.getUser(),...i.user},eventId:i.eventId||RO()},f=Tc.document.createElement("script");f.async=!0,f.crossOrigin="anonymous",f.src=IO(l,d);const{onLoad:p,onClose:m}=d;if(p&&(f.onload=p),m){const b=S=>{if(S.data==="__sentry_reportdialog_closed__")try{m()}finally{Tc.removeEventListener("message",b)}};Tc.addEventListener("message",b)}n.appendChild(f)}function MO(i){const e=i.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}function DO(i,e){const n=new WeakSet;function r(s,l){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,l);s.cause=l}}r(i,e)}function UO(i,{componentStack:e},n){if(MO(N.version)&&WI(i)&&e){const r=new Error(i.message);r.name=`React ErrorBoundary ${i.name}`,r.stack=e,DO(i,r)}return OT(r=>(r.setContext("react",{componentStack:e}),MT(i,n)))}const LO=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gh={componentStack:null,error:null,eventId:null};class PO extends N.Component{constructor(e){super(e),this.state=gh,this._openFallbackReportDialog=!0;const n=mp();n&&e.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&AC({...e.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(e,n){const{componentStack:r}=n,{beforeCapture:s,onError:l,showDialog:d,dialogOptions:f}=this.props;OT(p=>{s&&s(p,e,r);const m=this.props.handled!=null?this.props.handled:!!this.props.fallback,b=UO(e,n,{mechanism:{handled:m}});l&&l(e,r,b),d&&(this._lastEventId=b,this._openFallbackReportDialog&&AC({...f,eventId:b})),this.setState({error:e,componentStack:r,eventId:b})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===gh?s(null,null,null):s(e,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:e}=this.props,{error:n,componentStack:r,eventId:s}=this.state;e&&e(n,r,s),this.setState(gh)}render(){const{fallback:e,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof e=="function"?N.createElement(e,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):e;return N.isValidElement(s)?s:(e&&LO&&vn.warn("fallback did not produce a valid ReactElement"),null)}}const BO=PO;class di{static instance;logBuffer=[];flushInterval=5e3;maxBufferSize=100;intervalId=null;sessionId;constructor(){this.sessionId=`session-${Date.now()}`,this.startAutoFlush(),typeof window<"u"&&window.addEventListener("beforeunload",()=>{this.flush()})}static getInstance(){return di.instance||(di.instance=new di),di.instance}addLog(e){this.logBuffer.push(e),this.logBuffer.length>=this.maxBufferSize&&this.flush()}startAutoFlush(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.logBuffer.length>0&&this.flush()},this.flushInterval)}flush(){if(this.logBuffer.length===0)return;const e=[...this.logBuffer];this.logBuffer=[],this.sendToBackend(e),this.saveToLocalStorage(e)}async sendToBackend(e){console.debug("Debug logging disabled for production deployment"),this.saveToLocalStorage(e)}saveToLocalStorage(e){try{const n=`debug-logs-${this.sessionId}`,r=localStorage.getItem(n),s=r?JSON.parse(r):[];s.push(...e);const l=s.slice(-1e3);localStorage.setItem(n,JSON.stringify(l)),this.createDownloadableLog(l)}catch(n){console.error("Failed to save logs to localStorage:",n)}}createDownloadableLog(e){try{const n=e.map(s=>{const l=new Date(s.timestamp).toLocaleTimeString(),d=s.level.toUpperCase().padEnd(8),f=s.message,p=s.data?`
  Data: ${JSON.stringify(s.data,null,2)}`:"";return`[${l}] ${d} ${f}${p}`}).join(`
`),r=`data:text/plain;charset=utf-8,${encodeURIComponent(n)}`;sessionStorage.setItem("debug-logs-export",r)}catch(n){console.error("Failed to create downloadable log:",n)}}exportLogs(){const e=`debug-logs-${this.sessionId}`,n=localStorage.getItem(e);return JSON.stringify(n?{sessionId:this.sessionId,exportTime:new Date().toISOString(),logs:JSON.parse(n)}:{sessionId:this.sessionId,logs:[]},null,2)}downloadLogs(){const e=this.exportLogs(),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`debug-logs-${this.sessionId}-${Date.now()}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}clearLogs(){this.logBuffer=[];const e=`debug-logs-${this.sessionId}`;localStorage.removeItem(e),sessionStorage.removeItem("debug-logs-export")}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.flush()}}const HO=di.getInstance();class zO{logs=[];maxLogs=1e3;listeners=new Set;isProduction=!0;constructor(){this.setupGlobalErrorHandlers(),this.setupConsoleInterceptors(),this.setupReactErrorHandling()}setupGlobalErrorHandlers(){window.addEventListener("error",e=>{this.critical("Unhandled Error",{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error:e.error},e.error)}),window.addEventListener("unhandledrejection",e=>{this.critical("Unhandled Promise Rejection",{reason:e.reason,promise:e.promise},e.reason)})}setupConsoleInterceptors(){const e={log:console.log,warn:console.warn,error:console.error,debug:console.debug};console.log=(...n)=>{this.info("Console Log",{args:n}),e.log(...n)},console.warn=(...n)=>{this.warn("Console Warning",{args:n}),e.warn(...n)},console.error=(...n)=>{this.error("Console Error",{args:n}),e.error(...n)},console.debug=(...n)=>{this.debug("Console Debug",{args:n}),e.debug(...n)}}setupReactErrorHandling(){if(typeof window<"u"&&window.React){const e=console.error;console.error=(...n)=>{(n[0]?.includes?.("React")||n[0]?.includes?.("Component"))&&this.error("React Error",{args:n,stack:new Error().stack}),e(...n)}}}createLogEntry(e,n,r,s,l){const d={timestamp:new Date().toISOString(),level:e,category:n,message:r,data:s,error:l,stack:l?.stack||new Error().stack};return this.logs.push(d),this.logs.length>this.maxLogs&&this.logs.shift(),HO.addLog({timestamp:d.timestamp,level:d.level,message:`[${d.category}] ${d.message}`,data:d.data,source:d.category}),this.listeners.forEach(f=>f(d)),e==="error"||e==="critical"?MT(l||new Error(r),{level:e==="critical"?"fatal":"error",tags:{category:n},extra:s}):e==="warn"&&xO(r,"warning"),d}debug(e,n){return this.createLogEntry("debug","Debug",e,n)}info(e,n){return this.createLogEntry("info","Info",e,n)}warn(e,n){return this.createLogEntry("warn","Warning",e,n)}error(e,n,r){return this.createLogEntry("error","Error",e,n,r)}critical(e,n,r){return this.createLogEntry("critical","Critical",e,n,r)}componentLoad(e,n,r,s){const l=n?"info":"error",d=n?`Component loaded: ${e}`:`Component failed to load: ${e}`,f={componentName:e,success:n,metadata:s,...!n&&{errorMessage:r?.message,errorStack:r?.stack}};this.createLogEntry(l,"ComponentLoader",d,f,r),NO({category:"component",message:d,level:n?"info":"error",data:f})}networkRequest(e,n,r,s){const l=r&&r>=200&&r<300,d=s?"error":l?"info":"warn",f={url:e,method:n,status:r,success:l,error:s?.message};this.createLogEntry(d,"Network",`${n} ${e} - ${r||"Failed"}`,f,s)}getLogs(e){return e?this.logs.filter(n=>!(e.level&&n.level!==e.level||e.category&&!n.category.includes(e.category))):[...this.logs]}clearLogs(){this.logs=[]}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}exportLogs(){return JSON.stringify(this.logs,null,2)}downloadLogs(){const e=new Blob([this.exportLogs()],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=`debug-logs-${new Date().toISOString()}.json`,r.click(),URL.revokeObjectURL(n)}}const so=new zO,g2=so.componentLoad.bind(so);so.networkRequest.bind(so);so.error.bind(so);so.critical.bind(so);const jO=({isOpen:i,onLogin:e})=>{const{login:n}=Qa();N.useEffect(()=>{const s=l=>{l.key==="Escape"&&e()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e]);const r=async()=>{try{await n(),e()}catch(s){console.error("Login failed:",s)}};return y.jsx(Ho,{children:i&&y.jsxs(y.Fragment,{children:[y.jsx(Ke.div,{className:"fixed inset-0 bg-gzc-off-white dark:bg-gradient-to-br dark:from-[#0f172a] dark:via-[#1e293b] dark:to-[#020617] z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),y.jsx(Ke.div,{className:"fixed inset-0 z-50 flex items-center justify-center",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:y.jsxs("div",{className:"relative w-full max-w-sm p-8 rounded-xl shadow-xl bg-gzc-white dark:bg-gzc-mid-black border border-gzc-light-grey dark:border-gzc-dark-grey text-center text-gzc-mid-black dark:text-gzc-light-grey",children:[y.jsxs("div",{className:"text-3xl font-semibold mb-1",children:["GZC"," ",y.jsx("span",{className:"text-sm font-normal text-gzc-dark-grey dark:text-gzc-light-grey",children:"| Investment Management"})]}),y.jsxs("button",{onClick:r,className:"mt-6 flex items-center justify-center gap-3 w-full bg-gzc-light-grey dark:bg-gzc-black hover:bg-gzc-off-white dark:hover:bg-gzc-light-black border border-gzc-light-black dark:border-gzc-dark-grey py-3 px-6 rounded-md text-gzc-mid-black dark:text-gzc-light-grey text-sm font-medium mb-6 transition",children:[y.jsx("span",{children:"🔐"}),"Sign in with Microsoft Authenticator"]}),y.jsxs("p",{className:"text-sm text-gzc-dark-grey dark:text-gzc-light-grey",children:["New to GZC?"," ",y.jsx("span",{className:"text-gzc-flash-green cursor-pointer hover:underline",children:"Create an account"})]}),y.jsx("div",{className:"absolute top-2 right-3",children:y.jsx("button",{onClick:e,className:"text-gzc-dark-grey dark:text-gzc-light-grey hover:text-gzc-mid-black dark:hover:text-white text-xl font-bold",children:"×"})})]})})]})})},Mc={checkViewMemory:()=>{const i=localStorage.getItem("gzc-platform-view-memory");if(i)try{const e=JSON.parse(i);return console.group("📊 View Memory System"),console.log("Current Theme:",e.theme?.currentTheme||"Not set"),console.log("Theme System Data:",e.theme?.themeSystem||"Not initialized"),console.log("Full Memory:",e),console.groupEnd(),e}catch(e){console.error("❌ Failed to parse view memory:",e)}else console.log("📭 No view memory found")},checkThemeStorage:()=>{const i=localStorage.getItem("gzc-intel-theme"),e=localStorage.getItem("gzc-intel-layouts"),n=localStorage.getItem("gzc-intel-active-layout");return console.group("🎨 Theme Storage System"),console.log("Current Theme:",i||"Not set"),console.log("Saved Layouts:",e?JSON.parse(e):"None"),console.log("Active Layout:",n||"default"),console.groupEnd(),{theme:i,layouts:e,activeLayout:n}},checkThemeSystem:()=>{console.group("🏗️ Theme System Status"),fetch("/STYLE_GUIDE.md").then(n=>{console.log("✅ Style Guide:",n.ok?"Available":"Not found")}).catch(()=>console.log("❌ Style Guide: Not accessible")),console.log("Theme Definitions: /src/theme/themes.ts"),console.log("Theme Context: /src/contexts/ThemeContext.tsx"),console.log("Theme Selector: /src/components/ThemeSelector.tsx");const i=document.documentElement,e=i.style.getPropertyValue("--theme-primary");console.log("Applied Primary Color:",e||"Not applied"),console.log("Theme Data Attribute:",i.getAttribute("data-theme")||"Not set"),console.groupEnd()},fullReport:()=>{console.group("🔍 Complete Memory System Report"),Mc.checkViewMemory(),Mc.checkThemeStorage(),Mc.checkThemeSystem(),console.groupEnd()},clearAllMemory:()=>{confirm("⚠️ This will clear ALL stored data. Continue?")&&(localStorage.removeItem("gzc-platform-view-memory"),localStorage.removeItem("gzc-intel-theme"),localStorage.removeItem("gzc-intel-layouts"),localStorage.removeItem("gzc-intel-active-layout"),console.log("🧹 All memory cleared. Refresh to reset to defaults."))},initializeThemeSystem:()=>{const i={currentTheme:"gzc-dark",themeSystem:{availableThemes:["gzc-dark","analytics-dark","terminal-green","trading-ops","midnight-trading","quantum-analytics","professional","institutional","arctic","parchment","pearl"],gzcGreenSystem:{base:"#7A9E65",light:"#95BD78",dark:"#5B7C4B",opacityVariants:["E6","CC","99","66","33","1A"]},lightThemeDetection:["institutional","arctic","parchment","pearl"],componentStyling:{logoColorLogic:"Light themes: theme.text | Dark themes: #E0E0E0",tabBackgroundLogic:"Arctic: rgba(0,0,0,0.05) | Others: theme.primary + 20",arcticMonochromaticApproach:"Selected: rgba(0,0,0,0.05) | Hover: rgba(0,0,0,0.02)"},designPrinciples:{singleGreenPhilosophy:"Use GZC green base with opacity variations, not multiple greens",institutionalIdentity:"All themes maintain GZC green #7A9E65 for success states",monochromaticInteractions:"Prefer brightness/opacity over color changes for interactions"},fileLocations:{themeDefinitions:"/src/theme/themes.ts",themeContext:"/src/contexts/ThemeContext.tsx",themeSelector:"/src/components/ThemeSelector.tsx",styleGuide:"/STYLE_GUIDE.md"}}},e=localStorage.getItem("gzc-platform-view-memory");let n={};if(e)try{n=JSON.parse(e)}catch{console.warn("Failed to parse existing memory, creating new")}n={...n,theme:{...n.theme,...i}},localStorage.setItem("gzc-platform-view-memory",JSON.stringify(n)),console.log("✅ Theme system initialized in view memory")}};typeof window<"u"&&(window.memoryInspector=Mc,console.log("🔧 Memory Inspector available: Use memoryInspector.fullReport() to check system status"));function FO(){try{const i=localStorage.getItem("gzc-intel-layouts");if(i){const r=JSON.parse(i);let s=!1;r.forEach(l=>{l.tabs.forEach(d=>{d.component&&d.component.startsWith("UserTab_")&&(console.log(`Fixing component ID: ${d.component} -> UserTabContainer`),d.component="UserTabContainer",s=!0)})}),s&&(localStorage.setItem("gzc-intel-layouts",JSON.stringify(r)),console.log("Fixed component IDs in layouts"))}const e=localStorage.getItem("gzc-intel-current-layout");if(e){const r=JSON.parse(e);let s=!1;r.tabs&&(r.tabs.forEach(l=>{l.component&&l.component.startsWith("UserTab_")&&(console.log(`Fixing component ID in current layout: ${l.component} -> UserTabContainer`),l.component="UserTabContainer",s=!0)}),s&&(localStorage.setItem("gzc-intel-current-layout",JSON.stringify(r)),console.log("Fixed component IDs in current layout")))}const n=localStorage.getItem("gzc-intel-app-state");if(n){const r=JSON.parse(n);let s=!1;r.tabs&&r.tabs.layouts&&(r.tabs.layouts.forEach(l=>{l.tabs.forEach(d=>{d.component&&d.component.startsWith("UserTab_")&&(console.log(`Fixing component ID in app state: ${d.component} -> UserTabContainer`),d.component="UserTabContainer",s=!0)})}),s&&(localStorage.setItem("gzc-intel-app-state",JSON.stringify(r)),console.log("Fixed component IDs in app state")))}return!0}catch(i){return console.error("Error fixing component IDs:",i),!1}}FO();function qO(){const{currentTheme:i}=mt(),{isAuthenticated:e}=Qa(),[n,r]=N.useState(!1),{currentLayout:s,activeTabId:l,toggleTabEditMode:d}=Ya();s?.tabs.find(p=>p.id===l),N.useEffect(()=>{r(!e)},[e]);const f=()=>{e&&r(!1)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:i.background,color:i.text},children:[y.jsx(HI,{}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",style:{position:"relative"},children:[y.jsx(YI,{}),y.jsx("main",{className:"flex-1 overflow-hidden",style:{backgroundColor:i.background,paddingBottom:"40px"},children:y.jsx(KI,{})})]}),y.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:i.surface+"EE",borderTop:`1px solid ${i.border}`,padding:"6px 16px",fontSize:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"40px",zIndex:1e3,backdropFilter:"blur(12px)"},children:[y.jsx("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:y.jsx("span",{style:{color:i.success},children:"● All Systems Operational"})}),y.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[y.jsxs("span",{style:{color:i.textSecondary},children:["Month to Date P&L:"," ",y.jsx("span",{style:{color:i.success},children:"+$86,930.45"})]}),y.jsx("span",{style:{color:i.textSecondary},children:"|"}),y.jsxs("span",{style:{color:i.textSecondary},children:["Daily P&L:"," ",y.jsx("span",{style:{color:i.success},children:"+$12,886.81"})]})]})]})]}),y.jsx(jO,{isOpen:n,onLogin:f}),!1]})}function KO(){return N.useEffect(()=>{so.info("App initialized",{timestamp:new Date().toISOString(),userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},localStorage:{keys:Object.keys(localStorage),size:new Blob(Object.values(localStorage)).size}})},[]),y.jsx(BO,{fallback:({error:i})=>y.jsxs("div",{style:{padding:"20px",color:"#ff0000"},children:[y.jsx("h2",{children:"Application Error"}),y.jsx("details",{style:{whiteSpace:"pre-wrap"},children:i?.toString()})]}),showDialog:!0,children:y.jsx(SI,{children:y.jsx(JI,{componentName:"App",children:y.jsx(aI,{children:y.jsx(TI,{children:y.jsx(LI,{mockMode:!1,autoConnect:!0,children:y.jsx(fI,{children:y.jsx(wI,{children:y.jsx(iA,{children:y.jsx(qO,{})})})})})})})})})})}class GO{static errors=[];static init(){if(window.addEventListener("error",e=>{this.logError({type:"global-error",message:e.message,stack:e.error?.stack,component:e.filename})}),window.addEventListener("unhandledrejection",e=>{this.logError({type:"unhandled-rejection",message:e.reason?.message||String(e.reason),stack:e.reason?.stack})}),typeof window<"u"&&window.React){const e=console.error;console.error=(...n)=>{n[0]?.includes?.("React")&&this.logError({type:"react-error",message:n.join(" ")}),e.apply(console,n)}}}static logError(e){const n={timestamp:new Date,...e};this.errors.push(n),this.errors.length>100&&(this.errors=this.errors.slice(-100)),console.group(`🚨 ${e.type}`),console.error("Message:",e.message),e.component&&console.error("Component:",e.component),e.stack&&console.error("Stack:",e.stack),console.groupEnd();try{localStorage.setItem("error-monitor-log",JSON.stringify(this.errors))}catch{}}static getErrors(){return this.errors}static clearErrors(){this.errors=[],localStorage.removeItem("error-monitor-log")}static getErrorSummary(){const e={};return this.errors.forEach(n=>{e[n.type]=(e[n.type]||0)+1}),e}}typeof window<"u"&&GO.init();try{const i=Object.keys(localStorage).reduce((e,n)=>e+(localStorage[n]?.length||0),0);i>3*1024*1024&&(console.warn("🧹 Emergency localStorage cleanup - size:",(i/1024/1024).toFixed(2)+"MB"),Object.keys(localStorage).filter(n=>n.includes("tabLayouts")||n.includes("canvas-state")||n.includes("-old")||n.includes("backup")||localStorage[n]?.length>1e5).forEach(n=>{console.log("🗑️ Removing large localStorage key:",n,(localStorage[n]?.length/1024).toFixed(1)+"KB"),localStorage.removeItem(n)}))}catch(i){console.error("Storage cleanup failed:",i);try{const e=["msal.","gzc-intel-user"],n={};e.forEach(r=>{Object.keys(localStorage).forEach(s=>{s.includes(r)&&(n[s]=localStorage[s])})}),localStorage.clear(),Object.entries(n).forEach(([r,s])=>{localStorage.setItem(r,s)}),console.log("🚨 Emergency localStorage reset completed")}catch(e){console.error("Emergency reset failed:",e),localStorage.clear()}}uA.createRoot(document.getElementById("root")).render(y.jsx(N.StrictMode,{children:y.jsx(b1,{instance:E1,children:y.jsx(KO,{})})}));export{kI as C,bc as _,Qa as a,QO as b,Lt as c,CT as d,ET as e,_T as f,Ge as g,so as h,MT as i,Ya as j,ST as k,g2 as l,mt as u,OT as w};
